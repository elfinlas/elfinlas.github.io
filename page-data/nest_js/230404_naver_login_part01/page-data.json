{"componentChunkName":"component---src-templates-post-template-index-tsx","path":"/nest_js/230404_naver_login_part01/","result":{"data":{"cur":{"id":"60f40a23-9427-52aa-9e35-63c94c94bfea","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 52.222222222222214%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABeElEQVQoz5VSTUsCURT1X7TqY9O+VbRQIdpWizZCqxb1A4JWBS3cFAgtIspNiyCCoEVBRWJJQhqWFbop6GNg+nJSEccZ5+PNeyfm6ehIRnbgvHfhvXvu4d7rAQBGKacbjDFOd/wXbXicwIEliND2I+2F7cKu2Hl3//VwkVwe8nwIBV8AheFJFPwBkCeh1bFFWxL5TazarVTBTFJzaB/y4gqkXh+kHi9y3V4Ux2c47UK0okDd3IW2dwwzcw8jcQ395BzGVQba4RnIo4DK8gas14+mIJUrYFUNRjyFr4FRSP0jyHUNwkikQWUFcnAV+mmCF5YXQjBvstAjcZRng1y0srQOWizVe2jVbBupO6jhbZSm5iD1+ZEfmgARRDC1Cu0oBjOdhXF5C+0gCj2W5I5sUfLwDD16Aevtsy5Ia/0gLyLU8A6UtS0Ux6ZhJNMtze8EjaG4J2WJ76Bluf26UNaYtGPEWbkfa8M/EdKs5iT+gw3BX3eNtbrvBN9Ty+sRGu0ozQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/b7685b7a900370c34be4e657df3f862d/7c297/thumbnail_nestjs.webp 180w,\n/static/b7685b7a900370c34be4e657df3f862d/33ecc/thumbnail_nestjs.webp 360w,\n/static/b7685b7a900370c34be4e657df3f862d/84c6d/thumbnail_nestjs.webp 700w\"\n              sizes=\"(max-width: 700px) 100vw, 700px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/b7685b7a900370c34be4e657df3f862d/e9ea2/thumbnail_nestjs.png 180w,\n/static/b7685b7a900370c34be4e657df3f862d/53918/thumbnail_nestjs.png 360w,\n/static/b7685b7a900370c34be4e657df3f862d/a27c6/thumbnail_nestjs.png 700w\"\n            sizes=\"(max-width: 700px) 100vw, 700px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/b7685b7a900370c34be4e657df3f862d/a27c6/thumbnail_nestjs.png\"\n            alt=\"thumbnail\"\n            title=\"thumbnail\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<br>\n<h2 id=\"네이버-로그인-포스팅-3부작\" style=\"position:relative;\"><a href=\"#%EB%84%A4%EC%9D%B4%EB%B2%84-%EB%A1%9C%EA%B7%B8%EC%9D%B8-%ED%8F%AC%EC%8A%A4%ED%8C%85-3%EB%B6%80%EC%9E%91\" aria-label=\"네이버 로그인 포스팅 3부작 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>네이버 로그인 포스팅 3부작</h2>\n<p><a href=\"https://elfinlas.github.io/nest_js/230404_naver_login_part01/\">(현재 글) Part01 네이버 로그인 구현하기 (Nest.js 코드 구현)</a><br>\n<a href=\"https://elfinlas.github.io/nest_js/230405_naver_login_part02/\">Part02 네이버 로그인 구현하기 (네이버 개발자 센터)</a><br>\n<a href=\"https://elfinlas.github.io/nest_js/230405_naver_login_part03/\">Part03 네이버 로그인 구현하기 (검수 요청 및 거절 그리고 기타 경험)</a></p>\n<hr>\n<br>\n<h1 id=\"서비스에-sns-로그인을-구현하려-했다-sns-naver-oauth-login\" style=\"position:relative;\"><a href=\"#%EC%84%9C%EB%B9%84%EC%8A%A4%EC%97%90-sns-%EB%A1%9C%EA%B7%B8%EC%9D%B8%EC%9D%84-%EA%B5%AC%ED%98%84%ED%95%98%EB%A0%A4-%ED%96%88%EB%8B%A4-sns-naver-oauth-login\" aria-label=\"서비스에 sns 로그인을 구현하려 했다 sns naver oauth login permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>서비스에 SNS 로그인을 구현하려 했다. (SNS Naver OAuth Login)</h1>\n<p>흑우집합소를 개발하다가 사용자 계정 관련해서 사용자 계정과 관련하여 고민을 했다.<br>\n직접 계정 가입을 받을 것인지… 아니면 SNS를 활용한 계정을 처리할 것인지…</p>\n<p>마음은 SNS 로그인쪽으로 기울긴 했다.<br>\n왜냐하면 직접 받는다면, 계정의 신원을 E-Mail로 잡을텐데 여기서 검증 이메일을 보내는 로직과 더불어,<br>\n일일히 계정 정보를 다 입력받는 창을 만들고 하면 시간이 너무 많이 먹을 듯 싶었다.</p>\n<p>그래서 구글 네이버 카카오를 사용하기로 결정했다.</p>\n<p>카카오 사태때 SNS 로그인 문제가 있던걸 봐서 고민을 좀 했지만…<br>\n이 부분은 내가 따로 구현처리해서 피할 수 있는 것 같아서 SNS 로그인을 선택했다.</p>\n<p>내가 직접 한 부분을 다 녹여낸 포스팅이니 참고하면 붙이는데 도움이 되실 것이라 사료된다.</p>\n<p>설명에 앞서 Part01에서는 코드 구현부분이 들어가 있다.<br>\n그리고 Part02에서는 네이버 개발자 센터에서 할 일이 있고,<br>\nPart03에서는 몇 가지 정리할 내용들이 들어간다.</p>\n<h2 id=\"뭐-먼저-할까\" style=\"position:relative;\"><a href=\"#%EB%AD%90-%EB%A8%BC%EC%A0%80-%ED%95%A0%EA%B9%8C\" aria-label=\"뭐 먼저 할까 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>뭐 먼저 할까?</h2>\n<p>코딩적인 부분은 그냥 쉽게쉽게 하던대로 하면 편하지만, 네이버 개발자 센터가 약간 귀찮다.<br>\n아래 순서로 진행해보자.</p>\n<h3 id=\"1-nestjs에-라이브러리-설치\" style=\"position:relative;\"><a href=\"#1-nestjs%EC%97%90-%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC-%EC%84%A4%EC%B9%98\" aria-label=\"1 nestjs에 라이브러리 설치 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. Nest.Js에 라이브러리 설치</h3>\n<p>먼저 아래의 패키지들을 설치해주자.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">yarn add @nestjs/passport\nyarn add passport\nyarn add passport-naver-v2</code></pre></div>\n<p>뭐 npm을 쓰면 npm으로 바꿔서 설치하면 된다.<br>\n참고로 <a href=\"https://www.npmjs.com/package/passport-naver-v2\">passport-naver-v2</a>는 네이버에서 구현한 passport-naver를 개량한 버전이다.<br>\n네이버에서 만든게 아니라 개인이 만드신 듯 하다.</p>\n<br>\n<h3 id=\"2-naver-authguard-작성\" style=\"position:relative;\"><a href=\"#2-naver-authguard-%EC%9E%91%EC%84%B1\" aria-label=\"2 naver authguard 작성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Naver AuthGuard 작성</h3>\n<p>이제 AuthGuard를 작성해야 한다.<br>\nNest.Js에서 AuthGuard에 대해서는 추후 포스팅하고 여기에 업데이트 하도록 하겠다.</p>\n<p>아래 나오는 것은 샘플 코드이므로 본인의 취향에 맞게 작성해도 된다.<br>\n여기 나온 코드나 위치는 참고만…</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> ExecutionContext<span class=\"token punctuation\">,</span> Injectable <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@nestjs/common'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> AuthGuard <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@nestjs/passport'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Injectable</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">NaverAuthGuard</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">AuthGuard</span><span class=\"token punctuation\">(</span><span class=\"token string\">'naver'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token generic-function\"><span class=\"token function\">handleRequest</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>TUser <span class=\"token operator\">=</span> <span class=\"token builtin\">any</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>err<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">,</span> user<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">,</span> info<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">,</span> context<span class=\"token operator\">:</span> ExecutionContext<span class=\"token punctuation\">,</span> status<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> TUser <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">//에러가 존재하면 에러 처리로 넘긴다.</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>err <span class=\"token operator\">||</span> <span class=\"token operator\">!</span>user<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">throw</span> err<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> user<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>handleRequest</strong>메서드의 경우 저 nestjs의 AuthGuard의 선언된 타입 중 하나를 구현한 것이다.<br>\n그래서 만약 처리 중 에러가 발생할 경우 에러 자체를 넘겨서 처리할 수 있도록 했다.</p>\n<p>아래 원형을 참고하자.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">declare</span> <span class=\"token keyword\">type</span> <span class=\"token class-name\">IAuthGuard</span> <span class=\"token operator\">=</span> CanActivate <span class=\"token operator\">&amp;</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token generic-function\"><span class=\"token function\">logIn</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>\n    TRequest <span class=\"token keyword\">extends</span> <span class=\"token punctuation\">{</span>\n      logIn<span class=\"token operator\">:</span> <span class=\"token builtin\">Function</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">,</span>\n  <span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>\n    request<span class=\"token operator\">:</span> TRequest<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">void</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n  <span class=\"token generic-function\"><span class=\"token function\">handleRequest</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>TUser <span class=\"token operator\">=</span> <span class=\"token builtin\">any</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>err<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">,</span> user<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">,</span> info<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">,</span> context<span class=\"token operator\">:</span> ExecutionContext<span class=\"token punctuation\">,</span> status<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> TUser<span class=\"token punctuation\">;</span>\n  <span class=\"token function\">getAuthenticateOptions</span><span class=\"token punctuation\">(</span>context<span class=\"token operator\">:</span> ExecutionContext<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> IAuthModuleOptions <span class=\"token operator\">|</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">declare</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">AuthGuard</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>type<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">|</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> Type<span class=\"token operator\">&lt;</span>IAuthGuard<span class=\"token operator\">></span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>에러는 보통 ExceptionHandler로 처리를 할텐데 이 부분에 대해서는 각자 처리하는 방식이 있기에,<br>\n여기서는 논외로 하겠다.</p>\n<br>\n<h3 id=\"3-naver-strategy-수립-및-코드-작성\" style=\"position:relative;\"><a href=\"#3-naver-strategy-%EC%88%98%EB%A6%BD-%EB%B0%8F-%EC%BD%94%EB%93%9C-%EC%9E%91%EC%84%B1\" aria-label=\"3 naver strategy 수립 및 코드 작성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. Naver Strategy 수립 및 코드 작성</h3>\n<p><strong>Strategy</strong>의 경우에도 nest.js의 전략(Strategy)를 받아서 구현하는데,<br>\n이 부분도 향후에 다시 다뤄볼 예정이다.</p>\n<p>일단 내가 구현한 Naver Strategy 코드는 다음과 같다.<br>\n보안을 위해 일부 코드는 누락되어 있으니 참고만 하자.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Inject<span class=\"token punctuation\">,</span> Injectable <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@nestjs/common'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> PassportStrategy <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@nestjs/passport'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Request <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'express'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Profile<span class=\"token punctuation\">,</span> Strategy <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'passport-naver-v2'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> AccountErrorCode <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'src/domain/account/exceptions/account.error.code'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> AccountException <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'src/domain/account/exceptions/account.exception'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>\n  IsExistAccountInboundPort<span class=\"token punctuation\">,</span>\n  <span class=\"token constant\">IS_EXIST_ACCOUNT_INBOUND_PORT</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'src/domain/account/ports/in/is.exist.account.inbound.port'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>\n  JoinAccountInboundPort<span class=\"token punctuation\">,</span>\n  <span class=\"token constant\">JOIN_ACCOUNT_INBOUND_PORT</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'src/domain/account/ports/in/join.account.inbound.port'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>\n  LoginAccountInboundPort<span class=\"token punctuation\">,</span>\n  <span class=\"token constant\">LOGIN_ACCOUNT_INBOUND_PORT</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'src/domain/account/ports/in/login.account.inbound.port'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token constant\">ACCOUNT_FIND_TYPE</span><span class=\"token punctuation\">,</span>\n  <span class=\"token constant\">ACCOUNT_JOIN_TYPE</span><span class=\"token punctuation\">,</span>\n  <span class=\"token constant\">ACCOUNT_STATUS_TYPE</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'src/domain/account/types/account.enums'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>\n  CreateJwtOutboundPort<span class=\"token punctuation\">,</span>\n  <span class=\"token constant\">CREATE_JWT_OUTBOUND_PORT</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../ports/out/jwt/create.jwt.outbound.port'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> SnsLoginOutputDto <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../types/strategy.type'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> snsAccountJoin <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./helper/join.account.helper'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> snsLoginAccount <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./helper/sns.login.helper'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> makeNickName <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'src/domain/account/utils/make.nickname.util'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>\n  IsResignAccountInboundPort<span class=\"token punctuation\">,</span>\n  <span class=\"token constant\">IS_RESIGN_ACCOUNT_INBOUND_PORT</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'src/domain/account/ports/in/is.resign.account.inbound.port'</span>\n\n<span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Injectable</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">NaverOAuthStrategy</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">PassportStrategy</span><span class=\"token punctuation\">(</span>Strategy<span class=\"token punctuation\">,</span> <span class=\"token string\">'naver'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span>\n    <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Inject</span></span><span class=\"token punctuation\">(</span><span class=\"token constant\">JOIN_ACCOUNT_INBOUND_PORT</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">readonly</span> joinAccountOutboundPort<span class=\"token operator\">:</span> JoinAccountInboundPort<span class=\"token punctuation\">,</span>\n    <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Inject</span></span><span class=\"token punctuation\">(</span><span class=\"token constant\">LOGIN_ACCOUNT_INBOUND_PORT</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">readonly</span> loginAccountInboundPort<span class=\"token operator\">:</span> LoginAccountInboundPort<span class=\"token punctuation\">,</span>\n\n    <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Inject</span></span><span class=\"token punctuation\">(</span><span class=\"token constant\">IS_EXIST_ACCOUNT_INBOUND_PORT</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">readonly</span> isExistAccountInboundPort<span class=\"token operator\">:</span> IsExistAccountInboundPort<span class=\"token punctuation\">,</span>\n    <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Inject</span></span><span class=\"token punctuation\">(</span><span class=\"token constant\">CREATE_JWT_OUTBOUND_PORT</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">readonly</span> createJwtOutboundPort<span class=\"token operator\">:</span> CreateJwtOutboundPort<span class=\"token punctuation\">,</span>\n    <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Inject</span></span><span class=\"token punctuation\">(</span><span class=\"token constant\">IS_RESIGN_ACCOUNT_INBOUND_PORT</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">readonly</span> isResignAcountInbound<span class=\"token operator\">:</span> IsResignAccountInboundPort\n  <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      clientID<span class=\"token operator\">:</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">NAVER_CLIENT_ID</span><span class=\"token punctuation\">,</span>\n      clientSecret<span class=\"token operator\">:</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">NAVER_CLIENT_PW</span><span class=\"token punctuation\">,</span>\n      callbackURL<span class=\"token operator\">:</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">NAVER_CALLBACK</span><span class=\"token punctuation\">,</span>\n      passReqToCallback<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">async</span> <span class=\"token function\">validate</span><span class=\"token punctuation\">(</span>\n    req<span class=\"token operator\">:</span> Request<span class=\"token punctuation\">,</span>\n    accessToken<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span>\n    refreshToken<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span>\n    profile<span class=\"token operator\">:</span> Profile\n  <span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span>SnsLoginOutputDto<span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> email <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> profile\n\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>email <span class=\"token operator\">===</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n        email<span class=\"token operator\">:</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span>\n        joinType<span class=\"token operator\">:</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span>\n        lastLoginInfo<span class=\"token operator\">:</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span>\n        accessToken<span class=\"token operator\">:</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span>\n        bcode<span class=\"token operator\">:</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">//탈퇴 6개월 이내를 체크한다.</span>\n    <span class=\"token keyword\">const</span> isResignAccount <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>isResignAcountInbound<span class=\"token punctuation\">.</span><span class=\"token function\">excute</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      email<span class=\"token punctuation\">,</span>\n      joinType<span class=\"token operator\">:</span> <span class=\"token constant\">ACCOUNT_JOIN_TYPE</span><span class=\"token punctuation\">.</span><span class=\"token constant\">SNS_GOOGLE</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>isResignAccount<span class=\"token punctuation\">.</span>isResign<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">AccountException</span><span class=\"token punctuation\">(</span>AccountErrorCode<span class=\"token punctuation\">.</span><span class=\"token function\">AccessResignAccount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">//계정이 존재하는지 체크</span>\n    <span class=\"token keyword\">const</span> isExistAccountType <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>isExistAccountInboundPort<span class=\"token punctuation\">.</span><span class=\"token function\">excute</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      email<span class=\"token punctuation\">,</span>\n      joinType<span class=\"token operator\">:</span> <span class=\"token constant\">ACCOUNT_JOIN_TYPE</span><span class=\"token punctuation\">.</span><span class=\"token constant\">SNS_NAVER</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\">//회원이 가입 안된 상태 => 회원 가입 진행</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>isExistAccountType<span class=\"token punctuation\">.</span>findType <span class=\"token operator\">===</span> <span class=\"token constant\">ACCOUNT_FIND_TYPE</span><span class=\"token punctuation\">.</span><span class=\"token constant\">NO_EXIST</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">//회원가입 진행 로직 수행</span>\n      <span class=\"token keyword\">return</span> <span class=\"token function\">snsAccountJoin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token operator\">...</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token comment\">//이미 계정이 존재 => 로그인</span>\n    <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>isExistAccountType<span class=\"token punctuation\">.</span>findType <span class=\"token operator\">===</span> <span class=\"token constant\">ACCOUNT_FIND_TYPE</span><span class=\"token punctuation\">.</span><span class=\"token constant\">EXIST</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> <span class=\"token function\">snsLoginAccount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token operator\">...</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>상단의 **PassportStrategy(Strategy, ‘naver’)**클래스를 상속받아서,<br>\n<strong>validate</strong>메서드에서 실질적인 구현을 한다.</p>\n<p><strong>PassportStrategy</strong>의 경우 <strong>Strategy</strong>와 구분자 이름을 받는다.<br>\n여기는 깊게 갈 필요는 없고, Strategy는 <strong>passport-naver-v2</strong>의 값을 넣는다.</p>\n<p>그리고 생성자에서 부모 생성자에게 넘길 인자로 네이버 개발자 센터에서 값을 받아와야 하는데,<br>\n이 부분은 일단 공백으로 둬도 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">super({\n      clientID: process.env.NAVER_LOGIN_CLIENT_ID,\n      clientSecret: process.env.NAVER_LOGIN_CLIENT_PW,\n      callbackURL: process.env.NAVER_LOGIN_CALLBACK,\n      passReqToCallback: true,\n    })</code></pre></div>\n<p>지금 작성된 코드의 경우 내가 구현한 것이라서 env파일에서 값을<br>\n끌어오지만 실제로 구현할 때는 잠시 공백으로 둬도 된다.</p>\n<p><strong>passReqToCallback</strong>옵션의 경우 req객체 접근 여부인데,<br>\n나는 req에 실어나를 데이터가 있어서 true로 했다.</p>\n<p><strong>validate</strong>메서드의 전달인자에는 다음과 같이 되어 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">req: Request,\naccessToken: string,\nrefreshToken: string,\nprofile: Profile</code></pre></div>\n<p>req는 express Request 객체고, accessToken과 refreshToken의 경우 네이버에서 제공하는 토큰이다.<br>\n이걸로 사용자 인증을 사용해도 되고, 나처럼 직접 JWT 토콘을 사용하여 구현해도 된다.</p>\n<p>Nest.Js에서 Jwt 사용이 궁금한 분은 <a href=\"https://elfinlas.github.io/nest_js/230208_nesjs_jwt_part1/\">이곳 포스팅(Nest.Js에서 JWT 사용하기)</a>을 참고하자.</p>\n<p>그리고 마지막으로 profile의 경우 네이버 로그인을 통해 동의받은 사용자 정보를 받는 부분이다.<br>\n값은 아래를 참고하자.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">type</span> <span class=\"token class-name\">Profile</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  provider<span class=\"token operator\">:</span> <span class=\"token string\">'naver'</span><span class=\"token punctuation\">;</span>\n  id<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n  nickname<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n  profileImage<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n  age<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n  gender<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n  email<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n  mobile<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n  mobileE164<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n  name<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n  birthday<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n  birthYear<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n  _raw<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n  _json<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br>\n<h3 id=\"4-로그인-전략-수립-생각-및-고민해볼-부분\" style=\"position:relative;\"><a href=\"#4-%EB%A1%9C%EA%B7%B8%EC%9D%B8-%EC%A0%84%EB%9E%B5-%EC%88%98%EB%A6%BD-%EC%83%9D%EA%B0%81-%EB%B0%8F-%EA%B3%A0%EB%AF%BC%ED%95%B4%EB%B3%BC-%EB%B6%80%EB%B6%84\" aria-label=\"4 로그인 전략 수립 생각 및 고민해볼 부분 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. 로그인 전략 수립 (생각 및 고민해볼 부분)</h3>\n<p>개발자가 신경 쓸 부분은 전략부분이다.<br>\n사용자가 네이버 로그인을 시 <strong>profile</strong>객체 값을 통해 이메일 정보를 알아낼 수 있을 것이다.</p>\n<p>그럼 이 이메일 정보를 토대로 이미 가입이 되어 있는 계정인지…<br>\n아니면 가입이 안되어 있는 계정인지를 확인할 수 있다.</p>\n<p>그래서 위 코드에서도 조회를 해서 가입 처리 또는 로그인 처리를 진행한다.<br>\n참고로 회원 가입 시 몇 가지 정할 것이 있다.</p>\n<p>다중 계정 허용을 할 것인지, 아니면 다중 계정을 막을지,<br>\n이 부분은 향후 포스팅에서 다루겠다.</p>\n<p>일단은 난 다중 계정은 허용하는 방향으로 갔지만,<br>\n다중 게정을 직접적으로 이용하는 것은 막는 방향으로 갔다.</p>\n<p>그리고 만약 탈퇴한 회원이 재가입 하는 경우도 생각해 볼 수 있겠다.</p>\n<p>무튼 이 부분은 프로젝트 성향에 따라 다르기 때문에 각자 알맞게 구현해서 가도록 하자.</p>\n<br>\n<h3 id=\"5-컨트롤러-작성\" style=\"position:relative;\"><a href=\"#5-%EC%BB%A8%ED%8A%B8%EB%A1%A4%EB%9F%AC-%EC%9E%91%EC%84%B1\" aria-label=\"5 컨트롤러 작성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. 컨트롤러 작성</h3>\n<p>컨트롤러는 별거 없다.<br>\n아래의 코드를 참고하자.</p>\n<p>참고로 여기에서 쓰이는 주소 값은 나중에 네이버 개발자 센터에서 사용해야 한다.<br>\n이 부분은 Part02 포스트를 참고하자.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Controller<span class=\"token punctuation\">,</span> Get<span class=\"token punctuation\">,</span> Inject<span class=\"token punctuation\">,</span> Req<span class=\"token punctuation\">,</span> Res<span class=\"token punctuation\">,</span> UseFilters<span class=\"token punctuation\">,</span> UseGuards <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@nestjs/common'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Request<span class=\"token punctuation\">,</span> Response <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'express'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> AuthExceptionHandler <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'src/domain/auth/exceptions/auth.exception.handle'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> NaverAuthGuard <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'src/domain/auth/guard/naver.guard'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> CustomLoggerService <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'src/domain/logger/services/custom.logger'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> AccountExceptionHandler <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../../exceptions/account.exception.handler'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> <span class=\"token constant\">ACCOUNT_JOIN_TYPE</span> <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../../types/account.enums'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> LoginControllerHelper <span class=\"token keyword\">from</span> <span class=\"token string\">'./login.controller.helper'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Controller</span></span><span class=\"token punctuation\">(</span><span class=\"token string\">'account'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">LoginSnsNaverController</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">LoginControllerHelper</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Inject</span></span><span class=\"token punctuation\">(</span>CustomLoggerService<span class=\"token punctuation\">)</span> <span class=\"token keyword\">readonly</span> logger<span class=\"token operator\">:</span> CustomLoggerService<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>logger<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Get</span></span><span class=\"token punctuation\">(</span><span class=\"token string\">'login/sns/naver'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">UseGuards</span></span><span class=\"token punctuation\">(</span>NaverAuthGuard<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">async</span> <span class=\"token function\">snsLogin4Naver</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n  <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Get</span></span><span class=\"token punctuation\">(</span><span class=\"token string\">'login/sns/naver/cb'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">UseGuards</span></span><span class=\"token punctuation\">(</span>NaverAuthGuard<span class=\"token punctuation\">)</span>\n  <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">UseFilters</span></span><span class=\"token punctuation\">(</span>AccountExceptionHandler<span class=\"token punctuation\">)</span>\n  <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">UseFilters</span></span><span class=\"token punctuation\">(</span>AuthExceptionHandler<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">async</span> <span class=\"token function\">snsLogin4NaverCallBack</span><span class=\"token punctuation\">(</span><span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Req</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> req<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">,</span> <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Res</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> res<span class=\"token operator\">:</span> Response<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> redirectUrl <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">loginCallback</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">,</span> res<span class=\"token punctuation\">,</span> <span class=\"token constant\">ACCOUNT_JOIN_TYPE</span><span class=\"token punctuation\">.</span><span class=\"token constant\">SNS_NAVER</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> res<span class=\"token punctuation\">.</span><span class=\"token function\">redirect</span><span class=\"token punctuation\">(</span>redirectUrl<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>@Get(‘login/sns/naver’)</strong> 접근 시 네이버의 로그인 쪽으로 가게 된다.<br>\n그래서 여기는 뭔가 따로 처리할 것은 없다.</p>\n<p>그리고 **@Get(‘login/sns/naver/cb’)**콜백을 받는 부분은 아까 Strategy쪽에서 언급한 바와 같이,<br>\nreq 객체에 로그인 또는 회원 가입한 정보를 담고 있다.</p>\n<p>아래와 같이 한번 콘솔을 찍어보면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'req = '</span><span class=\"token punctuation\">,</span> req<span class=\"token punctuation\">.</span>user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>물론 저 Strategy쪽에서 return할 때 {} 와 같이 객체로 만들어 보내면 된다.<br>\n일단 이렇게 하면 코드에서 할 부분은 끝이다.</p>\n<h2 id=\"정리\" style=\"position:relative;\"><a href=\"#%EC%A0%95%EB%A6%AC\" aria-label=\"정리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>정리</h2>\n<p>코드쪽은 위에서 언급한 바와 같이 그렇게 복잡한 것이 없다.</p>\n<p>단지 프로젝트 성향에 따라 다중 계정 및 회원 가입, 로그인 처리,<br>\n그리고 사용자 인증을 위한 토큰 처리 정도?</p>\n<p>만약 accessToken 및 refreshToken을 직접 구현하는게 아니라,<br>\n네이버에게 위임하여 구현할 겅우 <a href=\"https://developers.naver.com/docs/login/devguide/devguide.md#3-4-5-%EC%A0%91%EA%B7%BC-%ED%86%A0%ED%81%B0%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%98%EC%97%AC-%ED%94%84%EB%A1%9C%ED%95%84-api-%ED%98%B8%EC%B6%9C%ED%95%98%EA%B8%B0\">접근 토큰을 이용하여 프로필 API 호출</a> 문서를 확인하자.</p>\n<p>다음은 네이버 개발자 페이지에서 처리할 것을 다루는 포스팅으로 넘어간다.</p>\n<br>\n<hr>\n<h4 id=\"네이버-로그인-포스팅-3부작-1\" style=\"position:relative;\"><a href=\"#%EB%84%A4%EC%9D%B4%EB%B2%84-%EB%A1%9C%EA%B7%B8%EC%9D%B8-%ED%8F%AC%EC%8A%A4%ED%8C%85-3%EB%B6%80%EC%9E%91-1\" aria-label=\"네이버 로그인 포스팅 3부작 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>네이버 로그인 포스팅 3부작</h4>\n<p><a href=\"https://elfinlas.github.io/nest_js/230404_naver_login_part01/\">(현재 글) Part01 네이버 로그인 구현하기 (Nest.js 코드 구현)</a><br>\n<a href=\"https://elfinlas.github.io/nest_js/230405_naver_login_part02/\">Part02 네이버 로그인 구현하기 (네이버 개발자 센터)</a><br>\n<a href=\"https://elfinlas.github.io/nest_js/230405_naver_login_part03/\">Part03 네이버 로그인 구현하기 (검수 요청 및 거절 그리고 기타 경험)</a></p>\n<hr>\n<br>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#%EB%84%A4%EC%9D%B4%EB%B2%84-%EB%A1%9C%EA%B7%B8%EC%9D%B8-%ED%8F%AC%EC%8A%A4%ED%8C%85-3%EB%B6%80%EC%9E%91\">네이버 로그인 포스팅 3부작</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%AD%90-%EB%A8%BC%EC%A0%80-%ED%95%A0%EA%B9%8C\">뭐 먼저 할까?</a></p>\n<ul>\n<li><a href=\"#1-nestjs%EC%97%90-%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC-%EC%84%A4%EC%B9%98\">1. Nest.Js에 라이브러리 설치</a></li>\n<li><a href=\"#2-naver-authguard-%EC%9E%91%EC%84%B1\">2. Naver AuthGuard 작성</a></li>\n<li><a href=\"#3-naver-strategy-%EC%88%98%EB%A6%BD-%EB%B0%8F-%EC%BD%94%EB%93%9C-%EC%9E%91%EC%84%B1\">3. Naver Strategy 수립 및 코드 작성</a></li>\n<li><a href=\"#4-%EB%A1%9C%EA%B7%B8%EC%9D%B8-%EC%A0%84%EB%9E%B5-%EC%88%98%EB%A6%BD-%EC%83%9D%EA%B0%81-%EB%B0%8F-%EA%B3%A0%EB%AF%BC%ED%95%B4%EB%B3%BC-%EB%B6%80%EB%B6%84\">4. 로그인 전략 수립 (생각 및 고민해볼 부분)</a></li>\n<li><a href=\"#5-%EC%BB%A8%ED%8A%B8%EB%A1%A4%EB%9F%AC-%EC%9E%91%EC%84%B1\">5. 컨트롤러 작성</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%A0%95%EB%A6%AC\">정리</a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"#%EB%84%A4%EC%9D%B4%EB%B2%84-%EB%A1%9C%EA%B7%B8%EC%9D%B8-%ED%8F%AC%EC%8A%A4%ED%8C%85-3%EB%B6%80%EC%9E%91-1\">네이버 로그인 포스팅 3부작</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</div>","excerpt":"네이버 로그인 포스팅 3부작 (현재 글) Part01 네이버 로그인 구현하기 (Nest.js 코드 구현) Part02 네이버 로그인 구현하기 (네이버 개발자 센터) Part03 네이버 로그인 구현하기 (검수 요청 및 거절 그리고 기타 경험) 서비스에 SNS 로그인을 구현하려 했다. (SNS Naver OAuth Login) 흑우집합소를 개발하다가 사용자 계정 관련해서 사용자 계정과 관련하여 고민을 했다. 직접 계정 가입을 받을 것인지… 아니면 SNS를 활용한 계정을 처리할 것인지… 마음은 SNS 로그인쪽으로 기울긴 했다. 왜냐하면 직접 받는다면, 계정의 신원을 E-Mail로 잡을텐데 여기서 검증 이메일을 보내는 로직과 더불어, 일일히 계정 정보를 다 입력받는 창을 만들고 하면 시간이 너무 많이 먹을 듯 싶었다. 그래서 구글 네이버 카카오를 사용하기로 결정했다. 카카오 사태때 SNS 로그인 문제가 있던걸 봐서 고민을 좀 했지만… 이 부분은 내가 따로 구현처리해서 피할 수 있는 것 같…","frontmatter":{"date":"2023.04.04","title":"Nest.Js에서 네이버 로그인 구현하기 Part.01 (Naver OAuth Login)","categories":"nest_js","emoji":"📜"},"fields":{"slug":"/nest_js/230404_naver_login_part01/"}},"next":{"id":"445d7a8d-6264-599b-b921-60bc59412004","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAADoUlEQVQ4yx3S20+TBwCG8e9P2M3cZmDjVChQ+tGWUtoCQgFXKFQptECRcoZaDoWBQQ5FYCBnkNFwEBAEgsMyTUxGwCzLFpfMmSlmgSVzw8CyycUSdZol7sI9S7j43T3v3Svs3tvmYOceR3s/8NeThzzff8zr33d5ebjHP0e/8PbFU/57dQBvnvH8cAfPhUbM5mx0CgWq4CCUMjk6bSLKSDmn4hMRHmzdYv/+Vxw+/Iajn77jxZMfefnbI/7ef8Srpzv8++ceb57twesD/nj8NQW2ArKyzqIT5Sg/8kMVJaLTxKOIkJGg1SOcd9bT1e5hYmiY8YFBfItz7H67yfKMl66LLfz6/TZvj37mwdYGLfV1FNqLyDSZ0YoiisAAVKKSOLWW6HAZek0cgiYuntR0C/kOJ7aiamyFFZQ4iskyZ6PRp7BxbZr727fJtuQjCZej1ycgRimJFmOIVeuRhsmICBcJk0iJCJUiRItyxGglMTGxJCQkk5KWgUqtRa1Uo1BpsOdZKSl0oIpNIDXNSGpaBrr4FMxmK2K0Gn//QD70DyIgIJTAQAmCLDKCSEkIYpiEOHUsBkMqMqmMkIAAosJCsWaZWVz8HO/UEkvXfdz0bbK6doe1G3eoKK/F3z/4WGBwJGHhSgRpWAjhIUFIJUGIUQokoVLeCQnlfbmMZEMifV39LN24y9zyJt7523hnfUzPbTAx42NweA6TyYLZnENBvoOS4koEqUTCyRPv8sGJ9/DzC+R0mpH2/hGGpq6xsnKTjS+2mJjdwHN5ns7+BboHFhj9bIXuy7N4emeZmFyit6ef5qY2KitqEXRaPalJyeSctVBX4z4OpmbWGb1ynbHJZbxTKwyOL+Fuu0JlwwAN7RN0fDpN78AsdU29nHPUYrEUYjRZiYpUIXS0eujv6WN8cJievkmq6nsoc3VS6mzjXGkD9Y2dtHWOUNfcQ7X7EuWuNvKLakjPyCUxyUiOtZhWzzCDo/O0tA0iuGsb+cTdRK3LTVq6FW1iJgajjdR0G7n5FRSV1NDY1I7T6SYntxB9fMqxPHs5vf1eFhZvcXXex8jYApe6xxCcVS5czlqqKl04iquw2cuxFpQdD/LySzGfsWEwpKPTJZNkyKDa1Yx3epV1311W175k5uo64xOLdHQOYbeXIZgyMkk3mo7fb8o8w8fGTJIMp4nV6JDLFchk0ce0ulNUVru52NpD0wUPdfUtnHc1UVlVj6O4GkuOneTkNP4HjlZGeXlwe9EAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/733ebb000f49022bdc81f660329a016f/7c297/thumbnail.webp 180w,\n/static/733ebb000f49022bdc81f660329a016f/33ecc/thumbnail.webp 360w,\n/static/733ebb000f49022bdc81f660329a016f/df77d/thumbnail.webp 720w,\n/static/733ebb000f49022bdc81f660329a016f/5ce83/thumbnail.webp 1032w\"\n              sizes=\"(max-width: 720px) 100vw, 720px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/733ebb000f49022bdc81f660329a016f/e9ea2/thumbnail.png 180w,\n/static/733ebb000f49022bdc81f660329a016f/53918/thumbnail.png 360w,\n/static/733ebb000f49022bdc81f660329a016f/242a6/thumbnail.png 720w,\n/static/733ebb000f49022bdc81f660329a016f/92844/thumbnail.png 1032w\"\n            sizes=\"(max-width: 720px) 100vw, 720px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/733ebb000f49022bdc81f660329a016f/242a6/thumbnail.png\"\n            alt=\"mhlab\"\n            title=\"mhlab\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<h1 id=\"간만에-구글-애널리틱스에-가보니\" style=\"position:relative;\"><a href=\"#%EA%B0%84%EB%A7%8C%EC%97%90-%EA%B5%AC%EA%B8%80-%EC%95%A0%EB%84%90%EB%A6%AC%ED%8B%B1%EC%8A%A4%EC%97%90-%EA%B0%80%EB%B3%B4%EB%8B%88\" aria-label=\"간만에 구글 애널리틱스에 가보니 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>간만에 구글 애널리틱스에 가보니…</h1>\n<p>티스토리나 알려진 블로그 플랫폼은 Google Analytics의 연결이 매우 편리하게 되어있다.<br>\n하지만 그외 플랫폼은 직접 연결을 해줘야 한다.</p>\n<p>사실 붙여놓고 잘 안들어갔다.<br>\n내 개인 블로그를 많이 와주면 고맙겠지만, 이런거 일일히 신경쓰면 피곤하다.</p>\n<p>그래서 오면 오고 안오면 안오나보다 하고 하는게 맘 편하다.<br>\n그리고 내가 무슨 네임드 개발자도 아니고, 그냥 삽질하고, 경험한거 쓰는 블로그인데 뭐…</p>\n<p>그래도 궁금한거 댓글 남기거나 하면 바로바로 답은 해주려고 노력하는 편이다.</p>\n<p>서두가 길었다.<br>\n어느날부터인가…</p>\n<p>애널리틱스 사이트에 들어갔더니 아래처럼 뭔가 떴다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 10%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAeklEQVQI1zXHyw6CMABEUf7/rwxYiS50o2hjsabUGnklvlDsOCYVFpMzN7roFCqLIdcT7Dcx8m2Cw24aPEoBLYUfW2VJ0KgUzWmJ1q1QaoHKzFGbBUo9Q/R9Wd7bnLdG8Vorfh4FfWfpn0VY6PEPorNk78j+POjI998fUKSS0+rL0gYAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/4d4e8febb7bf19d7a7fe71f7e40afc2f/7c297/img01.webp 180w,\n/static/4d4e8febb7bf19d7a7fe71f7e40afc2f/33ecc/img01.webp 360w,\n/static/4d4e8febb7bf19d7a7fe71f7e40afc2f/df77d/img01.webp 720w,\n/static/4d4e8febb7bf19d7a7fe71f7e40afc2f/39914/img01.webp 1043w\"\n              sizes=\"(max-width: 720px) 100vw, 720px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/4d4e8febb7bf19d7a7fe71f7e40afc2f/e9ea2/img01.png 180w,\n/static/4d4e8febb7bf19d7a7fe71f7e40afc2f/53918/img01.png 360w,\n/static/4d4e8febb7bf19d7a7fe71f7e40afc2f/242a6/img01.png 720w,\n/static/4d4e8febb7bf19d7a7fe71f7e40afc2f/0b8c0/img01.png 1043w\"\n            sizes=\"(max-width: 720px) 100vw, 720px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/4d4e8febb7bf19d7a7fe71f7e40afc2f/242a6/img01.png\"\n            alt=\"img01\"\n            title=\"img01\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<p>지금이 벌써 23년 4월이니 이제 준비를 안하면 이 집계도 못사용하겠다 싶어서 바꿔봤다.<br>\n근데 내가 쓰는건 만든이가 더 이상 관리하지 않는 오픈소스 테마였기에…</p>\n<p>문제가 있으면 스스로 고쳐서 써야하는 상황이다.<br>\n그래서 그냥 애널리틱스 ID만 바꾸면 쉽게 해결될 것 같아서 <strong>gatsby-meta-config.js</strong>에서 ga 값만 변경해봤다.</p>\n<p>근데 수신을 못해서 계속 페이지에서 데이터 송수신 자료가 없다고 했다.</p>\n<h2 id=\"뭐가-문제일까\" style=\"position:relative;\"><a href=\"#%EB%AD%90%EA%B0%80-%EB%AC%B8%EC%A0%9C%EC%9D%BC%EA%B9%8C\" aria-label=\"뭐가 문제일까 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>뭐가 문제일까?</h2>\n<p>먼저 내 테마의 깃허브 이슈를 봤지만…<br>\n역시 관리를 하지 않고, 거의 개인적으로 업데이트 또는 커스터마이징 해서 쓰느라 최신 글도 없었다.</p>\n<p>그래서 구글에 좀 찾아보니 <strong>Gatsby</strong> 깃헙에서 약간의 힌트를 찾을 수 있었다.<br>\n<a href=\"https://github.com/gatsbyjs/gatsby/issues/27627\">여기 이슈 27627</a>에 의하면 <strong>Not updated for New Google Analytics</strong><br>\n즉 최신 구글 애널리틱스가 업데이트 되지 않는다고 한다.<br>\n나랑 증상이 같은 것이다.</p>\n<p>그 중 <strong>rajatrao777</strong>라는 외쿸 성님이 아래와 같이 답을 남겼다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 41.11111111111111%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABFUlEQVQoz4WSi26DMAxF+/+fOCiPbYyQYJLwaElIeyubqtOkVVg6saOAfe3kpJovWGvRtApkHablCj8tf1hDRIgJa9ywhvdcQ8QJALZtw/lcoGka9H0Py4mnSRjHUXDOIYSAI5OE6xpQVTWyPEddf0JrjZ4IRITBWilCNEgnznt476UIF2a83wuyMEkYY0TfE7Q28vE8zy9lvOdzttv9jvsBJ17Y+GdtDLpOv2hbBdV1UEqJunEJcE81rGz3FjQGmDFhCbffhEp1+MhyFGWJoihlpll+lrgsK9TfLX744ohENbe5t+v/V8gHPDtjjMxs9ySF2HdmkDildHwp/CScM7h4h4vziOmGGDfEjUlP9jjI04lveQD3i2gSn/gx9wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/b7b2177ef0f32f4f5106c4a8afe97936/7c297/img02.webp 180w,\n/static/b7b2177ef0f32f4f5106c4a8afe97936/33ecc/img02.webp 360w,\n/static/b7b2177ef0f32f4f5106c4a8afe97936/df77d/img02.webp 720w,\n/static/b7b2177ef0f32f4f5106c4a8afe97936/74e18/img02.webp 1047w\"\n              sizes=\"(max-width: 720px) 100vw, 720px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/b7b2177ef0f32f4f5106c4a8afe97936/e9ea2/img02.png 180w,\n/static/b7b2177ef0f32f4f5106c4a8afe97936/53918/img02.png 360w,\n/static/b7b2177ef0f32f4f5106c4a8afe97936/242a6/img02.png 720w,\n/static/b7b2177ef0f32f4f5106c4a8afe97936/094ea/img02.png 1047w\"\n            sizes=\"(max-width: 720px) 100vw, 720px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/b7b2177ef0f32f4f5106c4a8afe97936/242a6/img02.png\"\n            alt=\"img02\"\n            title=\"img02\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<br>\n<p>요약하면 Gatsby 플러그인 중 <strong>google-tag</strong> 플러그인이 이제는 지원하지 않아서,<br>\n새로운 플러그인인 <a href=\"https://www.gatsbyjs.com/plugins/gatsby-plugin-gtag/\">gatsby-plugin-gtag</a>을 사용하라는 것이다.</p>\n<h2 id=\"그래서-적용은-어떻게\" style=\"position:relative;\"><a href=\"#%EA%B7%B8%EB%9E%98%EC%84%9C-%EC%A0%81%EC%9A%A9%EC%9D%80-%EC%96%B4%EB%96%BB%EA%B2%8C\" aria-label=\"그래서 적용은 어떻게 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>그래서 적용은 어떻게?</h2>\n<p>이것도 쉽다.<br>\n아래의 순서대로 하나씩 따라 해보자.</p>\n<h3 id=\"1-기존-플러그인-삭제\" style=\"position:relative;\"><a href=\"#1-%EA%B8%B0%EC%A1%B4-%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8-%EC%82%AD%EC%A0%9C\" aria-label=\"1 기존 플러그인 삭제 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 기존 플러그인 삭제</h3>\n<p>먼저 기존에 쓰던 플러그인은 제거하자.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm remove gatsby-plugin-google-analytics</code></pre></div>\n<p>그리고 <strong>gatsby-config.js</strong>파일에서 아래 설정을 지워주자.<br>\n아니면 주석 처리를 해도 되지만 혹시 모르니…</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">{\n      resolve: `gatsby-plugin-google-analytics`,\n      options: {\n        //etc option\n      },\n},</code></pre></div>\n<br>\n<h3 id=\"2-gatsby-plugin-gtag-설치\" style=\"position:relative;\"><a href=\"#2-gatsby-plugin-gtag-%EC%84%A4%EC%B9%98\" aria-label=\"2 gatsby plugin gtag 설치 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. gatsby-plugin-gtag 설치</h3>\n<p>아래의 명령어를 통해서 설치해주자.<br>\n혹시 이 플러그인이 궁금하면 <a href=\"https://www.gatsbyjs.com/plugins/gatsby-plugin-gtag/\">gatsby-plugin-gtag</a> 공식 페이지를 참고하자.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install --save gatsby-plugin-gtag</code></pre></div>\n<br>\n<h3 id=\"3-config-수정\" style=\"position:relative;\"><a href=\"#3-config-%EC%88%98%EC%A0%95\" aria-label=\"3 config 수정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. config 수정</h3>\n<p><strong>gatsby-config.js</strong>파일을 수정한다.<br>\n아래와 같이 플러그인 설정을 하나 밀어 넣는다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"> {\n    module.exports = {\n        siteMetadata: metaConfig,\n        plugins: [\n            {...기타 옵션}\n\n            //아래가 밀어넣을 옵션\n            {\n                resolve: `gatsby-plugin-gtag`,\n                options: {\n                    trackingId: metaConfig.ga,\n                    head: true,\n                    anonymize: true,\n                },\n            }\n        ]\n    }\n},</code></pre></div>\n<p>저기 위에서 <strong>trackingId</strong>의 경우 직접 문자열 값을 줘도 된다.<br>\n나 같은 경우 <strong>metaConfig</strong>라는 config 설정에서 값을 가져오는데 아래와 같이 처리해도 무방하다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">trackingId: \"G-ABCD1234\",,</code></pre></div>\n<p>당연한 이야기겠지만 나처럼 할 경우 <strong>metaConfig</strong>값을 변경해야 한다.</p>\n<br>\n<h3 id=\"4-빌드-또는-배포\" style=\"position:relative;\"><a href=\"#4-%EB%B9%8C%EB%93%9C-%EB%98%90%EB%8A%94-%EB%B0%B0%ED%8F%AC\" aria-label=\"4 빌드 또는 배포 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. 빌드 또는 배포</h3>\n<p>보통 나랑 같은 테마를 쓰거나 또는 다른 테마를 써도 배포할 때는 빌드를 할 것이다.<br>\n그래서 빌드를 따로 하거나, 배포를 해준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">\"deploy\": \"gatsby build &amp;&amp; gh-pages -d public -b ....\",</code></pre></div>\n<p>위는 내 배포 명령어인데 앞에 빌드를 선행한다.<br>\n그리고 바로 되지 않고, 약 5~30분?</p>\n<p>난 30분 정도 지나니까 아래처럼 수신으로 바뀌었다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 25.555555555555554%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAyUlEQVQY02VQSQ7CMBDL/38HEhe6Z2nSLQmFVl0xSqCFioNlT2SNJya8nqDsc0dxg4fT0qw7b/oXpfPar0c0M0jILAKqEYs7ItHiSg0CasDr8bDUhbBqBK1GCL1A6hlX1iIqZii77qEk5hYh1UhkhyR/+MWZ6g8XOc3KwQfF+QOiWcDLHpekwSkbDl4i7RO5WZHrxUOa5fBVx+49VT0i3iJkNz/zasA5tjinnb928xNl/7t5Y4Xa+/mE6Qmimbx2nBYD0nL89PjGC5v8etELZoD5AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/fb8a821253aa6bf3e2882a2fa29907ee/7c297/img03.webp 180w,\n/static/fb8a821253aa6bf3e2882a2fa29907ee/33ecc/img03.webp 360w,\n/static/fb8a821253aa6bf3e2882a2fa29907ee/df77d/img03.webp 720w,\n/static/fb8a821253aa6bf3e2882a2fa29907ee/5c666/img03.webp 1080w,\n/static/fb8a821253aa6bf3e2882a2fa29907ee/56a3d/img03.webp 1331w\"\n              sizes=\"(max-width: 720px) 100vw, 720px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/fb8a821253aa6bf3e2882a2fa29907ee/e9ea2/img03.png 180w,\n/static/fb8a821253aa6bf3e2882a2fa29907ee/53918/img03.png 360w,\n/static/fb8a821253aa6bf3e2882a2fa29907ee/242a6/img03.png 720w,\n/static/fb8a821253aa6bf3e2882a2fa29907ee/b4ad3/img03.png 1080w,\n/static/fb8a821253aa6bf3e2882a2fa29907ee/0b245/img03.png 1331w\"\n            sizes=\"(max-width: 720px) 100vw, 720px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/fb8a821253aa6bf3e2882a2fa29907ee/242a6/img03.png\"\n            alt=\"img03\"\n            title=\"img03\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<h2 id=\"정리\" style=\"position:relative;\"><a href=\"#%EC%A0%95%EB%A6%AC\" aria-label=\"정리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>정리</h2>\n<p>근데 이렇게 해도 잠깐 끊겨서 다시 48시간 동안 수집한 정보다 없다고 할 수 있다.<br>\n하지만 시간이 또 흐르면 저렇게 활성화 되었다고 뜨니 너무 걱정하지 말자.</p>\n<p>여차하면 <a href=\"https://chrome.google.com/webstore/detail/google-analytics-debugger/jnkmfdileelhofjcijamephohjechhna\">크롬 익스텐션-Google Analytics Debugger</a>를 설치해서 써보자.<br>\n설치 후 활성화되고 난 뒤 디버거 콘솔을 열면 아래처럼 정보가 뜬다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 625px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 85%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAACxklEQVQ4y01U13LbQAzUXzgZySrsPHaxU6J6sSRHzjiT//+UzSxoMn7A3B1wXOwCOI403cJCM6EbNmZzfTD65gtD/LzzPUY/bTrTEC8LLLMSQbiE50cY6YYD1wsRREsoL4TyIjgqQBRn4ndViDDOoPwItuML0Hfg1+lCbPI6h+P6BLRhuz78IIEXxGJhnIoR0LIVwihFlOQS69n1wFyphntXBRjpui3OXhZlGKYznDXdHOJM3gORDZNSCSULmU6yLTJZA0qlRMvxhjNj/JB7sh2YaSYWuiWJaPS7qpfsdNn8MBGjPBabWW3H+yp8JbFeZq+G9eM61JAfpHktH8XLHElaigTuyY4rG0awvFzJPWHjhRLLihplvRbpfhB3gEW1wnpzENvsTsjyWjruSgn+m/i8ENPpArOZJswI1qx3QioIk05yUa1xvT/x/vEH1/sHtvsz6tVWgLOiERZkx5V3oyTrpkCFciahZFkgCGOMDAFc4f7rE+vtEVWzQdPuBIhZeaaRPVcm2h0uOF0fsm93R2HI+wND0r7cntgeLmi33YWybqVeHGg2h0mZgKzIhiwZY205pyyJjA1rSClV0woLyuWZjeD4GJYjc2la7jAiJNHPZJpXyMsGcZJ1ktlqSjxd7jiebzhfH1i1eyRp0dnXW2WteLd/9/3bP5zecH57CJkoTjGyLFck3t5/D4C8xI6y8P1zlKbktfgon2NC1tKwohEwGRvL9bGs1qg3B5TrHer2gCgroVsuDEvBsBV004XpeJjrFqb8y/CnwGGeacjZ5aZFwj8OGZbjCU7TGT6LEn+bFX7nBT6rCs8sxy1NcUuWeGQ5nlWNkx9gpRs4KCX71jSxsWwcPB+1ZiP9OcYoep1hb1q4hRHuQYSL8vGIExyVj41S2CqFnedh7/s4xzE2rgv/5Qe8lxfE4wmyhYZ0vkA4niCevOIf2ZYNfYBc95cAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/2a62d3a8666b3447b54b076adb237f58/7c297/img04.webp 180w,\n/static/2a62d3a8666b3447b54b076adb237f58/33ecc/img04.webp 360w,\n/static/2a62d3a8666b3447b54b076adb237f58/529ab/img04.webp 625w\"\n              sizes=\"(max-width: 625px) 100vw, 625px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/2a62d3a8666b3447b54b076adb237f58/e9ea2/img04.png 180w,\n/static/2a62d3a8666b3447b54b076adb237f58/53918/img04.png 360w,\n/static/2a62d3a8666b3447b54b076adb237f58/b1b4f/img04.png 625w\"\n            sizes=\"(max-width: 625px) 100vw, 625px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/2a62d3a8666b3447b54b076adb237f58/b1b4f/img04.png\"\n            alt=\"img04\"\n            title=\"img04\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<p>만약 정보가 안뜨면 뭔가 설정을 빠트리거나 문제가 생긴 것이니 다시 확인해보자.</p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#%EB%AD%90%EA%B0%80-%EB%AC%B8%EC%A0%9C%EC%9D%BC%EA%B9%8C\">뭐가 문제일까?</a></p>\n</li>\n<li>\n<p><a href=\"#%EA%B7%B8%EB%9E%98%EC%84%9C-%EC%A0%81%EC%9A%A9%EC%9D%80-%EC%96%B4%EB%96%BB%EA%B2%8C\">그래서 적용은 어떻게?</a></p>\n<ul>\n<li><a href=\"#1-%EA%B8%B0%EC%A1%B4-%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8-%EC%82%AD%EC%A0%9C\">1. 기존 플러그인 삭제</a></li>\n<li><a href=\"#2-gatsby-plugin-gtag-%EC%84%A4%EC%B9%98\">2. gatsby-plugin-gtag 설치</a></li>\n<li><a href=\"#3-config-%EC%88%98%EC%A0%95\">3. config 수정</a></li>\n<li><a href=\"#4-%EB%B9%8C%EB%93%9C-%EB%98%90%EB%8A%94-%EB%B0%B0%ED%8F%AC\">4. 빌드 또는 배포</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%A0%95%EB%A6%AC\">정리</a></p>\n</li>\n</ul>\n</div>","frontmatter":{"date":"2023.04.04","title":"Gasty에서 구글 애널리틱스 GA4 처리 문제","categories":"gatsby","emoji":"📜"},"fields":{"slug":"/gatsby/230404_google_analytics/"}},"prev":{"id":"5ba73130-23de-56d8-9bb7-0e3c20adbc0a","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 52.222222222222214%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABeElEQVQoz5VSTUsCURT1X7TqY9O+VbRQIdpWizZCqxb1A4JWBS3cFAgtIspNiyCCoEVBRWJJQhqWFbop6GNg+nJSEccZ5+PNeyfm6ehIRnbgvHfhvXvu4d7rAQBGKacbjDFOd/wXbXicwIEliND2I+2F7cKu2Hl3//VwkVwe8nwIBV8AheFJFPwBkCeh1bFFWxL5TazarVTBTFJzaB/y4gqkXh+kHi9y3V4Ux2c47UK0okDd3IW2dwwzcw8jcQ395BzGVQba4RnIo4DK8gas14+mIJUrYFUNRjyFr4FRSP0jyHUNwkikQWUFcnAV+mmCF5YXQjBvstAjcZRng1y0srQOWizVe2jVbBupO6jhbZSm5iD1+ZEfmgARRDC1Cu0oBjOdhXF5C+0gCj2W5I5sUfLwDD16Aevtsy5Ia/0gLyLU8A6UtS0Ux6ZhJNMtze8EjaG4J2WJ76Bluf26UNaYtGPEWbkfa8M/EdKs5iT+gw3BX3eNtbrvBN9Ty+sRGu0ozQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/b7685b7a900370c34be4e657df3f862d/7c297/thumbnail_nestjs.webp 180w,\n/static/b7685b7a900370c34be4e657df3f862d/33ecc/thumbnail_nestjs.webp 360w,\n/static/b7685b7a900370c34be4e657df3f862d/84c6d/thumbnail_nestjs.webp 700w\"\n              sizes=\"(max-width: 700px) 100vw, 700px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/b7685b7a900370c34be4e657df3f862d/e9ea2/thumbnail_nestjs.png 180w,\n/static/b7685b7a900370c34be4e657df3f862d/53918/thumbnail_nestjs.png 360w,\n/static/b7685b7a900370c34be4e657df3f862d/a27c6/thumbnail_nestjs.png 700w\"\n            sizes=\"(max-width: 700px) 100vw, 700px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/b7685b7a900370c34be4e657df3f862d/a27c6/thumbnail_nestjs.png\"\n            alt=\"thumbnail\"\n            title=\"thumbnail\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<br>\n<h2 id=\"네이버-로그인-포스팅-3부작\" style=\"position:relative;\"><a href=\"#%EB%84%A4%EC%9D%B4%EB%B2%84-%EB%A1%9C%EA%B7%B8%EC%9D%B8-%ED%8F%AC%EC%8A%A4%ED%8C%85-3%EB%B6%80%EC%9E%91\" aria-label=\"네이버 로그인 포스팅 3부작 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>네이버 로그인 포스팅 3부작</h2>\n<p><a href=\"https://elfinlas.github.io/nest_js/230404_naver_login_part01/\">Part01 네이버 로그인 구현하기 (Nest.js 코드 구현)</a><br>\n<a href=\"https://elfinlas.github.io/nest_js/230405_naver_login_part02/\">(현재 글) Part02 네이버 로그인 구현하기 (네이버 개발자 센터)</a><br>\n<a href=\"https://elfinlas.github.io/nest_js/230405_naver_login_part03/\">Part03 네이버 로그인 구현하기 (검수 요청 및 거절 그리고 기타 경험)</a></p>\n<hr>\n<br>\n<h1 id=\"저번에-이어\" style=\"position:relative;\"><a href=\"#%EC%A0%80%EB%B2%88%EC%97%90-%EC%9D%B4%EC%96%B4\" aria-label=\"저번에 이어 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>저번에 이어…</h1>\n<p>저번 포스팅인 <a href=\"https://elfinlas.github.io/nest_js/230404_naver_login_part01/\">Nest.Js에서 네이버 로그인 구현하기 Part.01</a>에 이어서 작성한다.<br>\n혹시 코드쪽을 안하신 분은 저 포스팅을 참고하도록 하자.</p>\n<h2 id=\"네이버-개발자-페이지에서\" style=\"position:relative;\"><a href=\"#%EB%84%A4%EC%9D%B4%EB%B2%84-%EA%B0%9C%EB%B0%9C%EC%9E%90-%ED%8E%98%EC%9D%B4%EC%A7%80%EC%97%90%EC%84%9C\" aria-label=\"네이버 개발자 페이지에서 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>네이버 개발자 페이지에서…</h2>\n<p><a href=\"https://developers.naver.com/apps/#/register?api=nvlogin\">어플리케이션 등록</a> 페이지로 이동한다.<br>\n이동하면 일단 로그인 API 신청을 위한 몇 가지 정보를 입력해야 한다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 118.88888888888889%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAYCAYAAAD6S912AAAACXBIWXMAAAsTAAALEwEAmpwYAAACSUlEQVQ4y41Via7iMAzs/38fEkKC1XucLbRNSUuP9JjVGJwNUPa9SCalsSc+xm603W6xWq2w2WwQxzHW6zVOpxMO+z3+bDbY7/eYpgm/XdH5fMZutwN3yvF4RJqmSDOD7SHGKTmj6zo452RX4f9Q+I4XR3meoygKlGUJYwz439or0rJFXE3IyxZFYZAbg8vlIpfxYupRaGMeZ8MwIOLP65pmnn4dMt211oqHt9vtHpJz6NsWdXFFay1cVWGo67s0jez97fZP6hrOWoxdh6hpGnx/f0nysyzzOaHnDImhZGkqO0XCzTLQripLlNaKI71zAHPY970YU/isSR/HUfaqqkRoxJ2RNE0r+i2jqGvRkwQpIA9eK0gDJluVeQF1P6WXYB4wpIE+8z0B6VloNAeiIkX5BKgeMq+vYVOo8wr6BBiSlzsVWJQkOUvnKPGTJJFLCE49FofpeMohJewEBazrxlOJFb5erwJAfRaDDUHKsQYekMasHF+GoFw00A7QNNBICxSmxwMS6HA4CGgYPhdDE8+snS3CqPs4+px6HoZgCii9bcw82Di+yceiKGAutKnfwBRQG0Ir/JGHCsjJwuTfif3Zw1nAOQ+1d38K+Q1wjjpcpAxBXd9Lp/0P0Lee0oZ88kV5UCHshnEYMTj3BvAqEXO0WCywXC6FtI6h09umQX6KZRaOJHNdozUGE0k/k4Kn4UBvtGrh92HgWThhflgCSGN++SgkuAzLR05J7JDwrx+lUHS0+RzqFNEWVCMP1jlfOD3TOarjjoB/Aco1UwOXwE2lAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/883589701c518f8c8c33c1a11aa99e66/7c297/img01.webp 180w,\n/static/883589701c518f8c8c33c1a11aa99e66/33ecc/img01.webp 360w,\n/static/883589701c518f8c8c33c1a11aa99e66/df77d/img01.webp 720w,\n/static/883589701c518f8c8c33c1a11aa99e66/ee9cc/img01.webp 931w\"\n              sizes=\"(max-width: 720px) 100vw, 720px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/883589701c518f8c8c33c1a11aa99e66/e9ea2/img01.png 180w,\n/static/883589701c518f8c8c33c1a11aa99e66/53918/img01.png 360w,\n/static/883589701c518f8c8c33c1a11aa99e66/242a6/img01.png 720w,\n/static/883589701c518f8c8c33c1a11aa99e66/1d15d/img01.png 931w\"\n            sizes=\"(max-width: 720px) 100vw, 720px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/883589701c518f8c8c33c1a11aa99e66/242a6/img01.png\"\n            alt=\"img01\"\n            title=\"img01\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<br>\n<p>위 사진에서 나온 정보는 따로 설명이 불 필요한 만큼 알아서 작성하자.<br>\n정보를 다 입력하면 이제 내 어플리케이션에 항목이 등록이 된다.</p>\n<br>\n<h3 id=\"1-개요-페이지\" style=\"position:relative;\"><a href=\"#1-%EA%B0%9C%EC%9A%94-%ED%8E%98%EC%9D%B4%EC%A7%80\" aria-label=\"1 개요 페이지 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 개요 페이지</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 77.22222222222223%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAAByklEQVQ4y41Uy3LaMBT1v7PgI1jgFVuGDT8QYNFFFu2GYUoILkNN/IgxtoQtWadzFOSY1Gl6Zu5cSx4dnfuSFxwDbPY/cb1e0TQNlFI4HA7YbDbI8xyEMea/zdu97PG4/47sNUOSJBBCWJK6rq3nRfyuqgpSSmitUZYlVK3snvvPPSElvPB3iOenHc7ns/1BhXEct+aIjXFKP/gPEXhBECAMQ7tw4Pp4PCJNEkim4iph0gjmNb63NIbJ0nvCy+VipbtcEVwzhEZrVEqjjl8Ard7UdMyeyVI0dYXGwNbAc6rcDURRFDidThBliVprqCQC8gyQJYwoAFG8eSlgohBGqTZ0r0vUDZuwVdcauqpgihymvLxbcTOSd0PuKnSeBUrTtE2Fg2ZYN9+ec/YvQpJFUWTzyDWJXbUd6qqCVsqW/0uFzthCJGPvTadTLJdLbLdbLBYLzGazv3JP9BaFDcywSebCHo1GGA6HtjcHgwHG43HvFPUSclqyLGsJuc/KTyYTrNdr63npl4TOM1SaGzlWW5QC/tjHfD6H7/t3hF30KiQRZ9QptCMJjd2vZ6xWKztJnz0avYR8Zewc34pidINvpx94CB/fe/ST1+YPND+KlY9b1QMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/05be5a032d4d32120f21ae3702b77a2d/7c297/img02.webp 180w,\n/static/05be5a032d4d32120f21ae3702b77a2d/33ecc/img02.webp 360w,\n/static/05be5a032d4d32120f21ae3702b77a2d/df77d/img02.webp 720w,\n/static/05be5a032d4d32120f21ae3702b77a2d/5c666/img02.webp 1080w,\n/static/05be5a032d4d32120f21ae3702b77a2d/afdcf/img02.webp 1169w\"\n              sizes=\"(max-width: 720px) 100vw, 720px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/05be5a032d4d32120f21ae3702b77a2d/e9ea2/img02.png 180w,\n/static/05be5a032d4d32120f21ae3702b77a2d/53918/img02.png 360w,\n/static/05be5a032d4d32120f21ae3702b77a2d/242a6/img02.png 720w,\n/static/05be5a032d4d32120f21ae3702b77a2d/b4ad3/img02.png 1080w,\n/static/05be5a032d4d32120f21ae3702b77a2d/5ae29/img02.png 1169w\"\n            sizes=\"(max-width: 720px) 100vw, 720px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/05be5a032d4d32120f21ae3702b77a2d/242a6/img02.png\"\n            alt=\"img02\"\n            title=\"img02\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<br>\n<p>저기서 <strong>ClientID</strong>와 <strong>Client Secret</strong> 항목은 매우 중요하기에 외부로 노출이 안되게, 잘 관리해주자.<br>\n그리고 저 값은 <strong>Nest.JS</strong> 프로젝트 내에서 심어서 사용할 건데 env파일을 사용한다는 가정하에 설명한다.</p>\n<p>프로젝트 내에 <strong>.env</strong>또는 개발환경에 맞는 곳에 다음과 같이 키를 설정해준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">NAVER_CLIENT_ID = \"CLIENT_ID_NAVER\"\nNAVER_CLIENT_PW = \"12345678ABVDEGG\"\nNAVER_CALLBACK = \"http://localhost:9958/account/login/sns/naver/cb\"</code></pre></div>\n<p>그리고 Part01에서 설명한 것처럼 부모 생성자에게 넘기게끔 설정해준다.<br>\n코드 쪽은 <a href=\"https://elfinlas.github.io/nest_js/230404_naver_login_part01/#3-naver-strategy-%EC%88%98%EB%A6%BD-%EB%B0%8F-%EC%BD%94%EB%93%9C-%EC%9E%91%EC%84%B1\">Part01</a> 이쪽 항목을 참고하자.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  clientID<span class=\"token operator\">:</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">NAVER_CLIENT_ID</span><span class=\"token punctuation\">,</span>\n  clientSecret<span class=\"token operator\">:</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">NAVER_CLIENT_PW</span><span class=\"token punctuation\">,</span>\n  callbackURL<span class=\"token operator\">:</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">NAVER_CALLBACK</span><span class=\"token punctuation\">,</span>\n  passReqToCallback<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br>\n<h3 id=\"2-api-설정\" style=\"position:relative;\"><a href=\"#2-api-%EC%84%A4%EC%A0%95\" aria-label=\"2 api 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. API 설정</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 60%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABoElEQVQoz6VTa4+CMBD0//8pP585o1Gj8ioVAV8gcAqignOZ1RL9eDmSyW63u9vZaekBwO12Q9M0dHE6nVDXtfhlWcpe2z7Er6oKTdPifD5LDvfos+ZyuUhN71rXEmByVZZSyCQm0BJlVXUFj8cDbdsK3n2z7kVxjIVlwbIdsY7nYTabwfd9WIxbFhaLBZRS2O/3yLJMCg3eP2mI+gIUOfBTAMf0af/4vTfvZUkCbduItI9IKaxcB0EQII5jYRmGoejFkQkjSfmShzp+MFwFAb4GAyjfh16t4Ckl4xGu68rItm3L2nEcGX+5XIrlmgcnSSJ3IAypCwvJhgn02YA+C7XW2O12gu1222Gz2eB4PEojMr7f78+GDHLEKAyhPA+aTLWWUT3PQxRFOBwOSNNUGhRFgTzPJUYyjBv9npfC51BkwG4LZCmQHP53KdTgezjsNPS1lvGpmdHOWDI2ujLnvWHHkBv9fh/z+VyEHo1GmEwmmE6nHfgujeX+eDyWQzi60a5jSE2oITWj5QHr9Vq0I7gmzFOi5UVcr9fXr9h8NPwFQT2LHTRrAGMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/83d18340be4c4f2e13432a1239daca89/7c297/img03.webp 180w,\n/static/83d18340be4c4f2e13432a1239daca89/33ecc/img03.webp 360w,\n/static/83d18340be4c4f2e13432a1239daca89/df77d/img03.webp 720w,\n/static/83d18340be4c4f2e13432a1239daca89/cbe35/img03.webp 938w\"\n              sizes=\"(max-width: 720px) 100vw, 720px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/83d18340be4c4f2e13432a1239daca89/e9ea2/img03.png 180w,\n/static/83d18340be4c4f2e13432a1239daca89/53918/img03.png 360w,\n/static/83d18340be4c4f2e13432a1239daca89/242a6/img03.png 720w,\n/static/83d18340be4c4f2e13432a1239daca89/7bf1f/img03.png 938w\"\n            sizes=\"(max-width: 720px) 100vw, 720px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/83d18340be4c4f2e13432a1239daca89/242a6/img03.png\"\n            alt=\"img03\"\n            title=\"img03\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<p>저기 안내사항을 한번 읽어본다.<br>\n그리고 네이버 로그인 제공 정보 선택 부분을 보자.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 65.55555555555556%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAABLUlEQVQ4y32T2Y6EIBBF/f+P9MWoyYwbigqy1OQWDU2PtJXcWCIca6O6rou01oRn7jvnaJomklISDO9aX+x771klq56AUu50nmeCYC23CM71CJznmaM0xpC1Nim+l+AJGEHRhwHWNE1S3/fUti1rHEfep5RiRWgxQggRYuO+7yxEC8i2SV5HlKgvSoLSfERYgsIAGsaRN4aDkv2QuqNVCFLnSdu2vZuCQ0gBi/hrnrIQgrqu49RjQ5yLHfYkFJGxwcd3qMLh4ziKNQQwNiUc8K9uB8iP9KSMI+9calRKOU87Atd1pd9hKI4HeU+7dmQsfmTvc1iqISJESeJg/4cChHWbfbt1OQfGzn4DWutS7b6OTQ5cloXquv64LU9A1PVxDsP91VxsTvGW8lsx5T8tRfwCn0soVwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/2e2c9144656b622d0f00d79de8aec2a5/7c297/img04.webp 180w,\n/static/2e2c9144656b622d0f00d79de8aec2a5/33ecc/img04.webp 360w,\n/static/2e2c9144656b622d0f00d79de8aec2a5/df77d/img04.webp 720w,\n/static/2e2c9144656b622d0f00d79de8aec2a5/4ce34/img04.webp 885w\"\n              sizes=\"(max-width: 720px) 100vw, 720px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/2e2c9144656b622d0f00d79de8aec2a5/e9ea2/img04.png 180w,\n/static/2e2c9144656b622d0f00d79de8aec2a5/53918/img04.png 360w,\n/static/2e2c9144656b622d0f00d79de8aec2a5/242a6/img04.png 720w,\n/static/2e2c9144656b622d0f00d79de8aec2a5/540ae/img04.png 885w\"\n            sizes=\"(max-width: 720px) 100vw, 720px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/2e2c9144656b622d0f00d79de8aec2a5/242a6/img04.png\"\n            alt=\"img04\"\n            title=\"img04\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<br>\n<p>여기서 저 정보들은 꼭 필요한 것만 체크해서 쓰자.<br>\n어짜피 검수 받을 때 안쓰는데도 받으면 검수가 거절된다.</p>\n<p>나중에 검수할 때 문서에 이거를 왜 받아야 하는지 서술해야 하기에,<br>\n가급적 진짜 필요한 것들만 등록해서 쓰자.</p>\n<p>만약 과도하게 받고 사용 목적이 불분명하면 승인 거부가 될 수 있다.<br>\n이와 관련해서는 <a href=\"https://elfinlas.github.io/nest_js/230405_naver_login_part03/#%EC%A0%9C%EA%B3%B5%EC%A0%95%EB%B3%B4-%ED%99%9C%EC%9A%A9%EB%AA%A9%EC%A0%81-%ED%99%95%EC%9D%B8%EC%9A%94%EC%B2%AD\">Part03 제공정보 활용목적</a> 포스팅을 참고하면 알 수 있다.</p>\n<p>나도 과도한 정보 보다는 사이트에서 사용할 필수 정보만 필수로 받게끔 만들어뒀다.</p>\n<p>다음은 오픈 API 서비스 환경이다.\n참고로 PC 웹 기준이다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 98.33333333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAACDUlEQVQ4y4WUzY7aMBSFef/34A3YsWTBol2gtpopQ0GA2hJCEufHsYHEOdW54DQwECxd+caxv9yfEw/O5zO6djqdUFWV+FmWie8H15qmQd8YPAJyJijPc5nruhbjOmfn3I1xjfuca/qBu90OWus24sdWwRjb7nsKZGpxHCNNU/EZCedH5odrmn4gv8q0CT0ej5dD1zTlI3dgrvcCCUuSBEopaVBRFO1M07rA0RpU1aVEzasIwzCUOgZBgMPhIHBGS0uUQnBIEEYKKs0kAwES4O0eaK2VZ242xqAsS1mzxkCXBqHS2CuNXJeyT2p4afel9V0wgaXWchgvtMfRXOs7YCc3m42kR3gXOP9Y4G0+x59dgCTN2oM31um06JC1WSwW2O/3t0Bu/rsFfr3BLX/CLd/h6Iu9w338gNsu28jq2l2AfSnn+wDReoX62xecv3+F+r1FvF3LnGzXOKeJRFY7h+JUonZ1f1O0Mch0iTyOkCex+CrLUbAp1iIrtMiIsjLWvpaNumqQEkmzDEkc/9dlmrbv4ygSFfReDgR6AVMuPCCSsbb1/brXYO+fwpf8Os3X2N84j0x0+Azob5fpdCoKmM1m8l8T/kl/d//z0wg5RqMRJpMJxuOxpEggwUyVM437+c5fxA+B/mZZrVYYDoeIokhgFH98bQz1y3UP9md6m8Ka8Jk+D/jid0f3OiPwH0wSEjYu/n4IAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/b0203991731f862a3919c34a52712709/7c297/img05.webp 180w,\n/static/b0203991731f862a3919c34a52712709/33ecc/img05.webp 360w,\n/static/b0203991731f862a3919c34a52712709/df77d/img05.webp 720w,\n/static/b0203991731f862a3919c34a52712709/8c45b/img05.webp 883w\"\n              sizes=\"(max-width: 720px) 100vw, 720px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/b0203991731f862a3919c34a52712709/e9ea2/img05.png 180w,\n/static/b0203991731f862a3919c34a52712709/53918/img05.png 360w,\n/static/b0203991731f862a3919c34a52712709/242a6/img05.png 720w,\n/static/b0203991731f862a3919c34a52712709/31459/img05.png 883w\"\n            sizes=\"(max-width: 720px) 100vw, 720px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/b0203991731f862a3919c34a52712709/242a6/img05.png\"\n            alt=\"img05\"\n            title=\"img05\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<br>\n<p>개발환경에서는 도메인이 아직 준비가 안되어 있을테니 localhost를 사용해도 무방하다.</p>\n<p><strong>서비스 URL</strong>의 경우 도메인이 준비가 되고,<br>\n실제 서비스에 올릴 때는 자신의 도메인을 적어준다.</p>\n<p>하지만 아직 준비가 안된 경우 <a href=\"http://localhost:9958\">http://localhost:9958</a> 이렇게 적어줘도 무방하다.<br>\n그리고 <strong>Callback URL</strong>의 경우 로그인 후 네이버로부터 정보를 받아올 콜백 URL을 적는 부분이다.</p>\n<p>이 부분은 <a href=\"https://elfinlas.github.io/nest_js/230404_naver_login_part01/#5-%EC%BB%A8%ED%8A%B8%EB%A1%A4%EB%9F%AC-%EC%9E%91%EC%84%B1\">Nest.Js에서 네이버 로그인 구현하기 Part.01</a> 포스팅의 컨트롤러에서 적은 값을 참고해서 넣는다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 57.77777777777777%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABTklEQVQoz5VTy26EMAzk/z+mf9AP6KGXHnraFd3uYYHlseGVAAlTjalRWqkSjTSKie2JnTGJ9x6KeZ4xTRNCCBiGEUVR4H6/C/I8Fz99cQ4XfVmWiZ00TYO6rsE9JuReluWOqqrQ971gGIbdttYKIfOFkB+3222vgES8maRt20pS13UwxuDxeMjlPKfNc+cclmURsnVdkWgyd5IRGvCfFcK6EbKqGFrh4j3GcZSgo0sIL5cLiOv1Km2wOhJ2fY+yKmGd3SuPL52ck3YJ9QkhH5WInSQN06ZgWPyPJCV0fxFSbo4FR4Tqico+4GQ+8ZK9oXFma+doy1RX50wJEVa8Fu94Sp9R2HoPPoIkVjYWBR6YWovOtDIqbO1QhefzGR9pKsNLUh1s0xpkeSbn7IAzx7em8vrutHmRarDPoYzJN5lWyCA+gSZpzG/EvyEJvwB0M6c8pzk+pQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/93bf18d0e8275357757265024b2a5926/7c297/img06.webp 180w,\n/static/93bf18d0e8275357757265024b2a5926/33ecc/img06.webp 360w,\n/static/93bf18d0e8275357757265024b2a5926/df77d/img06.webp 720w,\n/static/93bf18d0e8275357757265024b2a5926/d0742/img06.webp 900w\"\n              sizes=\"(max-width: 720px) 100vw, 720px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/93bf18d0e8275357757265024b2a5926/e9ea2/img06.png 180w,\n/static/93bf18d0e8275357757265024b2a5926/53918/img06.png 360w,\n/static/93bf18d0e8275357757265024b2a5926/242a6/img06.png 720w,\n/static/93bf18d0e8275357757265024b2a5926/e7448/img06.png 900w\"\n            sizes=\"(max-width: 720px) 100vw, 720px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/93bf18d0e8275357757265024b2a5926/242a6/img06.png\"\n            alt=\"img06\"\n            title=\"img06\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<br>\n<p>그 밑은 따로 건들 것은 없다.<br>\n만약 정보제공동의창 확인이 필요하면 미리보기를 통해 확인할 수 있다.</p>\n<p>아직 검수 전이면 어플리케이션 개발 상태의 값은 검수 전으로 표시될 것이다.<br>\n그리고 네이버 로그인 플러스는 정말 상업용 또는 서비스 규모가 커지거나 전자상거래 쪽으로 갈 경우 유용할 것이다.</p>\n<p>하지만…<br>\n항상 이야기 하지만 서비스 초기는 정말 빈약하고 작은 서비스로 시작한다.<br>\n아무도 관심도 가지지 않고…</p>\n<p>그래서 일단은 저런건 고려하지 말고 기능에 집중하자.</p>\n<br>\n<h3 id=\"3-멤버관리\" style=\"position:relative;\"><a href=\"#3-%EB%A9%A4%EB%B2%84%EA%B4%80%EB%A6%AC\" aria-label=\"3 멤버관리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 멤버관리</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 47.22222222222222%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA3ElEQVQoz5WRyQ6DQAxD+f+/BMGFQQKx76leWqMpooeOZOKE4ElMchyHTdNk27bZvu82DIPnnLqure9759S7rjP653n2Olx1vUt4IESM+XmeN/7cpzqgL4k/IjLpuq6e/3Pod8FxHK2qKivL0kIIvi6CCIsvy+JgVXHlAjnnLRjClyBTE/M898vwsmka9wnv2rZ1ThTw0gX1M+QNE2lCLhO4IPZv//AYvvLT6MsPD+XTEy5BRi+KwrIsszRNfXwmQFirAKYUj2vC5WFsusC6RHzDs7uQagjB6dVffgEcLL/ZqZGH5gAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/469c09befca0bfaaf1e76f03104c04a2/7c297/img07.webp 180w,\n/static/469c09befca0bfaaf1e76f03104c04a2/33ecc/img07.webp 360w,\n/static/469c09befca0bfaaf1e76f03104c04a2/df77d/img07.webp 720w,\n/static/469c09befca0bfaaf1e76f03104c04a2/9b20f/img07.webp 904w\"\n              sizes=\"(max-width: 720px) 100vw, 720px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/469c09befca0bfaaf1e76f03104c04a2/e9ea2/img07.png 180w,\n/static/469c09befca0bfaaf1e76f03104c04a2/53918/img07.png 360w,\n/static/469c09befca0bfaaf1e76f03104c04a2/242a6/img07.png 720w,\n/static/469c09befca0bfaaf1e76f03104c04a2/91af2/img07.png 904w\"\n            sizes=\"(max-width: 720px) 100vw, 720px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/469c09befca0bfaaf1e76f03104c04a2/242a6/img07.png\"\n            alt=\"img07\"\n            title=\"img07\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<br>\n<p>여기는 같이 공동 개발을 할 경우, 그리고 내부 클로즈에서 테스트가 필요한 경우에 등록하는 부분이다.<br>\n나는 1인 개발에 로그인 기능은 없이 지인에게 기능을 풀어둬서 이 부분은 따로 등록을 하지 않았었다.</p>\n<br>\n<h3 id=\"4-기타\" style=\"position:relative;\"><a href=\"#4-%EA%B8%B0%ED%83%80\" aria-label=\"4 기타 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. 기타</h3>\n<p>로그인 통계 및 API 통계, Playground는 지금 개발단에서 중요한게 아니라서 일단 넘어간다.</p>\n<h2 id=\"정리\" style=\"position:relative;\"><a href=\"#%EC%A0%95%EB%A6%AC\" aria-label=\"정리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>정리</h2>\n<p>여기까지 하면 이제 개발 환경은 다 갖춰졌다.<br>\n개발할 때 스크린샷을 다 찍지 못해서 네아로 로그인 화면은 못보여드렸다.</p>\n<p>궁금하신 분은 직접 구현 또는 <a href=\"https://bcow.world\">흑우집합소</a>에서 로그인을 해보자(?)<br>\n사실 네아로 구현이 어렵거나 한 것은 없다.</p>\n<p>단지 정책적인 부분을 정하고 구현하는 것이 아주 약간 난해할 뿐…<br>\n다음 포스팅은 네아로 검수 요청 및 거절된 케이스에 대해서 다뤄볼 예정이다.</p>\n<br>\n<hr>\n<h4 id=\"네이버-로그인-포스팅-3부작-1\" style=\"position:relative;\"><a href=\"#%EB%84%A4%EC%9D%B4%EB%B2%84-%EB%A1%9C%EA%B7%B8%EC%9D%B8-%ED%8F%AC%EC%8A%A4%ED%8C%85-3%EB%B6%80%EC%9E%91-1\" aria-label=\"네이버 로그인 포스팅 3부작 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>네이버 로그인 포스팅 3부작</h4>\n<p><a href=\"https://elfinlas.github.io/nest_js/230404_naver_login_part01/\">Part01 네이버 로그인 구현하기 (Nest.js 코드 구현)</a><br>\n<a href=\"https://elfinlas.github.io/nest_js/230405_naver_login_part02/\">(현재 글) Part02 네이버 로그인 구현하기 (네이버 개발자 센터)</a><br>\n<a href=\"https://elfinlas.github.io/nest_js/230405_naver_login_part03/\">Part03 네이버 로그인 구현하기 (검수 요청 및 거절 그리고 기타 경험)</a></p>\n<hr>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#%EB%84%A4%EC%9D%B4%EB%B2%84-%EB%A1%9C%EA%B7%B8%EC%9D%B8-%ED%8F%AC%EC%8A%A4%ED%8C%85-3%EB%B6%80%EC%9E%91\">네이버 로그인 포스팅 3부작</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%84%A4%EC%9D%B4%EB%B2%84-%EA%B0%9C%EB%B0%9C%EC%9E%90-%ED%8E%98%EC%9D%B4%EC%A7%80%EC%97%90%EC%84%9C\">네이버 개발자 페이지에서…</a></p>\n<ul>\n<li><a href=\"#1-%EA%B0%9C%EC%9A%94-%ED%8E%98%EC%9D%B4%EC%A7%80\">1. 개요 페이지</a></li>\n<li><a href=\"#2-api-%EC%84%A4%EC%A0%95\">2. API 설정</a></li>\n<li><a href=\"#3-%EB%A9%A4%EB%B2%84%EA%B4%80%EB%A6%AC\">3. 멤버관리</a></li>\n<li><a href=\"#4-%EA%B8%B0%ED%83%80\">4. 기타</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%A0%95%EB%A6%AC\">정리</a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"#%EB%84%A4%EC%9D%B4%EB%B2%84-%EB%A1%9C%EA%B7%B8%EC%9D%B8-%ED%8F%AC%EC%8A%A4%ED%8C%85-3%EB%B6%80%EC%9E%91-1\">네이버 로그인 포스팅 3부작</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</div>","frontmatter":{"date":"2023.04.05","title":"Nest.Js에서 네이버 로그인 구현하기 Part.02 (네이버 개발자 센터)","categories":"nest_js","emoji":"📜"},"fields":{"slug":"/nest_js/230405_naver_login_part02/"}},"site":{"siteMetadata":{"siteUrl":"https://elfinlas.github.io","comments":{"utterances":{"repo":"elfinlas/blog_utterances"}},"projects":[{"title":"마와셀(웹) - 와인 가격 비교","description":"와인 가격 비교 서비스","techStack":["Typescript","React","Next.Js","Nest.Js"],"thumbnailUrl":"myc_icon.png","links":{"post":"https://blog.naver.com/wisseraph/223393940649","github":"","web":"https://appmyc.info","googlePlay":"","appStore":""}},{"title":"마와셀(엡) - 와인과 셀러 관리, 시음노트","description":"보유한 와인의 관리, 시음노트 작성, 보유 와인 셀러의 관리 어플리케이션","techStack":["Dart","Flutter","hive","provider"],"thumbnailUrl":"myc_icon.png","links":{"post":"https://blog.naver.com/wisseraph/223531933037","github":"","web":"","googlePlay":"https://play.google.com/store/apps/details?id=dev.mhlab.myc","appStore":"https://itunes.apple.com/kr/app/apple-store/6474965246"}},{"title":"흑우집합소(웹) - 로또번호 추천 서비스","description":"로또번호 추천 서비스","techStack":["Typescript","React","Next.Js","Nest.Js"],"thumbnailUrl":"bcow_icon.png","links":{"post":"https://blog.naver.com/wisseraph/223059966682","github":"","web":"https://bcow.world/","googlePlay":"","appStore":""}},{"title":"흑우집합소(앱) - 로또번호 추천 서비스","description":"로또번호 추천 서비스","techStack":["Dart","Flutter","drift","provider"],"thumbnailUrl":"bcow_icon.png","links":{"post":"https://blog.naver.com/wisseraph/223232966579","github":"","web":"","googlePlay":"https://play.google.com/store/apps/details?id=dev.mhlab.bcow_world","appStore":"https://itunes.apple.com/kr/app/apple-store/6470312130"}}]}}},"pageContext":{"slug":"/nest_js/230404_naver_login_part01/","nextSlug":"/gatsby/230404_google_analytics/","prevSlug":"/nest_js/230405_naver_login_part02/"}},"staticQueryHashes":["1186322783","1321405810","3649515864"]}