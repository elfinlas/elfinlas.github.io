{"componentChunkName":"component---src-templates-post-template-index-tsx","path":"/dart_flutter/230627_appbar-center/","result":{"data":{"cur":{"id":"2872368d-b9b7-57d2-9a44-14d81d1293b1","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 667px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 37.222222222222214%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA/UlEQVQoz3WRQU6DUBCGWXkGD+U9vIFbb+DSG7gycekFXBitwQRcUEgTIEoFQQtF2hLmfQbo00LrJJP3Mu+bP/PmN0QpdOirUmqUwi4nstszZI22GJSCkzcd0DQN/0W2anBz2XJykDWiSrhwa6YVfOcLJpMnoijq0nEcgiAgDEOKRc7JlcPR6TV3L69IvWL+HhPHMWmakmVZL7hWcP7wya37BZuKt2iO53nYtt2dpmliWRbrsuTsccnx5ZSb+xmomjTL8H2fJEkoigIR6b8cfix5niV7exlHWwk2f4yMmG6HQ1MOC+m33rUhM+7pJmxFtXP7DusG9TuVFj/E/QBlrxtrR+aZjQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/2cf2ed8b48f804d8174ffc3a202929cc/7c297/thumbnail_flutter.webp 180w,\n/static/2cf2ed8b48f804d8174ffc3a202929cc/33ecc/thumbnail_flutter.webp 360w,\n/static/2cf2ed8b48f804d8174ffc3a202929cc/03032/thumbnail_flutter.webp 667w\"\n              sizes=\"(max-width: 667px) 100vw, 667px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/2cf2ed8b48f804d8174ffc3a202929cc/e9ea2/thumbnail_flutter.png 180w,\n/static/2cf2ed8b48f804d8174ffc3a202929cc/53918/thumbnail_flutter.png 360w,\n/static/2cf2ed8b48f804d8174ffc3a202929cc/e31cc/thumbnail_flutter.png 667w\"\n            sizes=\"(max-width: 667px) 100vw, 667px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/2cf2ed8b48f804d8174ffc3a202929cc/e31cc/thumbnail_flutter.png\"\n            alt=\"thumbnail\"\n            title=\"thumbnail\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<h2 id=\"개발을-하고-ios-시뮬에서는-잘-되었는데\" style=\"position:relative;\"><a href=\"#%EA%B0%9C%EB%B0%9C%EC%9D%84-%ED%95%98%EA%B3%A0-ios-%EC%8B%9C%EB%AE%AC%EC%97%90%EC%84%9C%EB%8A%94-%EC%9E%98-%EB%90%98%EC%97%88%EB%8A%94%EB%8D%B0\" aria-label=\"개발을 하고 ios 시뮬에서는 잘 되었는데 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>개발을 하고 iOS 시뮬에서는 잘 되었는데…</h2>\n<p>iOS에서는 AppBar의 title이 중앙에 잘 배치되었다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 690px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 30.555555555555554%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABJElEQVQY021QO07DQBD1IeILxHIBdEsXqLiQZaRgRJoU6SwrJUfIKXIAN0ipjAmYYJQiBfJv/ZN39yFvsgYhRnranZm3b96Odj25gu/76GO/3yOKInDBZW5ZFnRdh2EYGI/HGI1GmM/nstd1HeI4xtNmg/Vqhcf7O0zOCDTbtiWBMTYICiFkbTqdwjRNXBICQoi8LxYL2WuaBmmaIggCBNstijDEzcU5tOVyOUxUwTiDgBhyzvkRJ+dq4N+4tawfwd6hEsnaDNvkFc9fIQ7VAXHxiTB5wXu2w1sSYZd/SI4SV2YeZjNoruvKhFKKuq4lqrpCURZIaIqUpqAlRU5zWcvL41lWJZq6kfz+rVqR5nnesJPepQJnp2+y//Gb27at1HAcB9+mbKJg3hr+5wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/4f8d11f75ea85613fc5f16287ac5787f/7c297/img02.webp 180w,\n/static/4f8d11f75ea85613fc5f16287ac5787f/33ecc/img02.webp 360w,\n/static/4f8d11f75ea85613fc5f16287ac5787f/ffce4/img02.webp 690w\"\n              sizes=\"(max-width: 690px) 100vw, 690px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/4f8d11f75ea85613fc5f16287ac5787f/e9ea2/img02.png 180w,\n/static/4f8d11f75ea85613fc5f16287ac5787f/53918/img02.png 360w,\n/static/4f8d11f75ea85613fc5f16287ac5787f/97114/img02.png 690w\"\n            sizes=\"(max-width: 690px) 100vw, 690px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/4f8d11f75ea85613fc5f16287ac5787f/97114/img02.png\"\n            alt=\"img02\"\n            title=\"img02\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<br>\n<p>근데 직접 APK를 만들어서 내 폰에 올려봤더니 왼쪽으로 정렬되어 있었다.<br>\n폰이 문제인가 싶어서 시뮬레이터를 돌렸더니 역시 똑같이 나왔다.</p>\n<br>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 26.111111111111107%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAABE0lEQVQY023MwUrDQBCA4b6TCr0rVbxFfZG2il58hdQehNgkj+LJS8EWqghaT0Jr0mR3s5vUktQIvxiJevDw8Q8zMI3W7h5XjkP/oo9t2wwGA3zPx/O8n7qeW7Xmuh6+73PpOJx3j2lbh9i9HlvNJo1Op4teGsIwRMQCozSRiFFKsRALpJSYRJOoBKlkta993SIhmI7GDF2P/e0dGqcnZ6gyZRjecROMmcRP3Isp1/Mhk/iRUfRQeU5eeC/W5HlOURS/8pwPYHY7orWxSaPd6VKsC+ZxwEy8MpcBMlEEckGcCEIVVXOkYowxaKOr1rTWGK3JViuso6Pvh2VZkpqUt2xZydKM5Z/Wc5qm/8syjNFY1gGfSsdTgPR6b8QAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/578f9639a75d2952e66a427885fdf0a1/7c297/img03.webp 180w,\n/static/578f9639a75d2952e66a427885fdf0a1/33ecc/img03.webp 360w,\n/static/578f9639a75d2952e66a427885fdf0a1/df77d/img03.webp 720w,\n/static/578f9639a75d2952e66a427885fdf0a1/c30c1/img03.webp 740w\"\n              sizes=\"(max-width: 720px) 100vw, 720px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/578f9639a75d2952e66a427885fdf0a1/e9ea2/img03.png 180w,\n/static/578f9639a75d2952e66a427885fdf0a1/53918/img03.png 360w,\n/static/578f9639a75d2952e66a427885fdf0a1/242a6/img03.png 720w,\n/static/578f9639a75d2952e66a427885fdf0a1/b38af/img03.png 740w\"\n            sizes=\"(max-width: 720px) 100vw, 720px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/578f9639a75d2952e66a427885fdf0a1/242a6/img03.png\"\n            alt=\"img03\"\n            title=\"img03\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<p>왜 이런가 싶었는데 아주 쉽게 해결할 수 있는 문제였다.</p>\n<div class=\"gatsby-highlight\" data-language=\"dart\"><pre class=\"language-dart\"><code class=\"language-dart\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">AppBar</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">StatefulWidget</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">PreferredSizeWidget</span> <span class=\"token punctuation\">{</span>\n\n  <span class=\"token comment\">/// {@template flutter.material.appbar.centerTitle}</span>\n  <span class=\"token comment\">/// Whether the title should be centered.</span>\n  <span class=\"token comment\">///</span>\n  <span class=\"token comment\">/// If this property is null, then [AppBarTheme.centerTitle] of</span>\n  <span class=\"token comment\">/// [ThemeData.appBarTheme] is used. If that is also null, then value is</span>\n  <span class=\"token comment\">/// adapted to the current [TargetPlatform].</span>\n  <span class=\"token comment\">/// {@endtemplate}</span>\n  <span class=\"token keyword\">final</span> bool<span class=\"token operator\">?</span> centerTitle<span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">///....</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>그렇다.<br>\n저 속성을 <strong>true</strong>로 주면 깔끔하게 해결된다.</p>\n<br>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 21.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA+klEQVQY04WNyUrDYACE/9dRkOhNQVTwVD0odUmMUkg1iVAXKFUCFSr0FTzWl9EHyMn0oCI9KpqkTZo/CTSfGJerA8MsDIzQ9nSEEP+ytqNz2brgrHFK8+Scg12drbVN6lqNVqNJfXufw8UNRKWyjqqqGIaBfWRhmzbHpl16y7TQqlVW5xeYU2bpP3gEYUgUxziOw9LKMr3bHl94fnrkpttFdDrX/OKjGPFejHidBLxNQhKysu/f3TMzNY1M0zKP8zFhGhLIgCANkbkse8/zEO32FUmSkOc5wyRiKKM/jZK4HL4MBiiKgu/7FEVBmqXITJLl2bf/OXJdl087OeVx3fSljgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/6b35a1e5465cf4bb3341ddf0d6c36f0f/7c297/img01.webp 180w,\n/static/6b35a1e5465cf4bb3341ddf0d6c36f0f/33ecc/img01.webp 360w,\n/static/6b35a1e5465cf4bb3341ddf0d6c36f0f/df77d/img01.webp 720w,\n/static/6b35a1e5465cf4bb3341ddf0d6c36f0f/5c666/img01.webp 1080w,\n/static/6b35a1e5465cf4bb3341ddf0d6c36f0f/95f20/img01.webp 1440w,\n/static/6b35a1e5465cf4bb3341ddf0d6c36f0f/6b378/img01.webp 1492w\"\n              sizes=\"(max-width: 720px) 100vw, 720px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/6b35a1e5465cf4bb3341ddf0d6c36f0f/e9ea2/img01.png 180w,\n/static/6b35a1e5465cf4bb3341ddf0d6c36f0f/53918/img01.png 360w,\n/static/6b35a1e5465cf4bb3341ddf0d6c36f0f/242a6/img01.png 720w,\n/static/6b35a1e5465cf4bb3341ddf0d6c36f0f/b4ad3/img01.png 1080w,\n/static/6b35a1e5465cf4bb3341ddf0d6c36f0f/89066/img01.png 1440w,\n/static/6b35a1e5465cf4bb3341ddf0d6c36f0f/37cfc/img01.png 1492w\"\n            sizes=\"(max-width: 720px) 100vw, 720px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/6b35a1e5465cf4bb3341ddf0d6c36f0f/242a6/img01.png\"\n            alt=\"img01\"\n            title=\"img01\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<br>\n<p>플러터를 이제 막 하는 사람으로써..<br>\n이런 부분은 좀 신기했다.</p>\n<p>둘다 똑같이 표현이 되어야 하는데 속성이 있고 없음으로 인해,<br>\n안드랑 아이폰 표현이 틀리다니..</p>\n<p>앞으로 고생좀 할것 같은 예감이 든다..</p>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#%EA%B0%9C%EB%B0%9C%EC%9D%84-%ED%95%98%EA%B3%A0-ios-%EC%8B%9C%EB%AE%AC%EC%97%90%EC%84%9C%EB%8A%94-%EC%9E%98-%EB%90%98%EC%97%88%EB%8A%94%EB%8D%B0\">개발을 하고 iOS 시뮬에서는 잘 되었는데…</a></li>\n</ul>\n</div>","excerpt":"개발을 하고 iOS 시뮬에서는 잘 되었는데… iOS에서는 AppBar의 title이 중앙에 잘 배치되었다.  근데 직접 APK를 만들어서 내 폰에 올려봤더니 왼쪽으로 정렬되어 있었다. 폰이 문제인가 싶어서 시뮬레이터를 돌렸더니 역시 똑같이 나왔다.  왜 이런가 싶었는데 아주 쉽게 해결할 수 있는 문제였다. 그렇다. 저 속성을 true로 주면 깔끔하게 해결된다.  플러터를 이제 막 하는 사람으로써.. 이런 부분은 좀 신기했다. 둘다 똑같이 표현이 되어야 하는데 속성이 있고 없음으로 인해, 안드랑 아이폰 표현이 틀리다니.. 앞으로 고생좀 할것 같은 예감이 든다.. 개발을 하고 iOS 시뮬에서는 잘 되었는데…","frontmatter":{"date":"2023.06.27","title":"(Flutter) AppBar 사용 시 중앙정렬 문제 (Android)","categories":"dart_flutter","emoji":"📜"},"fields":{"slug":"/dart_flutter/230627_appbar-center/"}},"next":{"id":"6132586b-c840-5327-abb3-c00ad2e8b83b","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 667px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 37.222222222222214%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA/UlEQVQoz3WRQU6DUBCGWXkGD+U9vIFbb+DSG7gycekFXBitwQRcUEgTIEoFQQtF2hLmfQbo00LrJJP3Mu+bP/PmN0QpdOirUmqUwi4nstszZI22GJSCkzcd0DQN/0W2anBz2XJykDWiSrhwa6YVfOcLJpMnoijq0nEcgiAgDEOKRc7JlcPR6TV3L69IvWL+HhPHMWmakmVZL7hWcP7wya37BZuKt2iO53nYtt2dpmliWRbrsuTsccnx5ZSb+xmomjTL8H2fJEkoigIR6b8cfix5niV7exlHWwk2f4yMmG6HQ1MOC+m33rUhM+7pJmxFtXP7DusG9TuVFj/E/QBlrxtrR+aZjQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/2cf2ed8b48f804d8174ffc3a202929cc/7c297/thumbnail_flutter.webp 180w,\n/static/2cf2ed8b48f804d8174ffc3a202929cc/33ecc/thumbnail_flutter.webp 360w,\n/static/2cf2ed8b48f804d8174ffc3a202929cc/03032/thumbnail_flutter.webp 667w\"\n              sizes=\"(max-width: 667px) 100vw, 667px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/2cf2ed8b48f804d8174ffc3a202929cc/e9ea2/thumbnail_flutter.png 180w,\n/static/2cf2ed8b48f804d8174ffc3a202929cc/53918/thumbnail_flutter.png 360w,\n/static/2cf2ed8b48f804d8174ffc3a202929cc/e31cc/thumbnail_flutter.png 667w\"\n            sizes=\"(max-width: 667px) 100vw, 667px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/2cf2ed8b48f804d8174ffc3a202929cc/e31cc/thumbnail_flutter.png\"\n            alt=\"thumbnail\"\n            title=\"thumbnail\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<h1 id=\"앱을-만들기-전-폰에서-돌려보고-싶었다\" style=\"position:relative;\"><a href=\"#%EC%95%B1%EC%9D%84-%EB%A7%8C%EB%93%A4%EA%B8%B0-%EC%A0%84-%ED%8F%B0%EC%97%90%EC%84%9C-%EB%8F%8C%EB%A0%A4%EB%B3%B4%EA%B3%A0-%EC%8B%B6%EC%97%88%EB%8B%A4\" aria-label=\"앱을 만들기 전 폰에서 돌려보고 싶었다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>앱을 만들기 전 폰에서 돌려보고 싶었다.</h1>\n<p><a href=\"https://bcow.world\">흑우집합소</a>의 모바일 버전을 슬슬 준비하면서, 플러터를 공부했다.<br>\n뭐 일일히 다 본건 아니고, 유튜브랑 노마드코더에서 학습을 했다.</p>\n<p>일단 빠르게 결과물을 내는게 중요해서 먼저 예제를 몇 가지 만들어보고 바로 개발해보려 했다.<br>\n그래서 노마드코더의 예제를 다 만들고 나서 이걸 폰으로 올려보고 싶었다.</p>\n<p>난 아이폰과 안드로이드폰 둘 다 있어서 둘다 올려보려 했지만,<br>\n아이폰의 경우 몇 가지 설정하고 하는게 있어서 다음 포스팅에 정리해서 올려보기로 하고…</p>\n<p>이번 포스팅에서는 안드로이드 폰에 올려보는걸 목표로 해본다.<br>\n일단 <strong>flutter doctoc</strong>에서 모든 이슈가 없는 상태에서 시작한다.</p>\n<p>그리고 결과물은 **abb(Android App Bundle)**라는 앱 번들과 APK로 만들 수 있는데,<br>\n이번에는 둘 다 만들어볼 예정이다.</p>\n<p>사실 abb는 처음봤는데…<br>\n예전 안드로이드 개발할 때는 APK만 있었는데 이상한게 나왔다…</p>\n<p>일단 먼저 서명키를 만드는 것부터 시작한다.</p>\n<h2 id=\"서명키-준비\" style=\"position:relative;\"><a href=\"#%EC%84%9C%EB%AA%85%ED%82%A4-%EC%A4%80%EB%B9%84\" aria-label=\"서명키 준비 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>서명키 준비</h2>\n<p>서명키는 앱의 서명을 해주는 키다.<br>\n이거로 자신이 개발한 앱임을 증명하는데, 자세한 것은 <a href=\"https://www.google.com/url?sa=t&#x26;rct=j&#x26;q=&#x26;esrc=s&#x26;source=web&#x26;cd=&#x26;ved=2ahUKEwjxx8vX4tn_AhVlt1YBHSF4BNsQFnoECBQQAQ&#x26;url=https%3A%2F%2Fdeveloper.android.com%2Fstudio%2Fpublish%2Fapp-signing%3Fhl%3Dko&#x26;usg=AOvVaw2un1FO7hYwEdyiNzF43QhT&#x26;opi=89978449\">구글 공식 문서-앱서명</a>을 참고하자.</p>\n<p>콘솔로 할 수 있고, 안드로이드 스튜디오를 통해서 할 수도 있다.<br>\n뭐 당연한 이야기겠지만, 이 키를 소실하면 더 이상 스토어에서 업데이트도 못한다.<br>\n잘 관리하자.</p>\n<br>\n<h3 id=\"콘솔\" style=\"position:relative;\"><a href=\"#%EC%BD%98%EC%86%94\" aria-label=\"콘솔 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>콘솔</h3>\n<p>난 맥을 써서 맥을 기준으로 작성했다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">keytool -genkey -v -keystore ~/my_key.jks -keyalg RSA -keysize 2048 -validity 9125 -alias dev_my_key</code></pre></div>\n<p>옵션은 아래와 같다.</p>\n<ul>\n<li><strong>genkey</strong>\n<ul>\n<li>키를 생성하는 것</li>\n</ul>\n</li>\n<li><strong>keystore</strong>\n<ul>\n<li>키 저장 파일명 (확장자는 jks)</li>\n</ul>\n</li>\n<li><strong>keyalg</strong>\n<ul>\n<li>키 생성 알고리즘</li>\n</ul>\n</li>\n<li><strong>keysize</strong>\n<ul>\n<li>키 사이즈 (1024, 2048 등)</li>\n</ul>\n</li>\n<li><strong>validity</strong>\n<ul>\n<li>인증서의 유효기간 (단위는 일(Day) 기준)</li>\n</ul>\n</li>\n<li><strong>alias</strong>\n<ul>\n<li>키의 별칭을 지정</li>\n</ul>\n</li>\n</ul>\n<p>이렇게 알맞게 옵션을 정하면 서명키를 만들 수 있다.</p>\n<br>\n<h3 id=\"안드로이드-스튜디오\" style=\"position:relative;\"><a href=\"#%EC%95%88%EB%93%9C%EB%A1%9C%EC%9D%B4%EB%93%9C-%EC%8A%A4%ED%8A%9C%EB%94%94%EC%98%A4\" aria-label=\"안드로이드 스튜디오 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>안드로이드 스튜디오</h3>\n<p>이번엔 안드로이스 스튜디오에서 만드는 법을 알아본다.<br>\n난 VScode를 통해서 플러터를 개발하는데, 안드로이드 스튜디오에서 프로젝트를 열어준다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 399px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 95%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAAD0klEQVQ4y2VUaU8bVxT1j0hpWRpsA8YevM9me8YLgy0wQjRSyuemKaBEbVOpfydqS9i9MLbxNuN9AQNSkr90oncNNlI/HL03mnlnzr3n3GdZ4YLw8RH4BQWra0FYV9Zgd3iwtOqFfdWDZacPTg9P71Y4Pzi3iEjkFaJCClo4jSifhBTchBJ9jbi8BQsjFCMaktuvEVKTcAfCcHlFONaCBM4rQgjFERBVgk9QEBAU8KEEZDUJMRSHW92BHNuEHFmHxbayRn8XQgkE5Sjcfgl2hxszc1Z8v2DDzLwVL2YX8d3sIl7MvsTMvB3zNg5Whw9zVifmbS78aGPreG9xeWRI0QS03TQ2d/YQjqXg5VX88uYd3vz6Hm/f/o79/T/x2/4fBLY/OPiAd+//xsHhXzg4/EDr4ePe4vRI8EsR7G1uYWv7Z/DhBJXerPVwdVlCpWDiYfgVd/3PuBt8wf0En3E//EJ4YBh8pe8sS04vrHYOYkSAGI9hYXEVa14BxXwVRx9PkTsvEnmj2oVZ7aBR7aHJUBujNUEfrXoflmWXH/ZlDi8FCW4lgQCvIL6xDT1XwdlRBsf/nOPiJE9Ku40bOtQ2huiYU3TZszFE1xzCwmKxvOrBynoaUjRFjgqhGPRcGadHlzg9yuC/jyc4P87h4jhHqhhJ2xig8wRzQGRdczAmZE4rHjdCyjpFSFbWUS4YqBQMlPU6CrkKSvkaoX7dglnpklJSW++jY/TRNQbPCTksiiqEcAJSREMq/YoOZ07zKOYqyJ4XkDm9on4y1cVcFf3WCP3mLWHYGuGmPcJtazRVOCdGIakb5DDrIVOYvyhCz5ZJoZ4p4+rymn5UzNdQ1g2UclVUdAMVvY5awUSj1JoSungJsqJBUjSIoRgdYIREmikje6aTShal/EWJlLN3bC1kyyhlq6jq5rRkVVIRZmSRdaS2fqKPzj5lkHss16x00Gveote4Ra85Qq9xMyl50Bph2L7HsP3wrIdyGkJEI5eTm7sUk1K+iuurGvWMtaBeaqJabMAod8gMgtF/dPkGvcaIXQ4BLC5xcMREiousbEBL7ZC7TBkjZeWefcri8iSPk38vyCQWk86js93GkJT3G3ew2J0+uF0+pDUVUnSDbhcWm2u9TspYzwrZyngqSNFggucZZC0ghTaHB16/hFRyF35RxYLVAU9AHhNmx41nitjojceN5e//hERq3rLrywt3wA9tR4OD4/HDgh1+PkxRYZPBFLLDk9mtTwmnpNMRtCy5AnBwHuzF4wgrG+BDcQRFBZkznfr1pGw6GQO0jCHaTySEm8n6DVMxqijLTqyqAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/10a01d751e016b710e5dbf4270a42fac/7c297/img01.webp 180w,\n/static/10a01d751e016b710e5dbf4270a42fac/33ecc/img01.webp 360w,\n/static/10a01d751e016b710e5dbf4270a42fac/9792e/img01.webp 399w\"\n              sizes=\"(max-width: 399px) 100vw, 399px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/10a01d751e016b710e5dbf4270a42fac/e9ea2/img01.png 180w,\n/static/10a01d751e016b710e5dbf4270a42fac/53918/img01.png 360w,\n/static/10a01d751e016b710e5dbf4270a42fac/f7599/img01.png 399w\"\n            sizes=\"(max-width: 399px) 100vw, 399px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/10a01d751e016b710e5dbf4270a42fac/f7599/img01.png\"\n            alt=\"img01\"\n            title=\"img01\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<p>VSCode를 쓸 경우 위 사진처럼 <strong>Open in Android Studio</strong>를 사용한다.<br>\n그럼 안드로이드 스튜디오가 해당 폴더를 기반으로 열린다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 503px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 40%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAx0lEQVQoz63QzW6DMBAEYD9GcW4pirHTgALG/CXg2AbS93+gqdiqFVI4JTl8GmkOs9KyJEnwDnEcox8s2FsGpaTBwd7AhBB41TL6ud/DhwCmlMKalIouyjXq5YbfXikJIQ6o6gbsah3WBhfgxhlunIj1IwbnKRe3sJiI9QG9n9H7O2WYv8G+0gx/jqcUeaHRtB3qpiWmqpGdcxS6JLo0KE0FbSqcC41Ut8iMRao7tN0FjHOOtSiKHnAebff/Pih3Ow62/Zvn/QALT/E3cEiLmgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/b786bb2502438d26bfb69d044e58b424/7c297/img02.webp 180w,\n/static/b786bb2502438d26bfb69d044e58b424/33ecc/img02.webp 360w,\n/static/b786bb2502438d26bfb69d044e58b424/9006a/img02.webp 503w\"\n              sizes=\"(max-width: 503px) 100vw, 503px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/b786bb2502438d26bfb69d044e58b424/e9ea2/img02.png 180w,\n/static/b786bb2502438d26bfb69d044e58b424/53918/img02.png 360w,\n/static/b786bb2502438d26bfb69d044e58b424/36069/img02.png 503w\"\n            sizes=\"(max-width: 503px) 100vw, 503px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/b786bb2502438d26bfb69d044e58b424/36069/img02.png\"\n            alt=\"img02\"\n            title=\"img02\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<p>처음 오픈해서 그런지 <strong>gradle</strong> 빌드가 오래 걸린다.<br>\n한창 자바 스프링 개발할 때가 생각났다. ㅎㅎ</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 422px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 55.55555555555556%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACrElEQVQoz1WSW08TURSF+z9UWo1Y2gdjNFHxFguFoKK+CEVjYrxULPqikniLJhrxgohQlYrFlplpO9O5dW6AENSEGK8JalSI+mM+MyOa+PBl75OTs7L2Ojs0c0zlRbfB+9NTeIckvMMS872zfLwyy6++D7y5NMm3m6+Zv/6Szzdf8fX2HHPXXD72zfJj+AOzVy0+9c/xfegdX7NvCbU17yGxPUnPsTPoiomQEyg8LCDmRIQRgZpUwypbWBUbS7ZxFAdP86hVaniqx5Xeq+zYlqA1uYtkUxuhbYkEGzY3ciJ9CstwKIsyakUPxP3qmh5uzWcC15rAsyeZcKZwah7T3gwXLlymccdO2tr30bp7D6FNjVtYu249R48cx5RNFEHBkA30so5e0dFKWkBVqqKW1ABdNrA1m2l3hvNne9m4aStNzS00NScJNTQ0EA7XkepIYSgmFaFCqVimWlLRZD147KP54rIeVF0xMKsmU85zMt0Zli9fRjS6hvrVqwnFY3EikQhdHSlc1UCXyhilCpZcxVV1bEXFUTQcv6/qQfWxZJUZy+V0d4ZwOEw8Hsc3F4rFYkQiYTo7usjmZG7057k7JHDr/hh3hgQGsiJ9958xMqZTkBzygh3wtFijIHmk0z3BhLHYkmBDLE79qjCJ9kO0DPxk74NFkv3f2f9gMaD13gK7BxZovrtA++Ai9Re/sKL3M3Xn51l5+QctB89Rv3IFvk40Gv3rMELHgS5y+SqD2QLDj0UGs0XGJQuh7CKWXcZLDkXJ4ZloM+a7HK9Rqk6TTmf+OfwnGPYz7EwhF0WeDD+ikHtK/lGO8Sd5hNExCrlRCiOjQW8rWpCln+G05dJz8hR1Sxn+5zB1oBNz6ZcVSUERlWBF/HUJzpIS9FpZQ6towZ1rumROZv4ILjn8DZnxLj6Pdez0AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/5a0bebb3c7e63ff1b10a07f308455d7e/7c297/img03.webp 180w,\n/static/5a0bebb3c7e63ff1b10a07f308455d7e/33ecc/img03.webp 360w,\n/static/5a0bebb3c7e63ff1b10a07f308455d7e/7103a/img03.webp 422w\"\n              sizes=\"(max-width: 422px) 100vw, 422px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/5a0bebb3c7e63ff1b10a07f308455d7e/e9ea2/img03.png 180w,\n/static/5a0bebb3c7e63ff1b10a07f308455d7e/53918/img03.png 360w,\n/static/5a0bebb3c7e63ff1b10a07f308455d7e/de25e/img03.png 422w\"\n            sizes=\"(max-width: 422px) 100vw, 422px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/5a0bebb3c7e63ff1b10a07f308455d7e/de25e/img03.png\"\n            alt=\"img03\"\n            title=\"img03\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<p>상단 메뉴의 <strong>Build</strong>에서 <strong>Generate Signed Bundle/ APK</strong>를 선택한다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 577px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 78.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAACAklEQVQ4y42T63KbMBCF/SbGkD+JsWRwM0kMSBjM/WIMTibT8WN0+vqnswIc4zZpfnyzSAtHu8vRjD0s8WhbMH9wMD7AOCzbhmXZsDcbWPbmEkdWjGHF+AX67v7+ATPH3qBJUzyWEo4nsfUkXlyBJC9xaE+ojx0ObaciUdQN4qyAK3fw/OCC2IVgfI3Zam0hTDKU5QF5dUBZN6iaI2QQ4mnrKvFnx+txhVoTjvDV4SN0gLlimJFqECWIshz7JEOU5oizHLt9DBns/wlVQ1w/+2GEJQmajCvBvKqR5AXSokJW1siKCnnZ79Fa7Q+5JCuQ5qXKK6pa7asKaaB0Es3p2L2i6U59bE9q/+Wqra9wxK6vcBSsm3YYfIv29U3N0w/2ajbfgX5ML8jXauFKf6BP0tAJWo/xluv8hyDjEGEKL24g4gZeEE8EPhO7zk8FOYcMY8h9AtenFoP/tnd74I3gWtkkzQtsPXF54Stu2/1LkHxEyam/prfgOvZiPpyxyslPYRxhnCpfEfHgsbQo1fWjSB4jw1Mkw19aFhKO62LrOvCkP7UNESapujGTKj5rnby3SyDKM0R1hhtVME2zF6QrR5VVTYvu7V1VrNodWvwg7KF96cOLaoQ/fyE6/4Yo3mGaS8wMw4Bu3EFb6JhrC8znGha6joVufAMdmqZB0+Yw7kjHwB8LtiYLpr1O5QAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/04ad52bc85b8b654f2172e8e56311d2e/7c297/img04.webp 180w,\n/static/04ad52bc85b8b654f2172e8e56311d2e/33ecc/img04.webp 360w,\n/static/04ad52bc85b8b654f2172e8e56311d2e/d4ad0/img04.webp 577w\"\n              sizes=\"(max-width: 577px) 100vw, 577px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/04ad52bc85b8b654f2172e8e56311d2e/e9ea2/img04.png 180w,\n/static/04ad52bc85b8b654f2172e8e56311d2e/53918/img04.png 360w,\n/static/04ad52bc85b8b654f2172e8e56311d2e/32e64/img04.png 577w\"\n            sizes=\"(max-width: 577px) 100vw, 577px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/04ad52bc85b8b654f2172e8e56311d2e/32e64/img04.png\"\n            alt=\"img04\"\n            title=\"img04\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<p>창이 하나 뜨는데 먼저 <strong>abb</strong>를 만들어본다.<br>\n물론 아래 APK를 선택해도 무방하다.</p>\n<br>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.88888888888889%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB2ElEQVQoz1WTWXajMBBFvZ3YjuMBT0xCI0JicOz0yVey/128PlUY2v1xj9DA40oqFunHFsf8hO0lwX6fYJ8csdsfsD8kyEsBUUlUUnFbigpplmN3SHh+gvvJEcvVCos8zRCGHoXSKCpCQbkGxkc4H2DqBtr5GWkcSqlRKoNSTmhU2mK92WCxS04QyiLNS2RlhawUKJWF0JbDcyGf4yO5qFAIyePE9Eyhy/Uai9P5ijq0sD7wIL0klIaybsQR9dxK69hS2enZojKW51brdywOZPi0mS0qyf1XyEwYj/77F8P3D0z7gG97fH79YWJ/GwOP5wufla0bWN+wvlAG+sWKYVsPFzvUsYOhd3yDOkTGNmEMPF9ShG7gkHHLkg/Y1B66rmeoz2POjUxzzw+6EMfA0+XKumQ4XQCdi2tGA8L45mn7YjwFP6GPcSDVD9lNZ5gWgg19bPmyfOw4nOxp3QSVSy7dTKHcGJiczlxflTIcRDdIAcP9gdvjiw88dP1M7AfEvocLHarmDhVuUL6DbR9YvW/GwKbtme72ORfvuOXA7b9i1k9TzfZNjJC+hxx+oeIdK/pTtrsDL1LG8SLa8jUrcHnhmpf/QT+BrQN8iMh0i7L7QWZ6vC3f8Bfql6e8GeHRNQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/7c3f5689171535c07b297f85a425d4e4/7c297/img05.webp 180w,\n/static/7c3f5689171535c07b297f85a425d4e4/33ecc/img05.webp 360w,\n/static/7c3f5689171535c07b297f85a425d4e4/df77d/img05.webp 720w,\n/static/7c3f5689171535c07b297f85a425d4e4/c88ff/img05.webp 736w\"\n              sizes=\"(max-width: 720px) 100vw, 720px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/7c3f5689171535c07b297f85a425d4e4/e9ea2/img05.png 180w,\n/static/7c3f5689171535c07b297f85a425d4e4/53918/img05.png 360w,\n/static/7c3f5689171535c07b297f85a425d4e4/242a6/img05.png 720w,\n/static/7c3f5689171535c07b297f85a425d4e4/bc563/img05.png 736w\"\n            sizes=\"(max-width: 720px) 100vw, 720px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/7c3f5689171535c07b297f85a425d4e4/242a6/img05.png\"\n            alt=\"img05\"\n            title=\"img05\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<p>키가 있는 사람이면 그냥 아래대로 내용을 채우면 된다.</p>\n<ul>\n<li><strong>key store path</strong>\n<ul>\n<li>키 스토어의 경로를 입력한다.</li>\n<li>콘솔의 <strong>keystore</strong>옵션과 같다.</li>\n</ul>\n</li>\n<li><strong>key store password</strong>\n<ul>\n<li>키의 암호를 입력한다.</li>\n</ul>\n</li>\n<li><strong>key alias</strong>\n<ul>\n<li>키의 별칭을 의미한다.</li>\n</ul>\n</li>\n<li><strong>key password</strong>\n<ul>\n<li>별칭의 암호를 입력한다.</li>\n</ul>\n</li>\n</ul>\n<p>위 내용을 작성 후 <strong>Encrypted key export path</strong> 경로에 키 파일이 내보내진다.<br>\n만약 키가 없다면 <strong>key store path</strong>에서 **Create new…**버튼을 선택한다.</p>\n<br>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 515px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 103.8888888888889%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAACZElEQVQ4y51Uy3KbQBDko1KRBBK7wL5YXkJYtmM5qcohtxzy/5dO9SBsyY7Ldg5d+6S3p2eG5HansW4UvtgUq1WGVZri6/oZITaIbSfwIWK1yfB1vZnPNylWaTZjMyPx1qMMHoV3KCoH7Tu4boJtDzL6/gZhOCIMNzJf9jmaZoTyLZRroUMP5TskJkSE2Apc3cB2Nxjvv2O4PWH89gP97Qn785rojyfs7x5lrz8+oGr2KOMA20+o2gmJDRFNv4fxNTbbHIWxqJxH6dwVdGXhYwtfN1Bl9XTH+ADjPUwI8m1CVby8UwW2qkBelNjpUta5Ps//gbfOktJ6eY0LEma5RmGc7KnSQFUz9BOsjOoFuJeXFRIS1G0nH6c7hXSnEbse+2lCxVAkpBkSpqUF1/uCEOQsoTKG3XSDKNtslXixeLlc5tz6Gm2/h0R19m0htKGeCRmmj42YzQOS8qDpB3koL6pr7y7W9Fs8X0Z6OIfcox8PGMZJXucjro6orEeWz74uoCWX65dI6BuVDIcJ7TBKWC5EUUKjC+s+DLUkRfwJUXxg+FJKxl559C5CEAFCSDJmNjSdZPypeJlZ7z8Ekl4Q1ojtTMjyYceQ0Pw3oX8OlS3IPXr4TBjewSuFUYiYDKp8TfhJhVQmCkOUH4D0ti4/RVhdEhoJuZXao0KO4mEIb4K+E/N6nlOIELKYF/8YfuWChLy04Evww7lLKhSs1bKALjSU1jPhOsuxznZXYMEz29dQcpdE/Iey1LalR9r+hBp/Ye2OSNi7S1LsGeYN8Izq2arH+wcc7+7huwPM3W/Upz/Q/SP+Ampz9gr89ZoUAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/32311e86f8ea82153f263e86b9d4aca2/7c297/img09.webp 180w,\n/static/32311e86f8ea82153f263e86b9d4aca2/33ecc/img09.webp 360w,\n/static/32311e86f8ea82153f263e86b9d4aca2/2a394/img09.webp 515w\"\n              sizes=\"(max-width: 515px) 100vw, 515px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/32311e86f8ea82153f263e86b9d4aca2/e9ea2/img09.png 180w,\n/static/32311e86f8ea82153f263e86b9d4aca2/53918/img09.png 360w,\n/static/32311e86f8ea82153f263e86b9d4aca2/70021/img09.png 515w\"\n            sizes=\"(max-width: 515px) 100vw, 515px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/32311e86f8ea82153f263e86b9d4aca2/70021/img09.png\"\n            alt=\"img09\"\n            title=\"img09\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<p>아래와 같은 항목이 뜨는데 적당히 입력해주자.<br>\n몇 가지 참고사항을 적자면…</p>\n<ul>\n<li>key의 validity는 25년동안 키의 유효성을 나타낸다.</li>\n<li>Certificate는 키의 인증 정보를 나타낸다.</li>\n<li>따라서 개발용이면 생략해도 좋지만, 배포키라면 정보를 입력하는게 좋다.</li>\n</ul>\n<h2 id=\"aab-생성\" style=\"position:relative;\"><a href=\"#aab-%EC%83%9D%EC%84%B1\" aria-label=\"aab 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>aab 생성</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 59.44444444444444%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABk0lEQVQoz5WS227aQBCGeZlSKdgONqeCvWefCAYMTnrVizxAH6FSFfWuL/1ViwkKaaMmF59md2f2339WM1hGt6Q6ZbyaMZnOmczmJFPPDKE0xuVo67A+Gksm1Sk3mS1eMGc6/0IQhgySZEKzb6k2DUV9R7HesG2PbA8du+M9+87zwN6vz6ybHbascdUaV9XYoqJqdozjhEEQ3aJdidCWTBma3ZaqLlFaoo16E6nEBSEzjDOEUdQLSpOTSs1KKNrHH9hvv4m3P5m2T0z3T3185vX+fLbofjGKVwzCk6A7iZ0wG1buwMq172ZpW0TZEURx79DkJcYVaOedSjIhyOT7SUWGMpog9C2HEa6syasaV1Sk0pCqDyI10uZ4c3+17JPZueh/ZC9qrwSVza+EfPwIV4LBC4fLTF5cplK94UxdJuK5fpkKhDb9H3qH1V1DvdnSdg+Yojo94Eepj6+wOUI76mbHobvHbY64r99xh8d+DofDz3hR79RP+igIuRkF3IzCf3PO+zvjJGEUjQniBWE849NwyB9D6KAg86sCoAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/76c30060dadbae8a003a08246322ad5f/7c297/img07.webp 180w,\n/static/76c30060dadbae8a003a08246322ad5f/33ecc/img07.webp 360w,\n/static/76c30060dadbae8a003a08246322ad5f/df77d/img07.webp 720w,\n/static/76c30060dadbae8a003a08246322ad5f/dbf53/img07.webp 746w\"\n              sizes=\"(max-width: 720px) 100vw, 720px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/76c30060dadbae8a003a08246322ad5f/e9ea2/img07.png 180w,\n/static/76c30060dadbae8a003a08246322ad5f/53918/img07.png 360w,\n/static/76c30060dadbae8a003a08246322ad5f/242a6/img07.png 720w,\n/static/76c30060dadbae8a003a08246322ad5f/7e81d/img07.png 746w\"\n            sizes=\"(max-width: 720px) 100vw, 720px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/76c30060dadbae8a003a08246322ad5f/242a6/img07.png\"\n            alt=\"img07\"\n            title=\"img07\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<br>\n<p>이렇게 입력하고 next를 누른 경우 Build 결과물을 선택하는게 나오는데 난 release를 선택했다.<br>\n그리고 기다리면 서명이 다 되고 결과가 출력된다.</p>\n<br>\n<p><img src=\"/img08.png\" alt=\"\"></p>\n<p>그럼 <strong>android/app/release</strong>경로를 확인하면 <strong>app-release.aab</strong> 파일이 생성된다.</p>\n<h2 id=\"apk-생성\" style=\"position:relative;\"><a href=\"#apk-%EC%83%9D%EC%84%B1\" aria-label=\"apk 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>APK 생성</h2>\n<p>아마 aab를 폰으로 설치하려면 까다로운 과정이 필요하다.<br>\n<a href=\"https://github.com/google/bundletool/releases\">bundletool</a> 이란걸 통해서 apk를 만들고 해야 하는데,<br>\n이 과정은 이번 포스팅에서 다루지 않는다.</p>\n<p>대신 Flutter를 통해서 apk를 생성해보도록 하겠다.</p>\n<h3 id=\"키-파일-준비\" style=\"position:relative;\"><a href=\"#%ED%82%A4-%ED%8C%8C%EC%9D%BC-%EC%A4%80%EB%B9%84\" aria-label=\"키 파일 준비 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>키 파일 준비</h3>\n<p>위에서 만든 키 파일을 준비한다.<br>\n나 같은 경우 편의를 위해서 안드로이드 디렉토리 밑에 넣어뒀다.</p>\n<p>Flutter 디렉토리를 보면 안드, ios 등 디렉토리가 나눠져있다.</p>\n<p><img src=\"/img10.png\" alt=\"\"></p>\n<p>저기 디렉토리 안에 <strong>app</strong>이란 곳에 생성한 키 파일인 <strong>key.jks</strong>를 넣어뒀다.</p>\n<p><img src=\"/img11.png\" alt=\"\"></p>\n<br>\n<h3 id=\"키-정보-파일-추가\" style=\"position:relative;\"><a href=\"#%ED%82%A4-%EC%A0%95%EB%B3%B4-%ED%8C%8C%EC%9D%BC-%EC%B6%94%EA%B0%80\" aria-label=\"키 정보 파일 추가 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>키 정보 파일 추가</h3>\n<p>키 정보를 담는 property 파일을 하나 만들어준다.<br>\n경로는 적당한 곳에?<br>\n난 <strong>app</strong> 디렉토리 밑에 만들었다.</p>\n<p>파일명은 임의로 해도 되지만 이번 포스팅에서는 <strong>key.properties</strong>로 정해줬다.<br>\n안에는 다음과 같이 자신이 작성한 정보를 입력해준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">storePassword=[Key Store 암호]\nkeyPassword=[Alise 암호]\nkeyAlias=[Alise 이름]\nstoreFile=[키 파일 위치]</code></pre></div>\n<br>\n<h3 id=\"buildgradle-수정\" style=\"position:relative;\"><a href=\"#buildgradle-%EC%88%98%EC%A0%95\" aria-label=\"buildgradle 수정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>build.gradle 수정</h3>\n<p>저 파일은 참고로 <strong>app디렉토리 밑에 있는 파일</strong>을 의미한다.<br>\n<strong>android 디렉토리 내에 있는 파일</strong>이 아니다.</p>\n<p>먼저 프로퍼티를 가져오는 변수를 정해준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"gradle\"><pre class=\"language-gradle\"><code class=\"language-gradle\"><span class=\"token punctuation\">...</span>\n\n<span class=\"token keyword\">def</span> Properties keystoreProperties <span class=\"token operator\">=</span> new <span class=\"token class-name\">Properties</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">def</span> keystorePropertiesFile <span class=\"token operator\">=</span> <span class=\"token keyword\">project</span><span class=\"token punctuation\">.</span>rootProject<span class=\"token punctuation\">.</span><span class=\"token function\">file</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./app/key.properties'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>keystorePropertiesFile<span class=\"token punctuation\">.</span><span class=\"token function\">exists</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    keystoreProperties<span class=\"token punctuation\">.</span><span class=\"token function\">load</span><span class=\"token punctuation\">(</span>new <span class=\"token class-name\">FileInputStream</span><span class=\"token punctuation\">(</span>keystorePropertiesFile<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">apply</span> <span class=\"token keyword\">plugin</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'com.android.application'</span>\n<span class=\"token keyword\">apply</span> <span class=\"token keyword\">plugin</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'kotlin-android'</span>\n<span class=\"token keyword\">apply</span> from<span class=\"token punctuation\">:</span> <span class=\"token interpolation-string\"><span class=\"token string\">\"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$</span><span class=\"token expression\">flutterRoot</span></span><span class=\"token string\">/packages/flutter_tools/gradle/flutter.gradle\"</span></span>\n\nandroid <span class=\"token punctuation\">{</span>\n    namespace <span class=\"token interpolation-string\"><span class=\"token string\">\"\"</span></span>\n    <span class=\"token punctuation\">...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>그리고 <strong>android</strong> 속성에 다음과 같이 추가 해준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"gradle\"><pre class=\"language-gradle\"><code class=\"language-gradle\">    android <span class=\"token punctuation\">{</span>\n        <span class=\"token punctuation\">...</span>\n\n        defaultConfig <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).</span>\n        applicationId <span class=\"token interpolation-string\"><span class=\"token string\">\"com.example.toonflix\"</span></span>\n        <span class=\"token comment\">// You can update the following values to match your application needs.</span>\n        <span class=\"token comment\">// For more information, see: https://docs.flutter.dev/deployment/android#reviewing-the-gradle-build-configuration.</span>\n        minSdkVersion flutter<span class=\"token punctuation\">.</span>minSdkVersion\n        targetSdkVersion flutter<span class=\"token punctuation\">.</span>targetSdkVersion\n        versionCode flutterVersionCode<span class=\"token punctuation\">.</span><span class=\"token function\">toInteger</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        versionName flutterVersionName\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">// start of signingConfigs</span>\n    signingConfigs <span class=\"token punctuation\">{</span>\n        release <span class=\"token punctuation\">{</span>\n            keyAlias keystoreProperties<span class=\"token punctuation\">[</span><span class=\"token string\">'keyAlias'</span><span class=\"token punctuation\">]</span>\n            keyPassword keystoreProperties<span class=\"token punctuation\">[</span><span class=\"token string\">'keyPassword'</span><span class=\"token punctuation\">]</span>\n            storeFile <span class=\"token function\">file</span><span class=\"token punctuation\">(</span>keystoreProperties<span class=\"token punctuation\">[</span><span class=\"token string\">'storeFile'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n            storePassword keystoreProperties<span class=\"token punctuation\">[</span><span class=\"token string\">'storePassword'</span><span class=\"token punctuation\">]</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    buildTypes <span class=\"token punctuation\">{</span>\n        release <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">// TODO: Add your own signing config for the release build.</span>\n            <span class=\"token comment\">// Signing with the debug keys for now, so `flutter run --release` works.</span>\n            <span class=\"token comment\">// signingConfig signingConfigs.debug</span>\n            signingConfig signingConfigs<span class=\"token punctuation\">.</span>release\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">...</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p>추가된 것은 <strong>signingConfigs</strong>이거다.<br>\nrelease 빌드 때 서명 정보를 전달한다.</p>\n<p>그리고 아래처럼 <strong>buildTypes</strong>정보는 release로 변경한다.</p>\n<br>\n<h3 id=\"flutter-build\" style=\"position:relative;\"><a href=\"#flutter-build\" aria-label=\"flutter build permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>flutter build</h3>\n<p>위 작업까지 끝낸 뒤 flutter를 실행하기 위해 콘솔을 연다.<br>\n그리고 아래의 명령어를 실행한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">flutter build apk --split-per-abi</code></pre></div>\n<p><img src=\"./images/230623_build-android/img12.png\" alt=\"\"></p>\n<br>\n<p>이렇게 하면 위 처럼 apk가 생성된다.<br>\n이 중 <strong>arm64</strong>아키텍쳐가 보통 안드로이드 폰에서 돌아가는 것이다.<br>\n사실 나머지 두 아키텍쳐는 잘 모르겠다.</p>\n<p>무튼 <strong>arm64</strong>로 만들어진 apk를 폰으로 옮겨서 설치하면 실행이 잘 된다.</p>\n<br>\n<h3 id=\"번외---proguard-설정\" style=\"position:relative;\"><a href=\"#%EB%B2%88%EC%99%B8---proguard-%EC%84%A4%EC%A0%95\" aria-label=\"번외   proguard 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>번외 - Proguard 설정</h3>\n<p>프루가드(Proguard)도 설정할 수 있다.<br>\n먼저 <strong>app</strong>디렉토리 밑에 <strong>proguard_rules.pro</strong>파일을 생성해준다.</p>\n<p>물론 파일명은 원하는대로 작성해도 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">## Flutter wrapper\n-keep class io.flutter.app.** { *; }\n-keep class io.flutter.plugin.**  { *; }\n-keep class io.flutter.util.**  { *; }\n-keep class io.flutter.view.**  { *; }\n-keep class io.flutter.**  { *; }\n-keep class io.flutter.plugins.**  { *; }\n-dontwarn io.flutter.embedding.**</code></pre></div>\n<p>위 파일을 추가하고 <strong>build.gradle</strong>의 <strong>buildTypes</strong> 속성에 아래와 같이 수정해준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"gradle\"><pre class=\"language-gradle\"><code class=\"language-gradle\">buildTypes <span class=\"token punctuation\">{</span>\n        release <span class=\"token punctuation\">{</span>\n            signingConfig signingConfigs<span class=\"token punctuation\">.</span>release\n\n            <span class=\"token comment\">//config proguard</span>\n            minifyEnabled <span class=\"token boolean\">true</span>\n            useProguard <span class=\"token boolean\">true</span>\n            proguardFiles <span class=\"token function\">getDefaultProguardFile</span><span class=\"token punctuation\">(</span><span class=\"token string\">'proguard-android.txt'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'proguard-rules.pro'</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p>여기까지 해주면 된다.<br>\n근데 가끔 플러터 외부 라이브러리들을 암호화 하다가 에러가 날 수 있다.<br>\n이 경우 proguard를 포기해야 한다.</p>\n<h2 id=\"정리\" style=\"position:relative;\"><a href=\"#%EC%A0%95%EB%A6%AC\" aria-label=\"정리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>정리</h2>\n<p>이거 하는데 약간 시간이 걸렸다 -_-;;<br>\n또 개발해야 하는데 나중에 또 하다 잊을 것 같아서 미리 포스팅해뒀다.</p>\n<p>전에는 안드로이드 스튜디오에서 자바로 코드 작성하고, 뭐 하고 해서 apk 만들고…<br>\n스토어에 배포할 때도 귀찮았는데…</p>\n<p>그냥 개발만 하는게 마음도 편하고 쉬운 것 같다.<br>\n환경 구성 및 배포는 사람을 피곤하게 만든다…</p>\n<br>\n<h3 id=\"참고\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0\" aria-label=\"참고 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>참고</h3>\n<p><a href=\"https://velog.io/@cho2kkh/Flutter-%EC%95%88%EB%93%9C%EB%A1%9C%EC%9D%B4%EB%93%9C-%EC%95%B1-%EB%B0%B0%ED%8F%ACAPK\">[Flutter] 안드로이드 앱 배포(APK)</a><br>\n<a href=\"https://ffuny.tistory.com/155\">Flutter 배포하기</a></p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#%EC%84%9C%EB%AA%85%ED%82%A4-%EC%A4%80%EB%B9%84\">서명키 준비</a></p>\n<ul>\n<li><a href=\"#%EC%BD%98%EC%86%94\">콘솔</a></li>\n<li><a href=\"#%EC%95%88%EB%93%9C%EB%A1%9C%EC%9D%B4%EB%93%9C-%EC%8A%A4%ED%8A%9C%EB%94%94%EC%98%A4\">안드로이드 스튜디오</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#aab-%EC%83%9D%EC%84%B1\">aab 생성</a></p>\n</li>\n<li>\n<p><a href=\"#apk-%EC%83%9D%EC%84%B1\">APK 생성</a></p>\n<ul>\n<li><a href=\"#%ED%82%A4-%ED%8C%8C%EC%9D%BC-%EC%A4%80%EB%B9%84\">키 파일 준비</a></li>\n<li><a href=\"#%ED%82%A4-%EC%A0%95%EB%B3%B4-%ED%8C%8C%EC%9D%BC-%EC%B6%94%EA%B0%80\">키 정보 파일 추가</a></li>\n<li><a href=\"#buildgradle-%EC%88%98%EC%A0%95\">build.gradle 수정</a></li>\n<li><a href=\"#flutter-build\">flutter build</a></li>\n<li><a href=\"#%EB%B2%88%EC%99%B8---proguard-%EC%84%A4%EC%A0%95\">번외 - Proguard 설정</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%A0%95%EB%A6%AC\">정리</a></p>\n<ul>\n<li><a href=\"#%EC%B0%B8%EA%B3%A0\">참고</a></li>\n</ul>\n</li>\n</ul>\n</div>","frontmatter":{"date":"2023.06.23","title":"Flutter에서 개발한 앱을 직접 폰에서 실행해보기 (Android)","categories":"dart_flutter","emoji":"📜"},"fields":{"slug":"/dart_flutter/230623_build-android/"}},"prev":{"id":"d63b87ed-dd07-5a04-983d-a48de87dc734","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 57.77777777777777%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAADCklEQVQoz1WTbUxTZxTHm2wf9mGaJdNp4jZd1Skf6GS6qUGnQbpEUJyCQTvaAu2VQtt7+3L7AqUWXzDiJi6ZMYgJfBh2MzVhQIRs2sEYxKnJonbdi24GCbjgS0xINNqiv+XeWNQP53lOnuT8cs75/x/Nk6CLTEwFJZ76XTyMSIw0O0kctTPcaqO3TeCbdjNHesxEf3WQCkqk/SKpgPi8NiCptyaTpAMSj4IiOEUuxERMo0Z2nNtKSV8RpbFN2GJbCXXv5NRvIoQ9UC9D2DcNyoQmQ6fOA7tlqPNzt8XLSIeXyWYv6UMyqf0eHoQlHsoORiWBUafA4Ofb6TeUQK1brZ/uMP0MNuYQ+MlQwrdbNjJo2M6R3LUcz8tj76pV2HU6tizUUrR4IZsWacl+azZ67QKWzZ3DqN0KIY86oQp85BNhT5BDGz4ha/Ys5s2cQdasN1m34B3mvzGT1159heIli3DkZLN+3lwK33uXpTNeZ/P8t6lYrCXlc/L0xR0+9osQ8XMgdyXh5TpM72sJf/whtuws2gv0tGzU01u6jeFqK6crTcRtFhL7IlxsCPF36zHGvA54poEC1Uwpy5Tt3P6ikZH2EyQON/F7UyM3T0VJthzl/JcHufDVYZI/D3Dpl0FuXbvG0NAQPd3dnP7hR04U6KEhgNLYEwWoyE9DkPPdXYQiEf4ZuUnf2bPcGB8nHo/TFT1JX2cn/QMDHGtr48y5ONFYjI5YDDFUz3efFagTqkBVFAUY8tIf7aCpsRGXz4ccqsdutyNJEuVGIzuKiynKz+fTD3QIK3IIr8vFmqOjdvVHJAXTy6IoB2GZ4XIDtpUraF6/hq/z1tJZqOf7gnz6txXyp6mUieoKUrJDtQn1XtWD7KtTa5W3jP00kx47N6orueUQmHTXMBVQfoyLdK2bO+4aJmUnd901PPA5GXPuYkKyqVb5T6xi3CEwIVZxz1X9XOX77hquWIxcsZRx1WoiKZi5aN7JH4KZS2YD16squFxZphZftRj511ZJwmJU86TVRMJq5K9d5dPA/wHTlnLZ4GPbfAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/b64a0e98a67addc240abf85339689e6c/7c297/thumbnail.webp 180w,\n/static/b64a0e98a67addc240abf85339689e6c/33ecc/thumbnail.webp 360w,\n/static/b64a0e98a67addc240abf85339689e6c/df77d/thumbnail.webp 720w,\n/static/b64a0e98a67addc240abf85339689e6c/40226/thumbnail.webp 799w\"\n              sizes=\"(max-width: 720px) 100vw, 720px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/b64a0e98a67addc240abf85339689e6c/e9ea2/thumbnail.png 180w,\n/static/b64a0e98a67addc240abf85339689e6c/53918/thumbnail.png 360w,\n/static/b64a0e98a67addc240abf85339689e6c/242a6/thumbnail.png 720w,\n/static/b64a0e98a67addc240abf85339689e6c/dd6e8/thumbnail.png 799w\"\n            sizes=\"(max-width: 720px) 100vw, 720px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/b64a0e98a67addc240abf85339689e6c/242a6/thumbnail.png\"\n            alt=\"thumbnail\"\n            title=\"thumbnail\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<h1 id=\"이번-포스팅은\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EB%B2%88-%ED%8F%AC%EC%8A%A4%ED%8C%85%EC%9D%80\" aria-label=\"이번 포스팅은 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이번 포스팅은…</h1>\n<p>저번 프리온보딩은 제대로 참여를 못했다.<br>\n주말이 껴 있는 부분도 있었고, 개인적인 사유로 좀 많이 바빴다.</p>\n<p>이번 7월 챌린지는 예전에 1월인가 프리온보딩을 진행했던 강사님이 다시 진행하신다고 하셨다.<br>\n디스코드를 안나가고 있었는데 다행이었다(?)</p>\n<p><strong>사전과제가 있었는데 이를 정리해서 개인 블로그에 포스팅하고 링크 제출이 있었다.</strong><br>\n매번 이론은 잘 안보고 기능 구현만 했는데…<br>\n이번에 사전 과제를 하면서 한번 정리를 해봐야겠다.</p>\n<p>근데 어렵게 설명하는건 좋아하지 않아서 나름 쉽게 풀고 예시를 들어 설명할 예정이다.</p>\n<h2 id=\"1-csrclient-side-rendering이란-무엇이며-그것의-장단점에-대하여-설명해주세요\" style=\"position:relative;\"><a href=\"#1-csrclient-side-rendering%EC%9D%B4%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%B4%EB%A9%B0-%EA%B7%B8%EA%B2%83%EC%9D%98-%EC%9E%A5%EB%8B%A8%EC%A0%90%EC%97%90-%EB%8C%80%ED%95%98%EC%97%AC-%EC%84%A4%EB%AA%85%ED%95%B4%EC%A3%BC%EC%84%B8%EC%9A%94\" aria-label=\"1 csrclient side rendering이란 무엇이며 그것의 장단점에 대하여 설명해주세요 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. CSR(Client-side Rendering)이란 무엇이며, 그것의 장단점에 대하여 설명해주세요.</h2>\n<h3 id=\"csrclient-side-rendering이란-무엇인가\" style=\"position:relative;\"><a href=\"#csrclient-side-rendering%EC%9D%B4%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%B8%EA%B0%80\" aria-label=\"csrclient side rendering이란 무엇인가 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CSR(Client-side Rendering)이란 무엇인가?</h3>\n<p>영어에서 표현한바와 같이 <strong>랜더링 작업을 클라이언트(브라우저단)에서 해주는 것</strong>을 의미한다.<br>\n다른 블로그나 문서를 보면 뭔가 어렵고 복잡하게 설명을 하는데 난 이 부분을 쉽게 설명해보겠다.</p>\n<p>웹 브라우저에서 뭔가를 보여주려면 세 가지 요소가 필요하다.</p>\n<p>페이지를 구성하는 <strong>HTML</strong>,<br>\n페이지를 이쁘게 꾸미기 위한 <strong>CSS</strong>,<br>\n그리고 사용자와 상호 작용을 위한 <strong>JS</strong></p>\n<p>이렇게 세 가지 요소가 필요하다.<br>\n이게 있어야 웹 브라우저에서 뭔가를 표현하거나, 사용자와 상호 작용을 할 수 있다.</p>\n<p>일단 웹 페이지는 저 세 가지 요소가 삼위일체(트포?) 마냥 잘 조합되어야 사용자가 비로소 사용할 수 있게 된다.<br>\n조합을 해주는 주체가 서버이면 <strong>SSR</strong>이고, 클라이언트(사용자측)이라면 <strong>CSR</strong>이다.</p>\n<p><strong>CSR</strong>은 저 요소들 중 <strong>HTML</strong>은 최소한의 태그만 포함한 가벼운 형태(body가 비어있는)로 서버에게 받아온다.<br>\n그리고 <strong>JS</strong>를 받아오고, 그 JS를 가지고 리엑트나 뷰를 통해서 HTML을 랜더링 해준다.</p>\n<p>게임으로 설명해보면…<br>\n스타크래프트의 저그 드론이라 생각하면 된다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 190px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 86.1111111111111%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAAsTAAALEwEAmpwYAAAClElEQVQ4y2P4jwr+/fv3Fwz+/fv3nxBgQNMJ1/Pv398/MIDLIITmv3///v///9yJE7t2bD969MTPnz+R1YHcAnYRFs0Qs799/16YlhbrqB9oLF2VFrVi0fwNazeeOHYErgC7zRAjr166EmBl1uxr2OnCFaEnlG4vJ8HMoCrAG2lvX5iWHeUXsmPLNmSDYJr//Pn////hTcsSzPWnFHq3OekUuGgl2ygsyBN1M9VyEFORY2AykRaZPan/86dPcP0wZ4Ntnl6THWZqHO9gVmrHsbHBeeW8GU0J5inO8nZS0gnevn42ZinB3jMnT0ZxNsTNe3fu9NJQc5FW6KqsX1SttqvH4+jKGb0dEyvCTJpry67fvnvr1p0LFy5VFBTNmzYTEk4McDdvWTrJjpvBS8WoNDqpPMJvemnI5QXJ+9auqCwqSk2MX71qdU9n14cPH/7//3/n1u2vX79CbYa6ua7CXVIuTUM5XEYgM9Cjrrysr7Vm9sRJ+TkFZSWlE3r7vd09L126BHcpSDOEdfncRS9tuZ5w0RUBzLUJUUdOnz994mRXR09ZcYmihGR+fsH////LC0pDfAJOnz4N18/wB+zm1YuX7Nm85vjGxOYAwSXzVjx98qi0sHjH9u1Pnz6ZNnXq69dv/v//P2PilMz4lMz0jPfv30MCnAES6E8ePvr///+N8weCzZQfPHh8+dKl6vLK+OjYs2fOwu158uTJ3t27Z0yZ+vbtW6hmpIQNSn3Vudn3b9/5////ly9fasurgtz9Oxrb9u7aA1Fz/+6dO7dvY8bzv39/Qfzb16+/Axv8////d2/f9XX2LFu8bP6ceRvXbfj27RtaOmXAzJLIjF+/fj179uzVy5ffv39Hy3bYNSPrx5+rAYR4Iu/rU2q0AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/a8515d7af5e7f8c06f918d2918a829c6/7c297/img02.webp 180w,\n/static/a8515d7af5e7f8c06f918d2918a829c6/561c4/img02.webp 190w\"\n              sizes=\"(max-width: 190px) 100vw, 190px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/a8515d7af5e7f8c06f918d2918a829c6/e9ea2/img02.png 180w,\n/static/a8515d7af5e7f8c06f918d2918a829c6/08678/img02.png 190w\"\n            sizes=\"(max-width: 190px) 100vw, 190px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/a8515d7af5e7f8c06f918d2918a829c6/08678/img02.png\"\n            alt=\"thumbnail\"\n            title=\"thumbnail\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<p>이 드론은 스토리상 저그 건물의 유전정보를 모두 가지고 있다고 한다.<br>\n그래서 오버로드의 명령에 따라 필요한 건물로 변태를 한다.</p>\n<p>CSR도 얘랑 비슷하다.<br>\n맨 처음 서버에서 저 드론을 하나 받았다고 생각해보자.<br>\n그럼 저 드론은 아래와 같이 다양한 형태로 변태가 가능하다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 540px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAECBf/EABUBAQEAAAAAAAAAAAAAAAAAAAEA/9oADAMBAAIQAxAAAAHMcKaJA//EABoQAQABBQAAAAAAAAAAAAAAAAABEBESITH/2gAIAQEAAQUCpLjO7b//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAbEAACAgMBAAAAAAAAAAAAAAAAARFBECExUf/aAAgBAQABPyGlhFO2T6qxcIQ5viP/2gAMAwEAAgADAAAAEOMf/8QAFhEBAQEAAAAAAAAAAAAAAAAAABGB/9oACAEDAQE/EKx//8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAR/9oACAECAQE/ECU2/8QAGhAAAwADAQAAAAAAAAAAAAAAAAERIUGBMf/aAAgBAQABPxBJYMQcW7w0A4Nk8SnwRQqK0W5h/9k='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/79f4d3a54ae1486da21884908a809428/7c297/img01.webp 180w,\n/static/79f4d3a54ae1486da21884908a809428/33ecc/img01.webp 360w,\n/static/79f4d3a54ae1486da21884908a809428/caa95/img01.webp 540w\"\n              sizes=\"(max-width: 540px) 100vw, 540px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/79f4d3a54ae1486da21884908a809428/98e5d/img01.jpg 180w,\n/static/79f4d3a54ae1486da21884908a809428/543cd/img01.jpg 360w,\n/static/79f4d3a54ae1486da21884908a809428/ceaae/img01.jpg 540w\"\n            sizes=\"(max-width: 540px) 100vw, 540px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/79f4d3a54ae1486da21884908a809428/ceaae/img01.jpg\"\n            alt=\"thumbnail\"\n            title=\"thumbnail\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<p>그렇다…<br>\n서버로부터 드론(<strong>HTML</strong>과 <strong>JS</strong>를 내포(內包)한 것)을 내려받고,<br>\n드론은 내포된 <strong>JS</strong>를 통해 <strong>HTML</strong>을 랜더링한다.</p>\n<p>이 정도 설명하면 <strong>CSR</strong>는 이해가 되었을 것이다.</p>\n<p>번외로…<br>\n**SSR(Server-Side Rendering)**은 프로토스의 프로브가 소환하는 건물이라 보면 된다.</p>\n<p>스토리상…<br>\n프로토스 건물은 아이어에서 이미 완성된 건물을 포탈을 통해 이동시키는거다.</p>\n<p>즉 프로브(클라이언트)가 서버측(아이어)에게 요청을 하면,<br>\n서버측에서 랜더링을 다한 <strong>HTML</strong>과 <strong>JS</strong>를 클라이언트에게 주는 것이다.</p>\n<p>급조한 거라서 설명이 뭔가 매끄럽지 못한데 -_-;;<br>\n대충 이 정도면 감을 잡았으리라 생각한다.</p>\n<br>\n<h3 id=\"csrclient-side-rendering의-장단점\" style=\"position:relative;\"><a href=\"#csrclient-side-rendering%EC%9D%98-%EC%9E%A5%EB%8B%A8%EC%A0%90\" aria-label=\"csrclient side rendering의 장단점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CSR(Client-side Rendering)의 장단점</h3>\n<p>CRS의 장단점은 아래와 같다.</p>\n<h4 id=\"장점\" style=\"position:relative;\"><a href=\"#%EC%9E%A5%EC%A0%90\" aria-label=\"장점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>장점</h4>\n<ol>\n<li>다른 페이지로 이동하거나 추가 페이지 로드 시간이 빠르다.\n<ul>\n<li>이미 서버로부터 모든 자원(JS,CSS)을 내려받았기 때문에 추가적인 자원을 로드하는데 시간이 필요하지 않다.</li>\n</ul>\n</li>\n<li>UI를 전체적으로 다시 로드할 필요가 없다.\n<ul>\n<li>변경되는 부분만 업데이트가 가능하다.</li>\n</ul>\n</li>\n</ol>\n<h4 id=\"단점\" style=\"position:relative;\"><a href=\"#%EB%8B%A8%EC%A0%90\" aria-label=\"단점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>단점</h4>\n<ol>\n<li>HTML 파일만 받고, 클라이언트에서 랜더링을 하기에 SEO(search engine optimization)에 불리하다.\n<ul>\n<li>크롤링 봇은 HTML 파일을 보고 판단하는데 내용이 비어있다.</li>\n</ul>\n</li>\n<li>첫 로드 시 모든 로직을 담은 파일(JS)를 받기에 첫 진입 속도가 느리다.\n<ul>\n<li>이와 연계되는게 클라이언트의 하드웨어 및 소프트웨어에 의존도가 높아져서, 사용자마다 페이지 로드 시간이 다를 수 있다.</li>\n</ul>\n</li>\n<li>JS가 동작하지 않는 브라우저 환경에서의 문제\n<ul>\n<li>물론 JS가 돌아가지 않는 브라우저가 어디있겠냐지만, 보안이나 어떤 문제로 인해 동작할 수 없는 환경이 있을 수 있다.</li>\n</ul>\n</li>\n</ol>\n<br>\n<h2 id=\"2-spasingle-page-application로-구성된-웹-앱에서-ssrserver-side-rendering이-필요한-이유에-대하여-설명해주세요\" style=\"position:relative;\"><a href=\"#2-spasingle-page-application%EB%A1%9C-%EA%B5%AC%EC%84%B1%EB%90%9C-%EC%9B%B9-%EC%95%B1%EC%97%90%EC%84%9C-ssrserver-side-rendering%EC%9D%B4-%ED%95%84%EC%9A%94%ED%95%9C-%EC%9D%B4%EC%9C%A0%EC%97%90-%EB%8C%80%ED%95%98%EC%97%AC-%EC%84%A4%EB%AA%85%ED%95%B4%EC%A3%BC%EC%84%B8%EC%9A%94\" aria-label=\"2 spasingle page application로 구성된 웹 앱에서 ssrserver side rendering이 필요한 이유에 대하여 설명해주세요 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. SPA(Single Page Application)로 구성된 웹 앱에서 SSR(Server-side Rendering)이 필요한 이유에 대하여 설명해주세요.</h2>\n<p>SPA는 가만 보기에 CRS와 유사하다.<br>\n어찌보면 SPA의 구현 방식중 CRS나 SSR이 있다고 생각하면 편하다.</p>\n<p>근데 SPA에서 SSR이 필요한 이유는 CRS의 단점을 극복하기 위함이라 보면 된다.<br>\n자주 언급되는 SEO의 경우 CRS에서 극복이 어느정도 가능하지만, 손쉽게 처리하기 어렵다.</p>\n<p>브라우저의 호환성도 이슈가 될 수 있다.<br>\nSPA의 경우 클라이언트의 브라우저에 100% 의존하기에 몇몇 자바스크립트 문법의 경우 브라우저마다 다르게 동작한다.<br>\nSSR을 사용할 경우 서버에서 초기 페이지에 대해 렌더링을 해주기에 이 문제를 어느정도 완화시킬 수 있다.</p>\n<p>마지막으로 보안 문제가 있을 수 있다.<br>\n클라이언트에서 서버에게 Ajax나 Axios 등 요청으로 권한 검사를 해줄 수 있다.<br>\n하지만 권한이 있는 사용자만 접근해야 하는 페이지가 있거나, 권한이 있어야 볼 수 있는 항목을 처리해야 할 경우 문제가 생길 수 있다.<br>\n보안 처리를 클라이언트에게 맡기는 경우 상당한 리스크가 생긴다.</p>\n<p>SSR을 사용할 경우 서버 측에서 초기 렌더링 시 보안 로직을 수행하여 결과를 다르게 줄 수 있는 장점이 있다.</p>\n<br>\n<h2 id=\"3-nextjs-프로젝트에서-yarn-startor-npm-run-start-스크립트를-실행했을-때-실행되는-코드를-nextjs-github-레포지토리에서-찾은-뒤-해당-파일에-대한-간단한-설명을-첨부해주세요\" style=\"position:relative;\"><a href=\"#3-nextjs-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8%EC%97%90%EC%84%9C-yarn-startor-npm-run-start-%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EB%A5%BC-%EC%8B%A4%ED%96%89%ED%96%88%EC%9D%84-%EB%95%8C-%EC%8B%A4%ED%96%89%EB%90%98%EB%8A%94-%EC%BD%94%EB%93%9C%EB%A5%BC-nextjs-github-%EB%A0%88%ED%8F%AC%EC%A7%80%ED%86%A0%EB%A6%AC%EC%97%90%EC%84%9C-%EC%B0%BE%EC%9D%80-%EB%92%A4-%ED%95%B4%EB%8B%B9-%ED%8C%8C%EC%9D%BC%EC%97%90-%EB%8C%80%ED%95%9C-%EA%B0%84%EB%8B%A8%ED%95%9C-%EC%84%A4%EB%AA%85%EC%9D%84-%EC%B2%A8%EB%B6%80%ED%95%B4%EC%A3%BC%EC%84%B8%EC%9A%94\" aria-label=\"3 nextjs 프로젝트에서 yarn startor npm run start 스크립트를 실행했을 때 실행되는 코드를 nextjs github 레포지토리에서 찾은 뒤 해당 파일에 대한 간단한 설명을 첨부해주세요 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. Next.js 프로젝트에서 yarn start(or npm run start) 스크립트를 실행했을 때 실행되는 코드를 Next.js Github 레포지토리에서 찾은 뒤, 해당 파일에 대한 간단한 설명을 첨부해주세요.</h2>\n<p>먼저 이 질문을 이해하기 앞서, Next.JS가 아닌 npm이나 Node의 진입점이 궁금했다.<br>\n정확히 이야기하면, **yarn start(or npm run start)**이 명령어를 줬을 때 실행하는 최초 시작점이랄까?</p>\n<p>Spring의 경우 Main함수가 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Slf4j</span>\n<span class=\"token annotation punctuation\">@SpringBootApplication</span>\n<span class=\"token annotation punctuation\">@EnableAspectJAutoProxy</span>\n<span class=\"token annotation punctuation\">@EnableScheduling</span>\n<span class=\"token annotation punctuation\">@ServletComponentScan</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">OnlydreamApplication</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">CommandLineRunner</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">ApplicationRunner</span> <span class=\"token punctuation\">{</span>\n\n\t<span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token class-name\">ApiContextInitializer</span><span class=\"token punctuation\">.</span><span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token class-name\">SpringApplication</span><span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">OnlydreamApplication</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\n\n\t<span class=\"token annotation punctuation\">@Override</span>\n\t<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> args<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">{</span>\n\n\t<span class=\"token punctuation\">}</span>\n\n\t<span class=\"token annotation punctuation\">@Override</span>\n\t<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ApplicationArguments</span> args<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">{</span>\n\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>옛날에 스프링으로 개발했던 흑우집합소 코드인데… 아련하다 ㅎㅎ<br>\n무튼 이런 시작점이 어딘지 잘 몰랐다.</p>\n<p><strong>Nest.Js</strong>의 경우에는 <strong>main.ts</strong>등으로 아래와 같이 <strong>bootstrap</strong>함수를 호출하는 것으로 시작한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">bootstrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n   <span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> NestFactory<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span>AppModule<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token keyword\">await</span> app<span class=\"token punctuation\">.</span><span class=\"token function\">listen</span><span class=\"token punctuation\">(</span><span class=\"token number\">9911</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"0.0.0.0\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">bootstrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>하지만 <strong>Next.Js</strong>의 경우 이 명령어를 줬을 때 실행하는 **Main함수(또는 메서드)**를 찾을 수 없었다.</p>\n<p>구글링 한 결과…<br>\n<strong>node_modules/next/dist/cli/next-start.js</strong> 저 파일을 확인해보라 했다.</p>\n<p>이제부터 긴 설명에 앞서…</p>\n<p>만약 본인의 컴퓨터에 있는 Next.Js 프로젝트가 아닌 깃허브에서 보고 싶다면,<br>\nGithub의 <a href=\"https://github.com/vercel/next.js/tree/canary/packages/next/src\">next.js/packages/next/src</a>를 참고하며 보도록 하자.<br>\n결국 개인 프로젝트 폴더의 node_modules/next/dist/ 와 next.js/packages/next/src 는 같은 결과물을 바라본다.<br>\n물론 버전에 따라 틀릴 수 있겠지만…</p>\n<p>그리고 정답을 먼저 공개하자면…<br>\n<a href=\"https://github.com/vercel/next.js/blob/canary/packages/next/src/server/base-server.ts\">base-server.ts</a>가 모든 것을 쥐고 있다. (로컬일 경우 base-server.js)<br>\n이 부분은 아래 설명을 추적하다보면 이해가 될 것이다.</p>\n<p>그럼 위에 나온대로 <strong>next-start.js</strong>파일부터 하나씩 내려가보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//node_modules/next/dist/cli/next-start.js</span>\n\n#<span class=\"token operator\">!</span><span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>bin<span class=\"token operator\">/</span>env node\n<span class=\"token string\">'use strict'</span>\nObject<span class=\"token punctuation\">.</span><span class=\"token function\">defineProperty</span><span class=\"token punctuation\">(</span>exports<span class=\"token punctuation\">,</span> <span class=\"token string\">'__esModule'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\nexports<span class=\"token punctuation\">.</span>nextStart <span class=\"token operator\">=</span> <span class=\"token keyword\">void</span> <span class=\"token number\">0</span>\n<span class=\"token keyword\">var</span> _indexJs <span class=\"token operator\">=</span> <span class=\"token function\">_interopRequireDefault</span><span class=\"token punctuation\">(</span>\n  <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'next/dist/compiled/arg/index.js'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">var</span> _startServer <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'../server/lib/start-server'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">var</span> _utils <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'../server/lib/utils'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">var</span> Log <span class=\"token operator\">=</span> <span class=\"token function\">_interopRequireWildcard</span><span class=\"token punctuation\">(</span><span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'../build/output/log'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">var</span> _isError <span class=\"token operator\">=</span> <span class=\"token function\">_interopRequireDefault</span><span class=\"token punctuation\">(</span><span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'../lib/is-error'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">var</span> _getProjectDir <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'../lib/get-project-dir'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">_interopRequireDefault</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">obj</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> obj <span class=\"token operator\">&amp;&amp;</span> obj<span class=\"token punctuation\">.</span>__esModule\n    <span class=\"token operator\">?</span> obj\n    <span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> obj<span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">//기타 엄청난 코드들...</span></code></pre></div>\n<br>\n<p>잠깐 열었다가 닫고 싶어진 코드였다 -_-;;<br>\n그래도 학습을 위해선 봐야지…<br>\n조금 스크롤을 내리면 <strong>const nextStart = (argv)=>{}</strong> 익명함수가 보인다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//node_modules/next/dist/cli/next-start.js</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">nextStart</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">argv</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> validArgs <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Types</span>\n    <span class=\"token string-property property\">'--help'</span><span class=\"token operator\">:</span> Boolean<span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">'--port'</span><span class=\"token operator\">:</span> Number<span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">'--hostname'</span><span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">'--keepAliveTimeout'</span><span class=\"token operator\">:</span> Number<span class=\"token punctuation\">,</span>\n    <span class=\"token comment\">// Aliases</span>\n    <span class=\"token string-property property\">'-h'</span><span class=\"token operator\">:</span> <span class=\"token string\">'--help'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">'-p'</span><span class=\"token operator\">:</span> <span class=\"token string\">'--port'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">'-H'</span><span class=\"token operator\">:</span> <span class=\"token string\">'--hostname'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">//...</span>\n<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> _startServer<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">startServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    dir<span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">hostname</span><span class=\"token operator\">:</span> host<span class=\"token punctuation\">,</span>\n    port<span class=\"token punctuation\">,</span>\n    keepAliveTimeout<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">app</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> appUrl <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">http://</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>app<span class=\"token punctuation\">.</span>hostname<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">:</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>app<span class=\"token punctuation\">.</span>port<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n    Log<span class=\"token punctuation\">.</span><span class=\"token function\">ready</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">started server on </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>host<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">:</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>app<span class=\"token punctuation\">.</span>port<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">, url: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>appUrl<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">await</span> app<span class=\"token punctuation\">.</span><span class=\"token function\">prepare</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">err</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    process<span class=\"token punctuation\">.</span><span class=\"token function\">exit</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br>\n<p>Cli 전달인자들에 대한 것들이 있고 마지막 쯔음 <strong>startServer</strong>서버를 실행하는 함수를 전달받는 함수가 있다.<br>\n**(0, _startServer).**이 형태는 처음 보는 형태였다.</p>\n<p>저게 어떻게 함수를 호출하는지…<br>\n기본기가 부족한 나로써는 이해가 되지 않지만…<br>\n일단 더 추적해봤다.</p>\n<p>저 전달인자인 <strong>_startServer</strong>를 추적해보니…<br>\n<strong>node_modules/next/dist/server/start-server.d.ts</strong> 저 파일로 연결이 되었다.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token comment\">//node_modules/next/dist/server/start-server.d.ts</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token keyword\">type</span> <span class=\"token punctuation\">{</span> NextServerOptions<span class=\"token punctuation\">,</span> NextServer <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../next'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">StartServerOptions</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">NextServerOptions</span> <span class=\"token punctuation\">{</span>\n  allowRetry<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">boolean</span><span class=\"token punctuation\">;</span>\n  keepAliveTimeout<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">declare</span> <span class=\"token keyword\">function</span> <span class=\"token function\">startServer</span><span class=\"token punctuation\">(</span>opts<span class=\"token operator\">:</span> StartServerOptions<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span>NextServer<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br>\n<p>이것만 보니 뭔가 구현체?<br>\n서버를 띄우거나 하는 것이 없었고,<br>\n대신 파일 아래를 보니 <strong>start-server.js</strong>파일이 존재했다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//node_modules/next/dist/server/lib/start-server.js</span>\n\n<span class=\"token string\">'use strict'</span><span class=\"token punctuation\">;</span>\nObject<span class=\"token punctuation\">.</span><span class=\"token function\">defineProperty</span><span class=\"token punctuation\">(</span>exports<span class=\"token punctuation\">,</span> <span class=\"token string\">'__esModule'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nexports<span class=\"token punctuation\">.</span>startServer <span class=\"token operator\">=</span> startServer<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> _log <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'../../build/output/log'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> _http <span class=\"token operator\">=</span> <span class=\"token function\">_interopRequireDefault</span><span class=\"token punctuation\">(</span><span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'http'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> _next <span class=\"token operator\">=</span> <span class=\"token function\">_interopRequireDefault</span><span class=\"token punctuation\">(</span><span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'../next'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">_interopRequireDefault</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">obj</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> obj <span class=\"token operator\">&amp;&amp;</span> obj<span class=\"token punctuation\">.</span>__esModule\n    <span class=\"token operator\">?</span> obj\n    <span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> obj<span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">startServer</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">opts</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> requestHandler<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> server <span class=\"token operator\">=</span> _http<span class=\"token punctuation\">.</span>default<span class=\"token punctuation\">.</span><span class=\"token function\">createServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token function\">requestHandler</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">,</span> res<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">//...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br>\n<p>이 코드의 <strong>startServer</strong>함수가 서버를 띄우는 것임을 확인했다.<br>\n그리고 <strong>server</strong>변수를 보면 _http를 통해서 서버를 띄운다.</p>\n<p>그리고 저 _http는 node 서버임을 확인할 수 있다.<br>\n난 Next.JS가 어떤 서버를 가지고 있나 싶었는데…<br>\n실질적으로 <strong>Next.Js</strong>는 Node 서버를 내포하고 있음을 확인할 수 있었다.</p>\n<p>그리고 <strong>startServer</strong>에서 조금 더 내려가서 서버가 구동되면 동작하는 코드가 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//node_modules/next/dist/server/lib/start-server.js</span>\n\nserver<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'listening'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> addr <span class=\"token operator\">=</span> server<span class=\"token punctuation\">.</span><span class=\"token function\">address</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> hostname <span class=\"token operator\">=</span> <span class=\"token operator\">!</span>opts<span class=\"token punctuation\">.</span>hostname <span class=\"token operator\">||</span> opts<span class=\"token punctuation\">.</span>hostname <span class=\"token operator\">===</span> <span class=\"token string\">'0.0.0.0'</span> <span class=\"token operator\">?</span> <span class=\"token string\">'localhost'</span> <span class=\"token operator\">:</span> opts<span class=\"token punctuation\">.</span>hostname<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> _next<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">default</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token operator\">...</span>opts<span class=\"token punctuation\">,</span>\n    hostname<span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">customServer</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">httpServer</span><span class=\"token operator\">:</span> server<span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">port</span><span class=\"token operator\">:</span> addr <span class=\"token operator\">&amp;&amp;</span> <span class=\"token keyword\">typeof</span> addr <span class=\"token operator\">===</span> <span class=\"token string\">'object'</span> <span class=\"token operator\">?</span> addr<span class=\"token punctuation\">.</span>port <span class=\"token operator\">:</span> port<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  requestHandler <span class=\"token operator\">=</span> app<span class=\"token punctuation\">.</span><span class=\"token function\">getRequestHandler</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  upgradeHandler <span class=\"token operator\">=</span> app<span class=\"token punctuation\">.</span><span class=\"token function\">getUpgradeHandler</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>app<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nserver<span class=\"token punctuation\">.</span><span class=\"token function\">listen</span><span class=\"token punctuation\">(</span>port<span class=\"token punctuation\">,</span> opts<span class=\"token punctuation\">.</span>hostname<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br>\n<p>저기 보면 또 이상한 **(0, _next)**문법을 사용하는데…<br>\n나중에 알아봐야겠다.</p>\n<p>무튼 저기 보면 <strong>_next</strong>를 전달인자로 잡는데 이걸 추적하면,<br>\n<strong>node_modules/next/dist/server/next.d.ts</strong> 이 파일로 이동한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token comment\">//node_modules/next/dist/server/next.d.ts</span>\n\n<span class=\"token comment\">//...</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">declare</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">NextServer</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">private</span> serverPromise<span class=\"token operator\">?</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">private</span> server<span class=\"token operator\">?</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">private</span> reqHandlerPromise<span class=\"token operator\">?</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">private</span> preparedAssetPrefix<span class=\"token operator\">?</span><span class=\"token punctuation\">;</span>\n  options<span class=\"token operator\">:</span> NextServerOptions<span class=\"token punctuation\">;</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span>options<span class=\"token operator\">:</span> NextServerOptions<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">get</span> <span class=\"token function\">hostname</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">get</span> <span class=\"token function\">port</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">getRequestHandler</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> RequestHandler<span class=\"token punctuation\">;</span>\n  <span class=\"token function\">getUpgradeHandler</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>req<span class=\"token operator\">:</span> IncomingMessage<span class=\"token punctuation\">,</span> socket<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">,</span> head<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">void</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">setAssetPrefix</span><span class=\"token punctuation\">(</span>assetPrefix<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">logError</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span>args<span class=\"token operator\">:</span> Parameters<span class=\"token operator\">&lt;</span>Server<span class=\"token punctuation\">[</span><span class=\"token string\">'logError'</span><span class=\"token punctuation\">]</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span>args<span class=\"token operator\">:</span> Parameters<span class=\"token operator\">&lt;</span>Server<span class=\"token punctuation\">[</span><span class=\"token string\">'render'</span><span class=\"token punctuation\">]</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">void</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">renderToHTML</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span>args<span class=\"token operator\">:</span> Parameters<span class=\"token operator\">&lt;</span>Server<span class=\"token punctuation\">[</span><span class=\"token string\">'renderToHTML'</span><span class=\"token punctuation\">]</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span><span class=\"token builtin\">string</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">null</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">renderError</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span>args<span class=\"token operator\">:</span> Parameters<span class=\"token operator\">&lt;</span>Server<span class=\"token punctuation\">[</span><span class=\"token string\">'renderError'</span><span class=\"token punctuation\">]</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">void</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">renderErrorToHTML</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span>args<span class=\"token operator\">:</span> Parameters<span class=\"token operator\">&lt;</span>Server<span class=\"token punctuation\">[</span><span class=\"token string\">'renderErrorToHTML'</span><span class=\"token punctuation\">]</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span><span class=\"token builtin\">string</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">null</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">render404</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span>args<span class=\"token operator\">:</span> Parameters<span class=\"token operator\">&lt;</span>Server<span class=\"token punctuation\">[</span><span class=\"token string\">'render404'</span><span class=\"token punctuation\">]</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">void</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">serveStatic</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span>args<span class=\"token operator\">:</span> Parameters<span class=\"token operator\">&lt;</span>Server<span class=\"token punctuation\">[</span><span class=\"token string\">'serveStatic'</span><span class=\"token punctuation\">]</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">void</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">prepare</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">void</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span><span class=\"token builtin\">any</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">private</span> createServer<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">private</span> loadConfig<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">private</span> getServer<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">private</span> getServerRequestHandler<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br>\n<p>위의 <strong>start-server.d.ts</strong>처럼 이 파일도 ts와 같은 경로에 <strong>next.js</strong>파일이 있다.<br>\n이는 내 프로젝트에서 배포 시 ts => js로 변경을 해서 그렇지 않을까 싶다.<br>\n결국 배포할 때는 ts가 js로 변하기 때문에?</p>\n<p>저기에 있는 함수 중 <strong>render</strong>시리즈를 보면 다음과 같이 구현되어 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//node_modules/next/dist/server/next.js</span>\n\n<span class=\"token keyword\">async</span> <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token operator\">...</span>args</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> server <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> server<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span>args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">async</span> <span class=\"token function\">renderToHTML</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token operator\">...</span>args</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> server <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> server<span class=\"token punctuation\">.</span><span class=\"token function\">renderToHTML</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span>args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">async</span> <span class=\"token function\">renderError</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token operator\">...</span>args</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> server <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> server<span class=\"token punctuation\">.</span><span class=\"token function\">renderError</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span>args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">async</span> <span class=\"token function\">renderErrorToHTML</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token operator\">...</span>args</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> server <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> server<span class=\"token punctuation\">.</span><span class=\"token function\">renderErrorToHTML</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span>args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">async</span> <span class=\"token function\">render404</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token operator\">...</span>args</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> server <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> server<span class=\"token punctuation\">.</span><span class=\"token function\">render404</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span>args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<br>\n<p>리턴이 **const server = await this.getServer();**의 객체에 있는 함수를 호출한다.<br>\n<strong>getServer</strong>함수는 바로 아래에 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">async</span> <span class=\"token function\">getServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>serverPromise<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>getServerImpl<span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>serverPromise <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">loadConfig</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">conf</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>server <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">createServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n                    <span class=\"token operator\">...</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>options<span class=\"token punctuation\">,</span>\n                    conf\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>preparedAssetPrefix<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>server<span class=\"token punctuation\">.</span><span class=\"token function\">setAssetPrefix</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>preparedAssetPrefix<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n                <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>server<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>serverPromise<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<br>\n<p>결국 자신의 함수 중 <strong>createServer</strong>함수를 호출한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//node_modules/next/dist/server/next.js</span>\n\n<span class=\"token keyword\">async</span> <span class=\"token function\">createServer</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">options</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>options<span class=\"token punctuation\">.</span>dev<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">const</span> DevServer <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"./dev/next-dev-server\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>default<span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">DevServer</span><span class=\"token punctuation\">(</span>options<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">const</span> ServerImplementation <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">getServerImpl</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ServerImplementation</span><span class=\"token punctuation\">(</span>options<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<br>\n<p>여기서 보면 dev 모드일 경우와 일반(아마 운영과 같이 dev를 사용하지 않는)모드로 나눠서 서버를 반환한다.<br>\n물론 결국 둘다 하나의 클래스에서 파생되었겠지만…<br>\n그럼 먼저 개발 모드를 보자.</p>\n<br>\n<h3 id=\"dev\" style=\"position:relative;\"><a href=\"#dev\" aria-label=\"dev permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Dev</h3>\n<p>개발 서버 측으로 와보면 이제 실제 Next.js의 서버 구현체를 지나 각 페이지의 구현 및 라우팅, 기타 컴포넌트를 다루는 것들 등…<br>\n다양한 메서드로 알차게(?) 채워져 있다.<br>\n뒤늦게 안 사실이지만 상속된 메서드를 구현하는 것이었다.<br>\nJava나 Dart와 같은 언어처럼 상속 시 <strong>@Override</strong> 어노테이션이 없어서 구분이 안되었다.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token comment\">//</span>\n<span class=\"token comment\">//node_modules/next/dist/server/dev/next-dev-server.d.ts</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">Options</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">ServerOptions</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">/**\n   * Tells of Next.js is running from the `next dev` command\n   */</span>\n  isNextDevCommand<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">boolean</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">DevServer</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Server</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">///....</span>\n  <span class=\"token keyword\">protected</span> <span class=\"token function\">getAppPathsManifest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">protected</span> <span class=\"token function\">getCustomRoutes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> CustomRoutes<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">protected</span> <span class=\"token function\">getPreviewProps</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> __ApiPreviewProps<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">protected</span> <span class=\"token function\">getPagesManifest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">protected</span> <span class=\"token function\">getAppPathsManifest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">protected</span> <span class=\"token function\">getMiddleware</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> MiddlewareRoutingItem <span class=\"token operator\">|</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">protected</span> <span class=\"token function\">getEdgeFunctions</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> RoutingItem<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">protected</span> <span class=\"token function\">getServerComponentManifest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">protected</span> <span class=\"token function\">getServerCSSManifest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">protected</span> <span class=\"token function\">hasMiddleware</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span><span class=\"token builtin\">boolean</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">protected</span> <span class=\"token function\">ensureMiddleware</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">void</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">protected</span> <span class=\"token function\">ensureEdgeFunction</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> page<span class=\"token punctuation\">,</span> appPaths <span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> page<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span> appPaths<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">null</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">void</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">generateRoutes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    headers<span class=\"token operator\">:</span> <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token string\">'../router'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>Route<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    rewrites<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      beforeFiles<span class=\"token operator\">:</span> <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token string\">'../router'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>Route<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n      afterFiles<span class=\"token operator\">:</span> <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token string\">'../router'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>Route<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n      fallback<span class=\"token operator\">:</span> <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token string\">'../router'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>Route<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    redirects<span class=\"token operator\">:</span> <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token string\">'../router'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>Route<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    catchAllRoute<span class=\"token operator\">:</span> <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token string\">'../router'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>Route<span class=\"token punctuation\">;</span>\n    catchAllMiddleware<span class=\"token operator\">:</span> <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token string\">'../router'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>Route<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    pageChecker<span class=\"token operator\">:</span> <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token string\">'../router'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>PageChecker<span class=\"token punctuation\">;</span>\n    useFileSystemPublicRoutes<span class=\"token operator\">:</span> <span class=\"token builtin\">boolean</span><span class=\"token punctuation\">;</span>\n    dynamicRoutes<span class=\"token operator\">:</span> <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token string\">'../router'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>DynamicRoutes <span class=\"token operator\">|</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">;</span>\n    nextConfig<span class=\"token operator\">:</span> <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token string\">'../config-shared'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>NextConfig<span class=\"token punctuation\">;</span>\n    fsRoutes<span class=\"token operator\">:</span> <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token string\">'../router'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>Route<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">protected</span> <span class=\"token function\">generatePublicRoutes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">never</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">protected</span> <span class=\"token function\">getDynamicRoutes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">never</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">protected</span> <span class=\"token function\">findPageComponents</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    pathname<span class=\"token punctuation\">,</span>\n    query<span class=\"token punctuation\">,</span>\n    params<span class=\"token punctuation\">,</span>\n    isAppPath<span class=\"token punctuation\">,</span>\n    appPaths<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    pathname<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n    query<span class=\"token operator\">:</span> ParsedUrlQuery<span class=\"token punctuation\">;</span>\n    params<span class=\"token operator\">:</span> Params<span class=\"token punctuation\">;</span>\n    isAppPath<span class=\"token operator\">:</span> <span class=\"token builtin\">boolean</span><span class=\"token punctuation\">;</span>\n    appPaths<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span>FindComponentsResult <span class=\"token operator\">|</span> <span class=\"token keyword\">null</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br>\n<p>코드는 너무 길어서 다 확인할 수 없지만…<br>\n<strong>run</strong>함수는 아마 Next API쪽을 다루는게 아닌가 싶다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//node_modules/next/dist/server/dev/next-dev-server.js</span>\n\n <span class=\"token keyword\">async</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res<span class=\"token punctuation\">,</span> parsedUrl</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">await</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>devReady<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setupWebSocketHandler</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span> req<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> basePath  <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>nextConfig<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> originalPathname <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>basePath <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> _pathHasPrefix<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">pathHasPrefix</span><span class=\"token punctuation\">(</span>parsedUrl<span class=\"token punctuation\">.</span>pathname <span class=\"token operator\">||</span> <span class=\"token string\">\"/\"</span><span class=\"token punctuation\">,</span> basePath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">// strip basePath before handling dev bundles</span>\n            <span class=\"token comment\">// If replace ends up replacing the full url it'll be `undefined`, meaning we have to default it to `/`</span>\n            originalPathname <span class=\"token operator\">=</span> parsedUrl<span class=\"token punctuation\">.</span>pathname<span class=\"token punctuation\">;</span>\n            parsedUrl<span class=\"token punctuation\">.</span>pathname <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> _removePathPrefix<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">removePathPrefix</span><span class=\"token punctuation\">(</span>parsedUrl<span class=\"token punctuation\">.</span>pathname <span class=\"token operator\">||</span> <span class=\"token string\">\"/\"</span><span class=\"token punctuation\">,</span> basePath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> pathname  <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> parsedUrl<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>pathname<span class=\"token punctuation\">.</span><span class=\"token function\">startsWith</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/_next\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">await</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> _fileExists<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">fileExists</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> _path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>publicDir<span class=\"token punctuation\">,</span> <span class=\"token string\">\"_next\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span>_constants<span class=\"token punctuation\">.</span><span class=\"token constant\">PUBLIC_DIR_MIDDLEWARE_CONFLICT</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> finished <span class=\"token operator\">=</span><span class=\"token boolean\">false</span>  <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>hotReloader<span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">.</span>originalRequest<span class=\"token punctuation\">,</span> res<span class=\"token punctuation\">.</span>originalResponse<span class=\"token punctuation\">,</span> parsedUrl<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>finished<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>originalPathname<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">// restore the path before continuing so that custom-routes can accurately determine</span>\n            <span class=\"token comment\">// if they should match against the basePath or not</span>\n            parsedUrl<span class=\"token punctuation\">.</span>pathname <span class=\"token operator\">=</span> originalPathname<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> <span class=\"token keyword\">await</span> <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">,</span> res<span class=\"token punctuation\">,</span> parsedUrl<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            res<span class=\"token punctuation\">.</span>statusCode <span class=\"token operator\">=</span> <span class=\"token number\">500</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">const</span> err <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> _isError<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getProperError</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">logErrorWithOriginalStack</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">return</span> <span class=\"token keyword\">await</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">renderError</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">,</span> req<span class=\"token punctuation\">,</span> res<span class=\"token punctuation\">,</span> pathname<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token literal-property property\">__NEXT_PAGE</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> _isError<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">default</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> err<span class=\"token punctuation\">.</span>page <span class=\"token operator\">||</span> pathname <span class=\"token operator\">||</span> <span class=\"token string\">\"\"</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>internalErr<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span>internalErr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                res<span class=\"token punctuation\">.</span><span class=\"token function\">body</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Internal Server Error\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">send</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<br>\n<p>뭐 여기까지만 보고 이거 다 이해하려하면 너무 어려우니,<br>\n대충 어디서 돌아가는지만 파악하면 될 듯 싶다.<br>\n그리고 넘어가기 전 이 <strong>DevServer의 상속 구조</strong>를 기억하고 가자.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//var _nextServer = _interopRequireWildcard(require(\"../next-server\"));</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">DevServer</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">_nextServer<span class=\"token punctuation\">.</span>default</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code></pre></div>\n<br>\n<p>저 _nextServer는 운영 서버 클래스를 나타낸다.<br>\n링크를 타고 가보면 <strong>node_modules/next/dist/server/next-server.d.ts</strong>를 나타냄을 알 수 있다.</p>\n<br>\n<h3 id=\"운영\" style=\"position:relative;\"><a href=\"#%EC%9A%B4%EC%98%81\" aria-label=\"운영 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>운영</h3>\n<p>아까 보던 곳에서 운영은 다음과 같이 호출하게 되어 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//node_modules/next/dist/server/next.js</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getServerImpl</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>ServerImpl <span class=\"token operator\">===</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">)</span> ServerImpl <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">await</span> Promise<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./next-server'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>default<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> ServerImpl<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br>\n<p>근데 개발 섭도 결국 운영에서 파생되어 진거고, 이 운영섭은 어떤걸 상속받았을까?</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">NextNodeServer</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">BaseServer</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code></pre></div>\n<br>\n<p>저 <strong>BaseServer</strong>가 실제 Next.Js의 <strong>서버 중추 역할</strong>을 하는 것을 알 수 있다.<br>\n우리가 Next.js에서 <strong>yarn dev</strong> 또는 <strong>yarn start</strong>를 수행하면 위의 과정을 거친 후 서버가 구동이 되고,<br>\n구동된 서버 위에서 route를 호출할 경우 이런 저런 호출을 타고 결국 아래의 함수를 호출한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//node_modules/next/dist/server/base-server.js</span>\n\n<span class=\"token keyword\">async</span> <span class=\"token function\">renderToResponse</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">ctx</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> res <span class=\"token punctuation\">,</span> query <span class=\"token punctuation\">,</span> pathname  <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> ctx<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> page <span class=\"token operator\">=</span> pathname<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">const</span> bubbleNoFallback <span class=\"token operator\">=</span> <span class=\"token operator\">!</span><span class=\"token operator\">!</span>query<span class=\"token punctuation\">.</span>_nextBubbleNoFallback<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">delete</span> query<span class=\"token punctuation\">.</span>_nextBubbleNoFallback<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">// Ensure a request to the URL /accounts/[id] will be treated as a dynamic</span>\n            <span class=\"token comment\">// route correctly and not loaded immediately without parsing params.</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> _utils1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isDynamicRoute</span><span class=\"token punctuation\">(</span>page<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">renderPageComponent</span><span class=\"token punctuation\">(</span>ctx<span class=\"token punctuation\">,</span> bubbleNoFallback<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>result <span class=\"token operator\">!==</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>dynamicRoutes<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> dynamicRoute <span class=\"token keyword\">of</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>dynamicRoutes<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">const</span> params <span class=\"token operator\">=</span> dynamicRoute<span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span>pathname<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>params<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        <span class=\"token keyword\">continue</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token punctuation\">}</span>\n                    page <span class=\"token operator\">=</span> dynamicRoute<span class=\"token punctuation\">.</span>page<span class=\"token punctuation\">;</span>\n                    <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">renderPageComponent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n                        <span class=\"token operator\">...</span>ctx<span class=\"token punctuation\">,</span>\n                        <span class=\"token literal-property property\">pathname</span><span class=\"token operator\">:</span> page<span class=\"token punctuation\">,</span>\n                        <span class=\"token literal-property property\">renderOpts</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n                            <span class=\"token operator\">...</span>ctx<span class=\"token punctuation\">.</span>renderOpts<span class=\"token punctuation\">,</span>\n                            params\n                        <span class=\"token punctuation\">}</span>\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> bubbleNoFallback<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>result <span class=\"token operator\">!==</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token comment\">// currently edge functions aren't receiving the x-matched-path</span>\n            <span class=\"token comment\">// header so we need to fallback to matching the current page</span>\n            <span class=\"token comment\">// when we weren't able to match via dynamic route to handle</span>\n            <span class=\"token comment\">// the rewrite case</span>\n            <span class=\"token comment\">// @ts-expect-error extended in child class web-server</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>serverOptions<span class=\"token punctuation\">.</span>webServerConfig<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token comment\">// @ts-expect-error extended in child class web-server</span>\n                ctx<span class=\"token punctuation\">.</span>pathname <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>serverOptions<span class=\"token punctuation\">.</span>webServerConfig<span class=\"token punctuation\">.</span>page<span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">renderPageComponent</span><span class=\"token punctuation\">(</span>ctx<span class=\"token punctuation\">,</span> bubbleNoFallback<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>result <span class=\"token operator\">!==</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">const</span> err <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> _isError<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getProperError</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>error <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">_utils<span class=\"token punctuation\">.</span>MissingStaticPage</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Invariant: failed to load static page\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n                    page<span class=\"token punctuation\">,</span>\n                    <span class=\"token literal-property property\">url</span><span class=\"token operator\">:</span> ctx<span class=\"token punctuation\">.</span>req<span class=\"token punctuation\">.</span>url<span class=\"token punctuation\">,</span>\n                    <span class=\"token literal-property property\">matchedPath</span><span class=\"token operator\">:</span> ctx<span class=\"token punctuation\">.</span>req<span class=\"token punctuation\">.</span>headers<span class=\"token punctuation\">[</span><span class=\"token string\">\"x-matched-path\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                    <span class=\"token literal-property property\">initUrl</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> _requestMeta<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getRequestMeta</span><span class=\"token punctuation\">(</span>ctx<span class=\"token punctuation\">.</span>req<span class=\"token punctuation\">,</span> <span class=\"token string\">\"__NEXT_INIT_URL\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                    <span class=\"token literal-property property\">didRewrite</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> _requestMeta<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getRequestMeta</span><span class=\"token punctuation\">(</span>ctx<span class=\"token punctuation\">.</span>req<span class=\"token punctuation\">,</span> <span class=\"token string\">\"_nextDidRewrite\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                    <span class=\"token literal-property property\">rewroteUrl</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> _requestMeta<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getRequestMeta</span><span class=\"token punctuation\">(</span>ctx<span class=\"token punctuation\">.</span>req<span class=\"token punctuation\">,</span> <span class=\"token string\">\"_nextRewroteUrl\"</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">throw</span> err<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>err <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">NoFallbackError</span> <span class=\"token operator\">&amp;&amp;</span> bubbleNoFallback<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">throw</span> err<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>err <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">_utils<span class=\"token punctuation\">.</span>DecodeError</span> <span class=\"token operator\">||</span> err <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">_utils<span class=\"token punctuation\">.</span>NormalizeError</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                res<span class=\"token punctuation\">.</span>statusCode <span class=\"token operator\">=</span> <span class=\"token number\">400</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">return</span> <span class=\"token keyword\">await</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">renderErrorToResponse</span><span class=\"token punctuation\">(</span>ctx<span class=\"token punctuation\">,</span> err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            res<span class=\"token punctuation\">.</span>statusCode <span class=\"token operator\">=</span> <span class=\"token number\">500</span><span class=\"token punctuation\">;</span>\n            <span class=\"token comment\">// if pages/500 is present we still need to trigger</span>\n            <span class=\"token comment\">// /_error `getInitialProps` to allow reporting error</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">await</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">hasPage</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/500\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                ctx<span class=\"token punctuation\">.</span>query<span class=\"token punctuation\">.</span>__nextCustomErrorRender <span class=\"token operator\">=</span> <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">await</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">renderErrorToResponse</span><span class=\"token punctuation\">(</span>ctx<span class=\"token punctuation\">,</span> err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">delete</span> ctx<span class=\"token punctuation\">.</span>query<span class=\"token punctuation\">.</span>__nextCustomErrorRender<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token keyword\">const</span> isWrappedError <span class=\"token operator\">=</span> err <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">WrappedBuildError</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>isWrappedError<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>minimalMode <span class=\"token operator\">&amp;&amp;</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">NEXT_RUNTIME</span> <span class=\"token operator\">!==</span> <span class=\"token string\">\"edge\"</span> <span class=\"token operator\">||</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>renderOpts<span class=\"token punctuation\">.</span>dev<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> _isError<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">default</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> err<span class=\"token punctuation\">.</span>page <span class=\"token operator\">=</span> page<span class=\"token punctuation\">;</span>\n                    <span class=\"token keyword\">throw</span> err<span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">logError</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> _isError<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getProperError</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token keyword\">const</span> response <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">renderErrorToResponse</span><span class=\"token punctuation\">(</span>ctx<span class=\"token punctuation\">,</span> isWrappedError <span class=\"token operator\">?</span> err<span class=\"token punctuation\">.</span>innerError <span class=\"token operator\">:</span> err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">return</span> response<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>router<span class=\"token punctuation\">.</span>catchAllMiddleware<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span><span class=\"token operator\">!</span>ctx<span class=\"token punctuation\">.</span>req<span class=\"token punctuation\">.</span>headers<span class=\"token punctuation\">[</span><span class=\"token string\">\"x-nextjs-data\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>res<span class=\"token punctuation\">.</span>statusCode <span class=\"token operator\">||</span> res<span class=\"token punctuation\">.</span>statusCode <span class=\"token operator\">===</span> <span class=\"token number\">200</span> <span class=\"token operator\">||</span> res<span class=\"token punctuation\">.</span>statusCode <span class=\"token operator\">===</span> <span class=\"token number\">404</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            res<span class=\"token punctuation\">.</span><span class=\"token function\">setHeader</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"x-nextjs-matched-path\"</span><span class=\"token punctuation\">,</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>query<span class=\"token punctuation\">.</span>__nextLocale <span class=\"token operator\">?</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>query<span class=\"token punctuation\">.</span>__nextLocale<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span> <span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>pathname<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            res<span class=\"token punctuation\">.</span>statusCode <span class=\"token operator\">=</span> <span class=\"token number\">200</span><span class=\"token punctuation\">;</span>\n            res<span class=\"token punctuation\">.</span><span class=\"token function\">setHeader</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"content-type\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"application/json\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            res<span class=\"token punctuation\">.</span><span class=\"token function\">body</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"{}\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            res<span class=\"token punctuation\">.</span><span class=\"token function\">send</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">return</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        res<span class=\"token punctuation\">.</span>statusCode <span class=\"token operator\">=</span> <span class=\"token number\">404</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">renderErrorToResponse</span><span class=\"token punctuation\">(</span>ctx<span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<br>\n<p>그리고 결국 우리가 실제로 작성하게 되는 <strong>_document.tsx</strong>나 <strong>_app.tsx</strong>를 랜더링 하며,<br>\n각 컴포넌트들을 순차적으로 렌더링 하게 된다.</p>\n<br>\n<h2 id=\"정리\" style=\"position:relative;\"><a href=\"#%EC%A0%95%EB%A6%AC\" aria-label=\"정리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>정리</h2>\n<p>3번 문항의 경우 하나씩 추적하느라 설명이 너무 복잡하고 길었다.<br>\n개인적으로 이렇게 딥하게 파는걸 좋아하진 않지만…<br>\n동작을 이해하기 위해서는 필요한 과정이라 생각한다.</p>\n<p>물론 서비스 구현에 목적이 있고, 다양한 아이템에 대해 아이디어를 녹여서,<br>\n결과를 빨리 봐야 하는 사람들에겐 이게 무슨 의미냐 싶겠지만…</p>\n<p>어떤식으로든 결국 이 구조를 한번쯤은 까봐야 하는 순간이 올 것이다.<br>\n이런 딥한걸 싫어하는 나같은 사람을 위해 최소한의 설명으로 풀어내봤다.</p>\n<p>과제도 과제였지만, 덕분에 돌아가는 방식을 조금이나마 알게 되어 유익한 시간이었다.<br>\n이제 다시 뚜껑을 덮고 서비스를 구현해봐야겠다.</p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#1-csrclient-side-rendering%EC%9D%B4%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%B4%EB%A9%B0-%EA%B7%B8%EA%B2%83%EC%9D%98-%EC%9E%A5%EB%8B%A8%EC%A0%90%EC%97%90-%EB%8C%80%ED%95%98%EC%97%AC-%EC%84%A4%EB%AA%85%ED%95%B4%EC%A3%BC%EC%84%B8%EC%9A%94\">1. CSR(Client-side Rendering)이란 무엇이며, 그것의 장단점에 대하여 설명해주세요.</a></p>\n<ul>\n<li>\n<p><a href=\"#csrclient-side-rendering%EC%9D%B4%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%B8%EA%B0%80\">CSR(Client-side Rendering)이란 무엇인가?</a></p>\n</li>\n<li>\n<p><a href=\"#csrclient-side-rendering%EC%9D%98-%EC%9E%A5%EB%8B%A8%EC%A0%90\">CSR(Client-side Rendering)의 장단점</a></p>\n<ul>\n<li><a href=\"#%EC%9E%A5%EC%A0%90\">장점</a></li>\n<li><a href=\"#%EB%8B%A8%EC%A0%90\">단점</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#2-spasingle-page-application%EB%A1%9C-%EA%B5%AC%EC%84%B1%EB%90%9C-%EC%9B%B9-%EC%95%B1%EC%97%90%EC%84%9C-ssrserver-side-rendering%EC%9D%B4-%ED%95%84%EC%9A%94%ED%95%9C-%EC%9D%B4%EC%9C%A0%EC%97%90-%EB%8C%80%ED%95%98%EC%97%AC-%EC%84%A4%EB%AA%85%ED%95%B4%EC%A3%BC%EC%84%B8%EC%9A%94\">2. SPA(Single Page Application)로 구성된 웹 앱에서 SSR(Server-side Rendering)이 필요한 이유에 대하여 설명해주세요.</a></p>\n</li>\n<li>\n<p><a href=\"#3-nextjs-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8%EC%97%90%EC%84%9C-yarn-startor-npm-run-start-%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EB%A5%BC-%EC%8B%A4%ED%96%89%ED%96%88%EC%9D%84-%EB%95%8C-%EC%8B%A4%ED%96%89%EB%90%98%EB%8A%94-%EC%BD%94%EB%93%9C%EB%A5%BC-nextjs-github-%EB%A0%88%ED%8F%AC%EC%A7%80%ED%86%A0%EB%A6%AC%EC%97%90%EC%84%9C-%EC%B0%BE%EC%9D%80-%EB%92%A4-%ED%95%B4%EB%8B%B9-%ED%8C%8C%EC%9D%BC%EC%97%90-%EB%8C%80%ED%95%9C-%EA%B0%84%EB%8B%A8%ED%95%9C-%EC%84%A4%EB%AA%85%EC%9D%84-%EC%B2%A8%EB%B6%80%ED%95%B4%EC%A3%BC%EC%84%B8%EC%9A%94\">3. Next.js 프로젝트에서 yarn start(or npm run start) 스크립트를 실행했을 때 실행되는 코드를 Next.js Github 레포지토리에서 찾은 뒤, 해당 파일에 대한 간단한 설명을 첨부해주세요.</a></p>\n<ul>\n<li><a href=\"#dev\">Dev</a></li>\n<li><a href=\"#%EC%9A%B4%EC%98%81\">운영</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%A0%95%EB%A6%AC\">정리</a></p>\n</li>\n</ul>\n</div>","frontmatter":{"date":"2023.06.27","title":"23년 7월 원티드 프리온보딩 프론트엔드 챌린지 사전과제","categories":"til","emoji":"📜"},"fields":{"slug":"/til/230620_wanted_challenge_qna/"}},"site":{"siteMetadata":{"siteUrl":"https://elfinlas.github.io","comments":{"utterances":{"repo":"elfinlas/blog_utterances"}},"projects":[{"title":"마와셀(웹) - 와인 가격 비교","description":"와인 가격 비교 서비스","techStack":["Typescript","React","Next.Js","Nest.Js"],"thumbnailUrl":"myc_icon.png","links":{"post":"https://blog.naver.com/wisseraph/223393940649","github":"","web":"https://appmyc.info","googlePlay":"","appStore":""}},{"title":"마와셀(엡) - 와인과 셀러 관리, 시음노트","description":"보유한 와인의 관리, 시음노트 작성, 보유 와인 셀러의 관리 어플리케이션","techStack":["Dart","Flutter","hive","provider"],"thumbnailUrl":"myc_icon.png","links":{"post":"https://blog.naver.com/wisseraph/223531933037","github":"","web":"","googlePlay":"https://play.google.com/store/apps/details?id=dev.mhlab.myc","appStore":"https://itunes.apple.com/kr/app/apple-store/6474965246"}},{"title":"흑우집합소(웹) - 로또번호 추천 서비스","description":"로또번호 추천 서비스","techStack":["Typescript","React","Next.Js","Nest.Js"],"thumbnailUrl":"bcow_icon.png","links":{"post":"https://blog.naver.com/wisseraph/223059966682","github":"","web":"https://bcow.world/","googlePlay":"","appStore":""}},{"title":"흑우집합소(앱) - 로또번호 추천 서비스","description":"로또번호 추천 서비스","techStack":["Dart","Flutter","drift","provider"],"thumbnailUrl":"bcow_icon.png","links":{"post":"https://blog.naver.com/wisseraph/223232966579","github":"","web":"","googlePlay":"https://play.google.com/store/apps/details?id=dev.mhlab.bcow_world","appStore":"https://itunes.apple.com/kr/app/apple-store/6470312130"}}]}}},"pageContext":{"slug":"/dart_flutter/230627_appbar-center/","nextSlug":"/dart_flutter/230623_build-android/","prevSlug":"/til/230620_wanted_challenge_qna/"}},"staticQueryHashes":["1186322783","1321405810","3649515864"]}