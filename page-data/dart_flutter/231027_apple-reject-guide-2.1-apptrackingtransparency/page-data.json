{"componentChunkName":"component---src-templates-post-jsx","path":"/dart_flutter/231027_apple-reject-guide-2.1-apptrackingtransparency/","result":{"data":{"site":{"siteMetadata":{"title":"MHLab blog","author":"MHLab"}},"markdownRemark":{"id":"f4a0fe2a-050d-5cc8-9f0f-1cfd7c88762f","excerpt":"앱스토어 총 세 번째 리젝... 지금 글을 쓰는 27일 오후 시간 기준으로 막 심사에 들어갔다.     무엇이 날 이렇게 괴롭혔는가? 바로 AppTrackingTransparency framework…","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2cf2ed8b48f804d8174ffc3a202929cc/295bd/thumbnail_flutter.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 37.423312883435585%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABAElEQVR42q2RwUrDQBRF83l+hzu/QvwDf8C14EbcCa5cCG1sIgQlmywqBGKTJsZM0mkyMzmOEyouWkHwwoXH4817d+71sDAjezGOo+OuNpZKm+/ePni7hZ0+PPQXuIX3K82iMlaGpliv6fserTVt27pa2dqe5S6pOb1NkL1Cq4GmESil3KyUclqYyZGz5y3BB0jRsAgC4jgmiiLCMMT3fWbzOaKqOLpa4h3fcH4d2qeKt1VOkiSkaUqe5xhjJoWXLxUXD8svp+g2krIsybKMuq4pisKpxihmpeHkccPT67tTLOwPhBB0XccwDM5bb2f4th/+z8PxQLo/OfWnAH9L+RM40hv17FhBeAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"thumbnail\"\n        title=\"\"\n        src=\"/static/2cf2ed8b48f804d8174ffc3a202929cc/a6d36/thumbnail_flutter.png\"\n        srcset=\"/static/2cf2ed8b48f804d8174ffc3a202929cc/222b7/thumbnail_flutter.png 163w,\n/static/2cf2ed8b48f804d8174ffc3a202929cc/ff46a/thumbnail_flutter.png 325w,\n/static/2cf2ed8b48f804d8174ffc3a202929cc/a6d36/thumbnail_flutter.png 650w,\n/static/2cf2ed8b48f804d8174ffc3a202929cc/295bd/thumbnail_flutter.png 667w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h1 id=\"앱스토어-총-세-번째-리젝\" style=\"position:relative;\"><a href=\"#%EC%95%B1%EC%8A%A4%ED%86%A0%EC%96%B4-%EC%B4%9D-%EC%84%B8-%EB%B2%88%EC%A7%B8-%EB%A6%AC%EC%A0%9D\" aria-label=\"앱스토어 총 세 번째 리젝 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>앱스토어 총 세 번째 리젝...</h1>\n<p>지금 글을 쓰는 27일 오후 시간 기준으로 막 심사에 들어갔다.</p>\n<table>\n<thead>\n<tr>\n<th align=\"center\"></th>\n<th align=\"center\"></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"center\"><img src=\"/img01.png\" alt=\"\"></td>\n<td align=\"center\"><img src=\"/img02.png\" alt=\"\"></td>\n</tr>\n</tbody>\n</table>\n<p>무엇이 날 이렇게 괴롭혔는가?<br>\n바로 <strong>AppTrackingTransparency framework</strong> 라는 앱 추적 투명성 관련 문제다.</p>\n<p>나는 플러터로 개발을 했고, 해당 이슈를 처음엔 몰랐었다.<br>\n처음 리젝을 받고 해당 문제를 알게 되었다.<br>\n사실 웹 개발(Nest.Js + Next.Js)만 하다 와서 모바일 쪽 감을 잡지 못했었다.</p>\n<p>무튼 처음 앱 개발을 해본 분이라면 이런 전문을 많이 받았을 것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Guideline 2.1 - Information Needed\n\nWe're looking forward to completing our review, but we need more information to continue. Your app uses the AppTrackingTransparency framework, but we are unable to locate the App Tracking Transparency permission request when reviewed on iOS 17.0.3.\n\nNext Steps\n\nPlease explain where we can find the App Tracking Transparency permission request in your app. The request should appear before any data is collected that could be used to track the user.\n\nIf you've implemented App Tracking Transparency but the permission request is not appearing on devices running the latest OS, please review the available documentation and confirm App Tracking Transparency has been correctly implemented.\n\nIf your app does not track users, update your app privacy information in App Store Connect to not declare tracking. You must have the Account Holder or Admin role to update app privacy information.\n\nResources\n\n- Tracking is linking data collected from your app with third-party data for advertising purposes, or sharing the collected data with a data broker. Learn more about tracking.\n- See Frequently Asked Questions about the requirements for apps that track users.\n- Review developer documentation for App Tracking Transparency.</code></pre></div>\n<p>리뷰어마다 친절도가 다른데 처음 리뷰해준 사람은 위와 같이 상세하게 적어줬지만, 두 번째 리뷰어는 그냥 양식만 대충 해서 줬다.<br>\n물론 해결되지 않은 이슈 및 새로운 이슈 때문에 간략하게 적은 것일 수 도 있다.</p>\n<p>무튼 이 문제는 현재 마지막 리뷰를 기다리는 중인데 어떻게 처리해야 하는지에 대해 포스팅을 해본다.</p>\n<h2 id=\"app_tracking_transparency\" style=\"position:relative;\"><a href=\"#app_tracking_transparency\" aria-label=\"app_tracking_transparency permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>app_tracking_transparency</h2>\n<p>사실 Swift랑 아이폰 개발 관련 지식이 조금이라도 있다면 <strong>AppDelegate.swift</strong>쪽에서 처리할 수 있겠지만,<br>\n난 이제 iOS 개발지식이 사라진 상태다.<br>\n그래서 그냥 간편하게 Flutter 라이브러리인 <a href=\"https://pub.dev/packages/app_tracking_transparency\">app_tracking_transparency</a>를 이용하기로 했다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/431b2dff6f528816e23a304d493c030d/fd28b/img03.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAACEklEQVR42p2U2W7iQBBF+f+vmVd4mohNREI8RcM6Y8xivIDNvlPTp5iKnFEiRCxd1dLu27V1F9I0lcnIlziKxPM8GQ6HEgSBTCYTtYHv+zIej2W/38ujrxA5otrbbwnSjZxPR920XC7lcDjIbreT7XarPnC5XB4TcvqP1654C06/uU1XuV6vuhmgG8z3GVhXQqJIk1iSKJTpdKqpETUpk3oYhqqzhpzNZir5L78+n8/vhKSSZUtZrdea4vV2k9sXIIrPdIMSUqMkSfQEanc+n+V0OimOx+MH4KO2X62zt7DZbDTsxWKhpHEcq03aHGCN4T/karXSBuV9BvyFtUuVzZARqUWbjxqSLMs+6HkfkvEjygILFBdSQNHzUWJDjs0B2OZD4oMDUFdNGaelbFFCan7zmU40ef/WlQUejRDFfkBCgrSNtun/crzbDtM4lSjbytnNo3bZ0uQHS92ipEbWAOqNjsS2pmDTdR0bhrLdbkuv15Nut/su+/2+dDodJeSzOXt49bgBo9FIKpWKFItFKZfLUiqVpNls6g2gg08T8qJUq1UlazQa8vLyUwk56FuEpNlovEq9Xpdara7RtlotPehpQi45TQnDmb6F+v45SdexnyakTpF7aSbJWgbBWvxoI17obs9i5V6Ub6R8f41HEsaJ/PIchol0/PtQDwYDncWnCJk1RoT0/vx78g0QMmfPEP4FvNT5eunWrFIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img03\"\n        title=\"\"\n        src=\"/static/431b2dff6f528816e23a304d493c030d/a6d36/img03.png\"\n        srcset=\"/static/431b2dff6f528816e23a304d493c030d/222b7/img03.png 163w,\n/static/431b2dff6f528816e23a304d493c030d/ff46a/img03.png 325w,\n/static/431b2dff6f528816e23a304d493c030d/a6d36/img03.png 650w,\n/static/431b2dff6f528816e23a304d493c030d/fd28b/img03.png 811w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>대충 메인 페이지만 봐도 내가 원하는 이미지가 나온다.<br>\n맨날 앱 설치하면 저게 처음 떴는데 이런 이유였구나 싶다.</p>\n<p>보통 광고를 달고, 수집 개인정보 항목이 있다면 이 가이드라인이 적용되는 것 같다.<br>\n이 라이브러리를 적용하는 법은 매우 간단하다.</p>\n<p>pub.dev에 나온 대로 하면 되는데 귀찮은 분을 위해 여기다 간단히 요약을 하면 아래와 같다.</p>\n<h3 id=\"1-ios-사전-작업-infoplist\" style=\"position:relative;\"><a href=\"#1-ios-%EC%82%AC%EC%A0%84-%EC%9E%91%EC%97%85-infoplist\" aria-label=\"1 ios 사전 작업 infoplist permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. iOS 사전 작업 (info.plist)</h3>\n<p>다음의 경로에 있는 <strong>info.plist</strong>를 연다.</p>\n<blockquote>\n<p>iOS/Runner/info.plist</p>\n</blockquote>\n<p>파일의 마지막 쯔음에 아래의 문구를 추가해준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"plist\"><pre class=\"language-plist\"><code class=\"language-plist\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot; &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;\n&lt;plist version=&quot;1.0&quot;&gt;\n&lt;dict&gt;\n\t&lt;key&gt;CADisableMinimumFrameDurationOnPhone&lt;/key&gt;\n\t&lt;true/&gt;\n    ...\n\n    &lt;!-- 추가할 부분 --&gt;\n    &lt;key&gt;NSUserTrackingUsageDescription&lt;/key&gt;\n    &lt;string&gt;This identifier will be used to deliver personalized ads to you.&lt;/string&gt;\n&lt;/dict&gt;\n&lt;/plist&gt;</code></pre></div>\n<p>그리고 <strong>ReadMe</strong>에 보면 아래와 같은 내용이 있다.</p>\n<blockquote>\n<p>Google recommends that you should be using Google Mobile Ads SDK 7.64.0 or higher.<br>\nGoogle Mobile Ads SDK 7.64.0 이상을 사용할 것을 권장</p>\n</blockquote>\n<p>근데 난 <strong>google_mobile_ads: ^3.0.0</strong> 라이브러리를 쓰고 있고, 크게 문제는 되지 않았다.<br>\n하지만 IDFA를 사용할 수 없을 때의 대비도 하는게 좋다고 한다.(다른 곳에서 찾은 정보)</p>\n<p>IDFA(Identifier for Advertiser)는 참고로 광고 식별자를 의미한다.<br>\n애플은 이를 IDFA라 부르고, 안드로이드는 ADID라 부른다.<br>\n아주 예전에 애플이 이걸 막는다 하여 한때 큰 이슈였긴 했다.</p>\n<p>여기서 다룰 문제는 아니고 IDFA를 사용할 수 없을 때 SKAdNetwork를 적용하는 방법은 아래와 같다.<br>\n위에 info.plist에 아래의 내용을 추가해준다.<br>\n위치는 하단이나 적당한 곳에?</p>\n<div class=\"gatsby-highlight\" data-language=\"plist\"><pre class=\"language-plist\"><code class=\"language-plist\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot; &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;\n&lt;plist version=&quot;1.0&quot;&gt;\n&lt;dict&gt;\n\t&lt;key&gt;CADisableMinimumFrameDurationOnPhone&lt;/key&gt;\n\t&lt;true/&gt;\n    ...\n    &lt;key&gt;NSUserTrackingUsageDescription&lt;/key&gt;\n    &lt;string&gt;This identifier will be used to deliver personalized ads to you.&lt;/string&gt;\n\n    &lt;!-- 추가할 부분 --&gt;\n    &lt;key&gt;SKAdNetworkItems&lt;/key&gt;\n&lt;array&gt;\n  &lt;dict&gt;\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;cstr6suwn9.skadnetwork&lt;/string&gt;\n  &lt;/dict&gt;\n  &lt;dict&gt;\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;4fzdc2evr5.skadnetwork&lt;/string&gt;\n  &lt;/dict&gt;\n  &lt;dict&gt;\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;4pfyvq9l8r.skadnetwork&lt;/string&gt;\n  &lt;/dict&gt;\n  &lt;dict&gt;\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;2fnua5tdw4.skadnetwork&lt;/string&gt;\n  &lt;/dict&gt;\n  &lt;dict&gt;\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;ydx93a7ass.skadnetwork&lt;/string&gt;\n  &lt;/dict&gt;\n  &lt;dict&gt;\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;5a6flpkh64.skadnetwork&lt;/string&gt;\n  &lt;/dict&gt;\n  &lt;dict&gt;\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;p78axxw29g.skadnetwork&lt;/string&gt;\n  &lt;/dict&gt;\n  &lt;dict&gt;\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;v72qych5uu.skadnetwork&lt;/string&gt;\n  &lt;/dict&gt;\n  &lt;dict&gt;\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;ludvb6z3bs.skadnetwork&lt;/string&gt;\n  &lt;/dict&gt;\n  &lt;dict&gt;\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;cp8zw746q7.skadnetwork&lt;/string&gt;\n  &lt;/dict&gt;\n  &lt;dict&gt;\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;3sh42y64q3.skadnetwork&lt;/string&gt;\n  &lt;/dict&gt;\n  &lt;dict&gt;\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;c6k4g5qg8m.skadnetwork&lt;/string&gt;\n  &lt;/dict&gt;\n  &lt;dict&gt;\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;s39g8k73mm.skadnetwork&lt;/string&gt;\n  &lt;/dict&gt;\n  &lt;dict&gt;\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;3qy4746246.skadnetwork&lt;/string&gt;\n  &lt;/dict&gt;\n  &lt;dict&gt;\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;f38h382jlk.skadnetwork&lt;/string&gt;\n  &lt;/dict&gt;\n  &lt;dict&gt;\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;hs6bdukanm.skadnetwork&lt;/string&gt;\n  &lt;/dict&gt;\n  &lt;dict&gt;\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;v4nxqhlyqp.skadnetwork&lt;/string&gt;\n  &lt;/dict&gt;\n  &lt;dict&gt;\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;wzmmz9fp6w.skadnetwork&lt;/string&gt;\n  &lt;/dict&gt;\n  &lt;dict&gt;\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;yclnxrl5pm.skadnetwork&lt;/string&gt;\n  &lt;/dict&gt;\n  &lt;dict&gt;\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;t38b2kh725.skadnetwork&lt;/string&gt;\n  &lt;/dict&gt;\n  &lt;dict&gt;\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;7ug5zh24hu.skadnetwork&lt;/string&gt;\n  &lt;/dict&gt;\n  &lt;dict&gt;\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;gta9lk7p23.skadnetwork&lt;/string&gt;\n  &lt;/dict&gt;\n  &lt;dict&gt;\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;vutu7akeur.skadnetwork&lt;/string&gt;\n  &lt;/dict&gt;\n  &lt;dict&gt;\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;y5ghdn5j9k.skadnetwork&lt;/string&gt;\n  &lt;/dict&gt;\n  &lt;dict&gt;\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;n6fk4nfna4.skadnetwork&lt;/string&gt;\n  &lt;/dict&gt;\n  &lt;dict&gt;\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;v9wttpbfk9.skadnetwork&lt;/string&gt;\n  &lt;/dict&gt;\n  &lt;dict&gt;\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;n38lu8286q.skadnetwork&lt;/string&gt;\n  &lt;/dict&gt;\n  &lt;dict&gt;\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;47vhws6wlr.skadnetwork&lt;/string&gt;\n  &lt;/dict&gt;\n  &lt;dict&gt;\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;kbd757ywx3.skadnetwork&lt;/string&gt;\n  &lt;/dict&gt;\n  &lt;dict&gt;\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;9t245vhmpl.skadnetwork&lt;/string&gt;\n  &lt;/dict&gt;\n  &lt;dict&gt;\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;eh6m2bh4zr.skadnetwork&lt;/string&gt;\n  &lt;/dict&gt;\n  &lt;dict&gt;\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;a2p9lx4jpn.skadnetwork&lt;/string&gt;\n  &lt;/dict&gt;\n  &lt;dict&gt;\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;22mmun2rn5.skadnetwork&lt;/string&gt;\n  &lt;/dict&gt;\n  &lt;dict&gt;\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;4468km3ulz.skadnetwork&lt;/string&gt;\n  &lt;/dict&gt;\n  &lt;dict&gt;\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;2u9pt9hc89.skadnetwork&lt;/string&gt;\n  &lt;/dict&gt;\n  &lt;dict&gt;\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;8s468mfl3y.skadnetwork&lt;/string&gt;\n  &lt;/dict&gt;\n  &lt;dict&gt;\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;klf5c3l5u5.skadnetwork&lt;/string&gt;\n  &lt;/dict&gt;\n  &lt;dict&gt;\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;ppxm28t8ap.skadnetwork&lt;/string&gt;\n  &lt;/dict&gt;\n  &lt;dict&gt;\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;ecpz2srf59.skadnetwork&lt;/string&gt;\n  &lt;/dict&gt;\n  &lt;dict&gt;\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;uw77j35x4d.skadnetwork&lt;/string&gt;\n  &lt;/dict&gt;\n  &lt;dict&gt;\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;pwa73g5rt2.skadnetwork&lt;/string&gt;\n  &lt;/dict&gt;\n  &lt;dict&gt;\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;mlmmfzh3r3.skadnetwork&lt;/string&gt;\n  &lt;/dict&gt;\n  &lt;dict&gt;\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;578prtvx9j.skadnetwork&lt;/string&gt;\n  &lt;/dict&gt;\n  &lt;dict&gt;\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;4dzt52r2t5.skadnetwork&lt;/string&gt;\n  &lt;/dict&gt;\n  &lt;dict&gt;\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;e5fvkxwrpn.skadnetwork&lt;/string&gt;\n  &lt;/dict&gt;\n  &lt;dict&gt;\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;8c4e2ghe7u.skadnetwork&lt;/string&gt;\n  &lt;/dict&gt;\n  &lt;dict&gt;\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;zq492l623r.skadnetwork&lt;/string&gt;\n  &lt;/dict&gt;\n  &lt;dict&gt;\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;3rd42ekr43.skadnetwork&lt;/string&gt;\n  &lt;/dict&gt;\n  &lt;dict&gt;\n    &lt;key&gt;SKAdNetworkIdentifier&lt;/key&gt;\n    &lt;string&gt;3qcr597p9d.skadnetwork&lt;/string&gt;\n  &lt;/dict&gt;\n&lt;/array&gt;\n&lt;/dict&gt;\n&lt;/plist&gt;</code></pre></div>\n<p>이것에 대해 좀더 알고 싶은 분은 <a href=\"https://developers.google.com/admob/ios/privacy/strategies?hl=ko\">구글 공식 문서(개인 정보 보호 전략)</a>를 참고하자.</p>\n<h3 id=\"2-설치\" style=\"position:relative;\"><a href=\"#2-%EC%84%A4%EC%B9%98\" aria-label=\"2 설치 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 설치</h3>\n<p>위 작업이 끝났다면, 터미널을 열고 아래의 명령어를 주고 설치한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">> flutter pub add app_tracking_transparency</code></pre></div>\n<h3 id=\"3-적용\" style=\"position:relative;\"><a href=\"#3-%EC%A0%81%EC%9A%A9\" aria-label=\"3 적용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 적용</h3>\n<p>자신의 프로젝트마다 다르겠지만, main.dart에 직접 위젯을 올려서 하는 프로젝트는 없을 것이다.<br>\n보통 별도 파일을 하나 만들고 거기서 또 위젯을 부르고 상태 관리를 하는게 일반적일 듯 싶다.</p>\n<p>이걸 왜 설명하냐하면, 적용해야 할 곳이 앱이 처음 실행되는 위젯에서 구현해야 할 내용이 있기 때문이다.<br>\n난 <strong>StatefulWidget</strong>을 상속받은 Home이라는 위젯이 있는데 메인함수가 이 위젯을 호출한다.<br>\nbuild 메서드를 수행하기 전 오버라이드 된 <strong>initState</strong> 메서드를 아래와 같이 추가해준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"dart\"><pre class=\"language-dart\"><code class=\"language-dart\">  <span class=\"token metadata function\">@override</span>\n  <span class=\"token keyword\">void</span> <span class=\"token function\">initState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">initState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// It is safer to call native code using addPostFrameCallback after the widget has been fully built and initialized.</span>\n    <span class=\"token comment\">// Directly calling native code from initState may result in errors due to the widget tree not being fully built at that point.</span>\n    <span class=\"token class-name\">WidgetsFlutterBinding</span><span class=\"token punctuation\">.</span><span class=\"token function\">ensureInitialized</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">addPostFrameCallback</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>_<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token function\">initPlugin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<p>그리고 아래의 메서드를 추가해준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"dart\"><pre class=\"language-dart\"><code class=\"language-dart\">\n<span class=\"token comment\">// Platform messages are asynchronous, so we initialize in an async method.</span>\n  <span class=\"token class-name\">Future</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token keyword\">void</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">initPlugin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">final</span> <span class=\"token class-name\">TrackingStatus</span> status <span class=\"token operator\">=</span>\n          <span class=\"token keyword\">await</span> <span class=\"token class-name\">AppTrackingTransparency</span><span class=\"token punctuation\">.</span>trackingAuthorizationStatus<span class=\"token punctuation\">;</span>\n      <span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> _authStatus <span class=\"token operator\">=</span> <span class=\"token string-literal\"><span class=\"token string\">'</span><span class=\"token interpolation\"><span class=\"token punctuation\">$</span><span class=\"token expression\">status</span></span><span class=\"token string\">'</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token comment\">// If the system can show an authorization request dialog</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>status <span class=\"token operator\">==</span> <span class=\"token class-name\">TrackingStatus</span><span class=\"token punctuation\">.</span>notDetermined<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// // Show a custom explainer dialog before the system dialog</span>\n        <span class=\"token comment\">// await showCustomTrackingDialog(context);</span>\n\n        <span class=\"token comment\">// Wait for dialog popping animation</span>\n        <span class=\"token comment\">// await Future.delayed(const Duration(milliseconds: 200));</span>\n\n        <span class=\"token comment\">// Request system's tracking authorization dialog</span>\n        <span class=\"token keyword\">final</span> <span class=\"token class-name\">TrackingStatus</span> status <span class=\"token operator\">=</span>\n            <span class=\"token keyword\">await</span> <span class=\"token class-name\">AppTrackingTransparency</span><span class=\"token punctuation\">.</span><span class=\"token function\">requestTrackingAuthorization</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> _authStatus <span class=\"token operator\">=</span> <span class=\"token string-literal\"><span class=\"token string\">'</span><span class=\"token interpolation\"><span class=\"token punctuation\">$</span><span class=\"token expression\">status</span></span><span class=\"token string\">'</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">on</span> <span class=\"token class-name\">PlatformException</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> _authStatus <span class=\"token operator\">=</span> <span class=\"token string-literal\"><span class=\"token string\">'PlatformException was thrown'</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">// final uuid = await AppTrackingTransparency.getAdvertisingIdentifier();</span>\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<p>참고로 status 값은 아래와 같은 형태로 선언되어 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"dart\"><pre class=\"language-dart\"><code class=\"language-dart\"><span class=\"token class-name\">String</span> _authStatus <span class=\"token operator\">=</span> <span class=\"token string-literal\"><span class=\"token string\">'Unknown'</span></span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"4-결과-및-기타\" style=\"position:relative;\"><a href=\"#4-%EA%B2%B0%EA%B3%BC-%EB%B0%8F-%EA%B8%B0%ED%83%80\" aria-label=\"4 결과 및 기타 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. 결과 및 기타</h3>\n<p>이렇게 하면 끝이다.</p>\n<p><img src=\"/img04.PNG\" alt=\"\"></p>\n<p>근데 공식 pub의 readme 하단에 보면 아래와 같은 문구가 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">IOS does not allow to display multiple native dialogs.\nIf you try to open a native dialog when there is already a dialog on screen, previous dialog will be forcefully closed by the system.\nIt's very common to show notification permission dialog on the first run of an ios application.\nIf you both try to show a notification permission dialog and app tracking request dialog, one of the each will be cancelled.\nOne way to handle this is using an explainer dialog before requesting tracking authorization. Please check the sample project for more on this. I highly recommend this approach.\n\nIOS는 여러 개의 네이티브 대화상자를 표시할 수 없습니다.\n화면에 이미 대화가 있을 때 네이티브 대화 상자를 열려고 하면, 이전 대화 상자가 시스템에 의해 강제로 닫힙니다.\nios 애플리케이션의 첫 번째 실행에 알림 권한 대화상자를 표시하는 것은 매우 일반적이다.\n둘 다 알림 권한 대화상자와 앱 추적 요청 대화상자를 보여주려고 하면, 각각 중 하나가 취소됩니다.\n이것을 처리하는 한 가지 방법은 추적 허가를 요청하기 전에 설명 대화를 사용하는 것이다.\n이것에 대한 자세한 내용은 샘플 프로젝트를 확인하세요.\n저는 이 접근 방식을 강력히 추천합니다.</code></pre></div>\n<p>즉 앱 시작할 때 플러터가 아닌 네이티브 다이얼로그가 여러 개가 뜰 상황엔 저 기능의 동작을 보장하지 않는다는 뜻이다.<br>\n그래서 예시 코드를 보면 알겠지만 어떤 함수를 먼저 호출해서 플러터에서 호출되는 다이얼로그가 뜬 뒤에 호출되도록 구현되어 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"dart\"><pre class=\"language-dart\"><code class=\"language-dart\"><span class=\"token class-name\">Future</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token keyword\">void</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">showCustomTrackingDialog</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">BuildContext</span> context<span class=\"token punctuation\">)</span> <span class=\"token keyword\">async</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span>\n      <span class=\"token keyword\">await</span> showDialog<span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token keyword\">void</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span>\n        context<span class=\"token punctuation\">:</span> context<span class=\"token punctuation\">,</span>\n        builder<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span>context<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token class-name\">AlertDialog</span><span class=\"token punctuation\">(</span>\n          title<span class=\"token punctuation\">:</span> <span class=\"token keyword\">const</span> <span class=\"token class-name\">Text</span><span class=\"token punctuation\">(</span><span class=\"token string-literal\"><span class=\"token string\">'Dear User'</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n          content<span class=\"token punctuation\">:</span> <span class=\"token keyword\">const</span> <span class=\"token class-name\">Text</span><span class=\"token punctuation\">(</span>\n            <span class=\"token string-literal\"><span class=\"token string\">'We care about your privacy and data security. We keep this app free by showing ads. '</span></span>\n            <span class=\"token string-literal\"><span class=\"token string\">'Can we continue to use your data to tailor ads for you?\\n\\nYou can change your choice anytime in the app settings. '</span></span>\n            <span class=\"token string-literal\"><span class=\"token string\">'Our partners will collect data and use a unique identifier on your device to show you ads.'</span></span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n          actions<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n            <span class=\"token class-name\">TextButton</span><span class=\"token punctuation\">(</span>\n              onPressed<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token class-name\">Navigator</span><span class=\"token punctuation\">.</span><span class=\"token function\">pop</span><span class=\"token punctuation\">(</span>context<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n              child<span class=\"token punctuation\">:</span> <span class=\"token keyword\">const</span> <span class=\"token class-name\">Text</span><span class=\"token punctuation\">(</span><span class=\"token string-literal\"><span class=\"token string\">'Continue'</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>이걸 사용하는것도 좋지만 난 그냥 바로 뜨게 했다.</p>\n<h2 id=\"암담한-결과--세-번째-거절\" style=\"position:relative;\"><a href=\"#%EC%95%94%EB%8B%B4%ED%95%9C-%EA%B2%B0%EA%B3%BC--%EC%84%B8-%EB%B2%88%EC%A7%B8-%EA%B1%B0%EC%A0%88\" aria-label=\"암담한 결과  세 번째 거절 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>암담한 결과 : 세 번째 거절</h2>\n<p>그렇다.<br>\n또 <strong>Guideline 2.1 - Information Needed</strong> 이슈로 리젝을 때렸다.<br>\niOS 17.0.3에서는 메세지를 볼 수 없다는 뜻이다.</p>\n<p>그래서 위에 방법도 해결할 수 있는 방법이지만, 구글에서 <a href=\"https://zenn.dev/hirokt/articles/flutter-ios-17-unable-to-locate-att\">나와 같은 이슈</a>를 다루는 페이지를 찾았다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/cded57782560b4cbeac3cab1a3a407d3/d48f1/img05.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 100.61349693251533%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAACAElEQVR42qVU266bMBA8//93aR+Sxx41CTcbMGCuhunOUmjUKiFHRZrsYuLxenbsjzAvME2Huq5RCZqmRtzMKNyae+8xTAG+bbEsC1495PqYpgnfv52UkM/RpENCEgzDgFYq6LoOIQQlfYY3CKFEcRzDGIN5nv+3QohWHpEQls6pjkVRaF6UpSLPc5QSqechIZNhDLiVMyI3Swz4tBN+mBG3fMRVcC9GHbP1SJWPNfxHpzf0eko4y4+1VnG9XnE+n3E6nRTbFt8l3wmrqlLU6sNGidSXoiMbNo6jgk7o+/5p43ZCJ2SODZHISZzMiWwGF+A7rcWc32mtl4RlVcPm7GyFvChhpcvG5prT+F/TUPRJMosoSZU0NVbeM8RphjQzUukg2+7RDz1a2T7zTqpv2+73t3WMOwgihVaYbCRCGsWJ5EbzexQr6U1ikq6LMP683eUgrP+9C7gzyrITFrrVQqLTKmnmRwmoMY3O/1R1o+O9VMRnfrDY7sPNGm/h+LYJuFwuX/bciy7PeimQcLPL5jvmFJudZuQY8y3+bZ+d0LlSTFyqF3kJ0GvE9l6JrZzoxkuE3aVfvW91ETyc7p0wLytpwnqr8AiuBvZqCeMXRBVgWyBtgFjyTNTJJLd+fTcNmyPYjJ3ILZO4SQaCHqtHcNVJEBRYESRf1pynMCx/KvwFMVEbhx4q/BYAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img05\"\n        title=\"\"\n        src=\"/static/cded57782560b4cbeac3cab1a3a407d3/a6d36/img05.png\"\n        srcset=\"/static/cded57782560b4cbeac3cab1a3a407d3/222b7/img05.png 163w,\n/static/cded57782560b4cbeac3cab1a3a407d3/ff46a/img05.png 325w,\n/static/cded57782560b4cbeac3cab1a3a407d3/a6d36/img05.png 650w,\n/static/cded57782560b4cbeac3cab1a3a407d3/d48f1/img05.png 796w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>일본어로 되어 있긴 한데 대충 무슨 뜻인지 알았고, 아래 원인에 보면,<br>\nFlutter 화면 표시 이후 ATT 다이얼로그 표시가 제대로 표시가 안된다.<br>\n<a href=\"https://github.com/deniza/app_tracking_transparency/issues/47\">깃헙 이슈</a>에 이미 등록되어 있다고 한다.</p>\n<p>나도 들어가서 봤더니 아주 간단한 트릭으로 해결했다고 한다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d18376eacf84a0d119d9c88557e15cf2/bf433/img06.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 68.09815950920245%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAABkElEQVR42qWT626DMAyF9/4vOG3rNloKFFoIgQC5EDzbkJZKoP4Y0pEdYr6cWOYtzwu4VTUU1xJko6BpO6gxql6DdSNo615qMBZG74GeN1EJKFkV3MpZ5fJu0Br8NHHxK1EdAydMmlZBKWroB80nGnRmlmhHP693RPWqH9ZAAIFXfP88wMfXN5zTHIpSQHETUNUNq+kG6Aa7I8Pt8X4BUkIvrgypGESR+tqontVri31yHLdEe09AiVcmCLkphWR4OCDEFl3Sh2s9gHYFxEgukixHFRCdzhAnGa+PccIxvRSQ4xQIqdh5OPjuXttnh9SHOLkw4JzOkaDHOIVkgfForVpBjqlVm0B6GSHk8HtkUHRK2CkBf6KY8yy/MjC4eu7hhsPQNxpqicMtlwEPcVbLa6rfB04zUMiWr2GcB80z5nel7fgkg7oDRxzcVnWzWnLR8KBLdBMi57jfdThGmFOdwpy+oZoeB3sKg22shSxLoe8UWPo38XczxmzI4r7l/XUN5c65B3BEq9bgCd7Bf54A/AMV6TyLkUGKsAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img06\"\n        title=\"\"\n        src=\"/static/d18376eacf84a0d119d9c88557e15cf2/a6d36/img06.png\"\n        srcset=\"/static/d18376eacf84a0d119d9c88557e15cf2/222b7/img06.png 163w,\n/static/d18376eacf84a0d119d9c88557e15cf2/ff46a/img06.png 325w,\n/static/d18376eacf84a0d119d9c88557e15cf2/a6d36/img06.png 650w,\n/static/d18376eacf84a0d119d9c88557e15cf2/bf433/img06.png 971w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>그렇다.<br>\n단순하게 1초 뒤에 띄우게끔 코드를 해뒀다.</p>\n<div class=\"gatsby-highlight\" data-language=\"dart\"><pre class=\"language-dart\"><code class=\"language-dart\"><span class=\"token comment\">///깃허브 이슈 구현방법</span>\n<span class=\"token metadata function\">@override</span>\n  <span class=\"token keyword\">void</span> <span class=\"token function\">initState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">initState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">WidgetsBinding</span><span class=\"token punctuation\">.</span>instance<span class=\"token punctuation\">.</span><span class=\"token function\">addPostFrameCallback</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>_<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n      <span class=\"token function\">_trackingTransparencyRequest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token class-name\">Future</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">_trackingTransparencyRequest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">await</span> <span class=\"token class-name\">Future</span><span class=\"token punctuation\">.</span><span class=\"token function\">delayed</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> <span class=\"token class-name\">Duration</span><span class=\"token punctuation\">(</span>milliseconds<span class=\"token punctuation\">:</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">final</span> <span class=\"token class-name\">TrackingStatus</span> status <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token class-name\">AppTrackingTransparency</span><span class=\"token punctuation\">.</span>trackingAuthorizationStatus<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>status <span class=\"token operator\">==</span> <span class=\"token class-name\">TrackingStatus</span><span class=\"token punctuation\">.</span>authorized<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">final</span> uuid <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token class-name\">AppTrackingTransparency</span><span class=\"token punctuation\">.</span><span class=\"token function\">getAdvertisingIdentifier</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">return</span> uuid<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>status <span class=\"token operator\">==</span> <span class=\"token class-name\">TrackingStatus</span><span class=\"token punctuation\">.</span>notDetermined<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">await</span> <span class=\"token class-name\">AppTrackingTransparency</span><span class=\"token punctuation\">.</span><span class=\"token function\">requestTrackingAuthorization</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">final</span> uuid <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token class-name\">AppTrackingTransparency</span><span class=\"token punctuation\">.</span><span class=\"token function\">getAdvertisingIdentifier</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">return</span> uuid<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">///일본 페이지 구현 방법</span>\n  <span class=\"token class-name\">Future</span> <span class=\"token function\">_trackingTransparencyRequest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">final</span> <span class=\"token class-name\">TrackingStatus</span> trackingStatus <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token class-name\">AppTrackingTransparency</span><span class=\"token punctuation\">.</span>trackingAuthorizationStatus<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>trackingStatus <span class=\"token operator\">==</span> <span class=\"token class-name\">TrackingStatus</span><span class=\"token punctuation\">.</span>notDetermined<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">await</span> <span class=\"token class-name\">Future</span><span class=\"token punctuation\">.</span><span class=\"token function\">delayed</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> <span class=\"token class-name\">Duration</span><span class=\"token punctuation\">(</span>milliseconds<span class=\"token punctuation\">:</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 1秒遅らせる</span>\n        <span class=\"token keyword\">final</span> status <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token class-name\">AppTrackingTransparency</span><span class=\"token punctuation\">.</span><span class=\"token function\">requestTrackingAuthorization</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ATTダイアログを表示する</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>핵심은 저 1초 딜레이인데 호출 위치는 사실 큰 상관은 없을 것 같긴 하다.</p>\n<h2 id=\"정리-및-참고\" style=\"position:relative;\"><a href=\"#%EC%A0%95%EB%A6%AC-%EB%B0%8F-%EC%B0%B8%EA%B3%A0\" aria-label=\"정리 및 참고 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>정리 및 참고</h2>\n<p>그래서 이제 4번째 제출을 했다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/3c5ab424a0fefac1f302522519c6194a/b2cef/img07.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 11.65644171779141%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAVUlEQVR42k2O2w7AIAhD/f+P3YuIMi7dwLjsoSktJ4HGzFBVmBncvZR5zln+3+UsIoiIj3UPmN4Y1ItrRITed0jwwKdPX2tVn0w+cLgtIFzA43oPOh7EsJ00OyJQVwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img07\"\n        title=\"\"\n        src=\"/static/3c5ab424a0fefac1f302522519c6194a/a6d36/img07.png\"\n        srcset=\"/static/3c5ab424a0fefac1f302522519c6194a/222b7/img07.png 163w,\n/static/3c5ab424a0fefac1f302522519c6194a/ff46a/img07.png 325w,\n/static/3c5ab424a0fefac1f302522519c6194a/a6d36/img07.png 650w,\n/static/3c5ab424a0fefac1f302522519c6194a/b2cef/img07.png 847w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>과연 이번엔 리뷰 통과를 할 수 있을지...<br>\n통과가 되면 따로 글은 남기지 않겠지만...</p>\n<p>만약 통과하지 못하면 해당 포스팅은 또 업데이트 될 예정이다...</p>\n<div class=\"gatsby-highlight\" data-language=\"toc\"><pre class=\"language-toc\"><code class=\"language-toc\"></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"toc\"><pre class=\"language-toc\"><code class=\"language-toc\"></code></pre></div>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#%EC%95%B1%EC%8A%A4%ED%86%A0%EC%96%B4-%EC%B4%9D-%EC%84%B8-%EB%B2%88%EC%A7%B8-%EB%A6%AC%EC%A0%9D\">앱스토어 총 세 번째 리젝...</a></p>\n<ul>\n<li>\n<p><a href=\"#app_tracking_transparency\">app_tracking_transparency</a></p>\n<ul>\n<li><a href=\"#1-ios-%EC%82%AC%EC%A0%84-%EC%9E%91%EC%97%85-infoplist\">1. iOS 사전 작업 (info.plist)</a></li>\n<li><a href=\"#2-%EC%84%A4%EC%B9%98\">2. 설치</a></li>\n<li><a href=\"#3-%EC%A0%81%EC%9A%A9\">3. 적용</a></li>\n<li><a href=\"#4-%EA%B2%B0%EA%B3%BC-%EB%B0%8F-%EA%B8%B0%ED%83%80\">4. 결과 및 기타</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%95%94%EB%8B%B4%ED%95%9C-%EA%B2%B0%EA%B3%BC--%EC%84%B8-%EB%B2%88%EC%A7%B8-%EA%B1%B0%EC%A0%88\">암담한 결과 : 세 번째 거절</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%A0%95%EB%A6%AC-%EB%B0%8F-%EC%B0%B8%EA%B3%A0\">정리 및 참고</a></p>\n</li>\n</ul>\n</li>\n</ul>","frontmatter":{"title":"Flutter - 애플 앱스토어 리젝 사유 Guideline 2.1 Information Needed AppTrackingTransparency","description":"Guideline 2.1 Information Needed AppTrackingTransparency","date":"October 27, 2023","tags":["Flutter","AppStore","Troubleshooting"],"series":"Flutter","previewImage":"flutter_logo.png","isPrivate":null,"writer":null}},"previous":{"fields":{"slug":"/dart_flutter/231027_apple-reject-guide-2.3.3-metadata/"},"frontmatter":{"title":"Flutter 애플 앱스토어 리젝 사유 Guideline 2.3.3 Performance Accurate Metadata","isPrivate":null}},"next":{"fields":{"slug":"/dart_flutter/231027_iproxy-cannot-open/"},"frontmatter":{"title":"Flutter - iOS에서 VScode로 빌드 돌릴 때 에러 (iProxy cannot be opened, idevicesyslog cannot be opened)","isPrivate":null}}},"pageContext":{"id":"f4a0fe2a-050d-5cc8-9f0f-1cfd7c88762f","previousPostId":"d042356a-7183-5963-ab1c-4add165af904","nextPostId":"0f2e2f1f-95d9-50f2-8ee0-d0e2d614c17e"}},"staticQueryHashes":[],"slicesMap":{}}