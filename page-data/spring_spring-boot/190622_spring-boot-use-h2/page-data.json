{"componentChunkName":"component---src-templates-blog-post-js","path":"/spring_spring-boot/190622_spring-boot-use-h2/","result":{"data":{"site":{"siteMetadata":{"title":"MHLab blog","author":"MHLab","siteUrl":"https://elfinlas.github.io","comment":{"disqusShortName":"","utterances":"elfinlas/blog_utterances"},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"0e51cc58-d4bc-55d8-b8fe-c0958e7e431a","excerpt":"주의 이 문건은 과거 Hexo 블로그 (2019-06-22) 에서 이동된 문서입니다. 시간이 지남에 따라 최신 기술과 다를 수 있으니 주의 바랍니다. Spring boot에서 H2 데이터베이스 사용하기 정말 오랜만에 포스팅을 남긴다. 이직 후 블로그를 정리할 시간도 없이 다양한 프로젝트를 진행하였다. 하면서 쌓은 경험들이나 작성할 것들이 Notion에 산더미처럼 쌓여있다. 이제부터 하나씩 정리를 하면서 포스팅을 다시 열심히 해볼 예정이다. 각설하고… 첫 포스팅은 H…","html":"<h1 id=\"주의\" style=\"position:relative;\"><a href=\"#%EC%A3%BC%EC%9D%98\" aria-label=\"주의 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>주의</h1>\n<h3 id=\"이-문건은-과거-hexo-블로그-2019-06-22-에서-이동된-문서입니다\" style=\"position:relative;\"><a href=\"#%EC%9D%B4-%EB%AC%B8%EA%B1%B4%EC%9D%80-%EA%B3%BC%EA%B1%B0-hexo-%EB%B8%94%EB%A1%9C%EA%B7%B8-2019-06-22-%EC%97%90%EC%84%9C-%EC%9D%B4%EB%8F%99%EB%90%9C-%EB%AC%B8%EC%84%9C%EC%9E%85%EB%8B%88%EB%8B%A4\" aria-label=\"이 문건은 과거 hexo 블로그 2019 06 22 에서 이동된 문서입니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이 문건은 과거 Hexo 블로그 (2019-06-22) 에서 이동된 문서입니다.</h3>\n<h4 id=\"시간이-지남에-따라-최신-기술과-다를-수-있으니-주의-바랍니다\" style=\"position:relative;\"><a href=\"#%EC%8B%9C%EA%B0%84%EC%9D%B4-%EC%A7%80%EB%82%A8%EC%97%90-%EB%94%B0%EB%9D%BC-%EC%B5%9C%EC%8B%A0-%EA%B8%B0%EC%88%A0%EA%B3%BC-%EB%8B%A4%EB%A5%BC-%EC%88%98-%EC%9E%88%EC%9C%BC%EB%8B%88-%EC%A3%BC%EC%9D%98-%EB%B0%94%EB%9E%8D%EB%8B%88%EB%8B%A4\" aria-label=\"시간이 지남에 따라 최신 기술과 다를 수 있으니 주의 바랍니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>시간이 지남에 따라 최신 기술과 다를 수 있으니 주의 바랍니다.</h4>\n<hr>\n<br>\n<h1 id=\"spring-boot에서-h2-데이터베이스-사용하기\" style=\"position:relative;\"><a href=\"#spring-boot%EC%97%90%EC%84%9C-h2-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0\" aria-label=\"spring boot에서 h2 데이터베이스 사용하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Spring boot에서 H2 데이터베이스 사용하기</h1>\n<p>정말 오랜만에 포스팅을 남긴다.<br>\n이직 후 블로그를 정리할 시간도 없이 다양한 프로젝트를 진행하였다.<br>\n하면서 쌓은 경험들이나 작성할 것들이 <a href=\"https://www.notion.so\">Notion</a>에 산더미처럼 쌓여있다.<br>\n이제부터 하나씩 정리를 하면서 포스팅을 다시 열심히 해볼 예정이다.<br>\n각설하고…<br>\n첫 포스팅은 H2 데이터베이스를 붙여보는 부분이다.</p>\n<br>\n<h2 id=\"h2\" style=\"position:relative;\"><a href=\"#h2\" aria-label=\"h2 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>H2?</h2>\n<p>H2는 자바 기반의 RDBMS이다.<br>\n브라우저 콘솔 지원, 저용량 (2MB), JDBC API 지원 등 다양한 장점을 가지고 있다.<br>\n이런 장점들 덕에 테스트 DB로 많이 쓰인다.<br>\n나도 포스팅을 하면서 JPA 등을 테스트 하기 위해 H2를 설정을 하였는데 이번 포스팅에서는 이 H2를 Spring boot에 붙이는 것에 대해 알아보려 한다.<br>\nH2에 대해 더 알고 싶은 분은 <a href=\"http://www.h2database.com/html/main.html\">공식 홈페이지</a>를 참고하자.</p>\n<br>\n<h2 id=\"how-to-install\" style=\"position:relative;\"><a href=\"#how-to-install\" aria-label=\"how to install permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>How to install?</h2>\n<blockquote>\n<p>먼저 진행 환경은 아래와 같다.\nIntelliJ + Spring boot 2.1.6 + Gradle</p>\n</blockquote>\n<p>처음 프로젝트를 진행한다면 <a href=\"https://start.spring.io\">Spring initializr</a>를 통해서 손쉽게 추가할 수 있다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 33.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABDElEQVQoz3WR4W6DIBSF+/6v1n9rmzabtjO2zqkoKiACenaRtFtNd5OTcyGXLwfYxHGMNE0xDAOsNeBtg3Ecca95nv/VuvzeRkoJL601jNPoVQtjDMHdomnyh9fgsHbOBVlLc1MA+mRKqSWVED1aSihVT30HITuCjjRI4Nk+FNYOTdOgqkowxsA5X6AbD/MyBOyVQMoy5G2JUtKw4ouXog4ug393FTotKCYeyV4k1BDaYLs/Ybs74v2aI8qK4LcCH+ReMe0lrANXOrzb6h2frtwPI47JFSfS4ZJgH39iF11wOCd4i85LH90IWjDUQr38tF8gfcpgLLKa44uUN+3if3vvtRzASHI0T8B7/QDX+hxHNPlYdgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img 01\"\n        title=\"img 01\"\n        src=\"/static/8405916bc30b708ad4099ea2177ee8ca/5a190/img_01.png\"\n        srcset=\"/static/8405916bc30b708ad4099ea2177ee8ca/772e8/img_01.png 200w,\n/static/8405916bc30b708ad4099ea2177ee8ca/e17e5/img_01.png 400w,\n/static/8405916bc30b708ad4099ea2177ee8ca/5a190/img_01.png 800w,\n/static/8405916bc30b708ad4099ea2177ee8ca/a1dd2/img_01.png 838w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>위 이미지 처럼 <strong>이니셜라이즈</strong>에서 의존성을 쉽게 추가할 수 있다.<br>\n물론 기존의 프로젝트가 있다면 아래의 코드를 <strong>build.gradle</strong>에 추가해준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">runtimeOnly 'com.h2database:h2'</code></pre></div>\n<p>프로젝트의 설정 파일(application.yml 등)에 아래와 같이 작성해준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">server:\n  port: 8099  # Spring boot Server port\n\nspring:\n  h2:\n    console:\n      enabled: true  # H2 웹 콘솔을 사용하겠다는 의미\n      path: /test_db  # 콘솔의 경로\n\n  datasource:\n    driver-class-name: org.h2.Driver  #h2 드라이버 설정\n    url: jdbc:h2:file:~/Develop/Github/SpringBlogExam/test_db;AUTO_SERVER=TRUE  #접속 URL\n    username: test  # 사용자 이름 (로그인 시 사용)\n    password: 1234  # 사용자 암호 (로그인 시 사용)</code></pre></div>\n<p>여기서 datasource의 url의 경우 설명을 간략하게 하면 아래와 같다.</p>\n<ul>\n<li>\n<p>jdbc:h2:file</p>\n<ul>\n<li>file로 DB를 관리하겠다는 뜻</li>\n</ul>\n</li>\n<li>\n<p>~/…/test_db</p>\n<ul>\n<li>현재 설정된 경로에 test_db 라는 이름으로 데이터베이스를 생성 (해당 경로에 파일이 생성도니다.)</li>\n</ul>\n</li>\n<li>\n<p>AUTO_SERVER</p>\n<ul>\n<li>다중 접속을 허용하겠다는 의미 (인메모리에서는 미 사용)</li>\n</ul>\n</li>\n</ul>\n<br>\n<p>이렇게 설정 후 Spring boot를 실행하고 브라우저에 url을 입력하여 접속하면 아래와 같은 화면이 뜬다.<br>\n(URL의 경우 위 설정을 예시로 하면 <a href=\"http://localhost:8099/test_db/\">http://localhost:8099/test_db/</a> 이다.)</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 539px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 71.50000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACf0lEQVQ4y21S2XLTQBDM/38AVRSE4oVHXjmKxHYcCqcgOLbOlSxZtqTVaZ22fFSIm1nFGJygqtbOSLO9M917dr/bIIk49vcbAA/YP/yC7O9RZkDgAqsKqHJgWQI1rf979vv23cZn380C7/oR3nZDnF+GePWF48UnjvMLwmVwAMfri1O8oW8vP3u4MYqW6IFY94QzNuO4vFXwYSDh442C3tjGlTRDj9AZTdEdO23cV9wjrgVUD+8HM+jz6NDlgbBIHTCpA0Puwtb6qBcMfCYj4YxGVjCbDNv4fh1jtwoPCLBZhhioLso8OCVM4hnGwy6Gtx1MrVtEoQmDKXAcE5alQ9MkuHMb66bCZl1j7shQpD5U6Rq61EWeeaeEZcGRJQby1EIaM8SBjiRkSCMTEdfAPQWBr9J31iLwFXBXQuDJ8OYjiP0nhGns0GldOrUH17lDRJtsS4HJxnTAHNt1jma1QLNM23W9yh7RZFhWEaoyPCXMUk6EKgxNo46ok9CgES34no04cpEmPpLYO65xJGKOBe3LM466emLKggpVSQJTyYhQR+hrsCcqnKnegukjGPoYpiFBU4dQ5B+U35HOIxpZx7KO2xv4T4dzmPo1mPaVOhR6aQi5g91WmFBguymP2G1r1IVLejMUCxOLSEX1XMMZRj870NVvZIROBtmkVU4aFUcI4nWTY7XMkaVTmkSjWkYrEZZPrk2Z+zSmTA6qWMTCXQO+y8icCV0hq43FaCKvCo8OnFBnOtUaVKuhfk5IIodK+1Mg9Ekr6QqWMYBt3kBXxJ3rtXkSyG1XAqI2prwq/FNCMZJouy4jQti61iwTrEhsARH/yR9r/taJfeumPCH8DQ1PCMcWItnYAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img 02\"\n        title=\"img 02\"\n        src=\"/static/40bd8a1ddbbcd183678d80e00876c1b7/10f9a/img_02.png\"\n        srcset=\"/static/40bd8a1ddbbcd183678d80e00876c1b7/772e8/img_02.png 200w,\n/static/40bd8a1ddbbcd183678d80e00876c1b7/e17e5/img_02.png 400w,\n/static/40bd8a1ddbbcd183678d80e00876c1b7/10f9a/img_02.png 539w\"\n        sizes=\"(max-width: 539px) 100vw, 539px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>아마 콘솔의 JDBC URL의 경우 사진과 다를텐데 yml에 작성한 url로 맞춰주자.<br>\n그리고 계정 비번의 정보(위 설정 파일 참고)를 입력하면 콘솔에 접속할 수 있다.</p>\n<br>\n<h2 id=\"정리\" style=\"position:relative;\"><a href=\"#%EC%A0%95%EB%A6%AC\" aria-label=\"정리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>정리</h2>\n<p>일단 이번 포스팅에서는 가볍에 Spring boot에서 h2를 사용하는 방법에 대해 작성하였다.<br>\n다음 포스팅에서는 h2에 테스트 데이터를 넣는 것과 기타 추가 사항에 대해 포스팅을 할 예정이다.</p>","frontmatter":{"title":"Spring boot에서 H2 데이터베이스 사용하기","date":"June 22, 2019"}}},"pageContext":{"slug":"/spring_spring-boot/190622_spring-boot-use-h2/","previous":{"fields":{"slug":"/spring_spring-boot/190131_spring-boot-base-url/"},"frontmatter":{"title":"Spring boot에서 Base url을 설정하는 방법"}},"next":{"fields":{"slug":"/java/190923_java-singleton/"},"frontmatter":{"title":"Java에서 싱글톤(Singleton) 패턴을 사용하는 이유와 주의할 점"}}}},"staticQueryHashes":["3128451518","903436796"]}