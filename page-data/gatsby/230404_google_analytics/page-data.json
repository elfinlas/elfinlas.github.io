{"componentChunkName":"component---src-templates-post-jsx","path":"/gatsby/230404_google_analytics/","result":{"data":{"site":{"siteMetadata":{"title":"MHLab blog","author":"MHLab"}},"markdownRemark":{"id":"307d6c13-c688-5c98-bd13-82775c75748c","excerpt":"간만에 구글 애널리틱스에 가보니... 티스토리나 알려진 블로그 플랫폼은 Google Analytics…","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/733ebb000f49022bdc81f660329a016f/12bff/thumbnail.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.87116564417178%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAADpUlEQVR42h3R+U/bdRzH8e+foU4YtBQo0Ity9GAcg7LBuK9CYSvCOFIKlLuDweQ+hoBOjrGTMZgwwEC2uDlJkCxxGhEUM1FcYNMRMxWXbUEjMU+/2U/vdz755PFKXm/h2+W7bK3eZ+fhlzzb/Ibn2+u8evoDL3c22Hu2yb/Pt9l/8Zj9l7+w9/smn85dIzkpBZ1Gg79UglapxqAPRatQc8h4COHh/bs8WV3mt+8f8MePX/OniO4+WuOvrXX2nm6wLyL/7f4M/+yw/d3nWDIyiYtLxKBSoZW6o1Vp0AeHoPVTYdQZEKYvjbC8MMWDT+ZY+WyBxytL7G58xU9f3GN96RYvHq3w968i/mSNxZkrZJotJMQnovfzReN6gEC1Fn2gHn9fBYYgHUJMXDo5Jwopr3BiL6ulpamZjy4O4SirIC01i7XFeV5trdLX1ozJFCu+ZRAZYUInQgFyEVWJ0z8IlQgGaPwRArQBhEcdIz5FTE7NJi7ZQpTpKBHhkQQbIxjt76avoxX/4DBk3j4olRpkMh9U6iC0AQYk7p54SOXilCF1kyAoFH74eHnh5+2NXuwgXIQUCg1KMVGpUBEbfQR7cSmJyWZK7BWUl9dSbKuiuqoenS4UF1d3XF0kuEnkSD18EHzl3ii9ZKjkXuiCgjGKl3KXePCWywHUPl44iu3Mzi8xNXuPmY8XxX3x9T49t0hdXQsSEfKWq1GqdQQGhiDIPWV4HHRBctAVTzHBTcSk4REY0tIosdkYPT/Oh5fm6R2cpqN/gp6BcQYGJ2k/e4W27gs4HE7KSytx1p0W/5cjeHrIePvNN8QOpGLB/tRU1zNxY4HrN24zM3uHmzN36B+aovbdYeqah2lsH6Wnf+w11tA6QvfZ81RVniI7O1/s/QhCljkbW2ERDbVO+vqG6R4Yo6FlkLrGAZyN79HeOUhz5wj2mh7ySlux1/ZSeaqXamcn5uwioo+mkJpuJSe3lBCjCaGp4QxtZ1ppbWoht6CGhIxiMo6Xk2axkZpZQFFJHfWNXTiqmygudZJhKeSwKQG98TAJSVk4G7o4NzzJyIWbNDb3I5TaynCIHRQV2ImJNxMalUhUTDqxCRayrTZyrMXk59tIT7MQHhZNSEgklpwCOroHGZ+8zbXrtxgcnqCza4iCQgeC9UQeudZ83sk9idVagOX4ScyWPFLTcoiJSSIszCRez0hQcCjpZittnR9w+eosFy/P8P65MXp6R2hpG8BRcZpjsUn8D8UKU41hqATUAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"mhlab\"\n        title=\"\"\n        src=\"/static/733ebb000f49022bdc81f660329a016f/a6d36/thumbnail.png\"\n        srcset=\"/static/733ebb000f49022bdc81f660329a016f/222b7/thumbnail.png 163w,\n/static/733ebb000f49022bdc81f660329a016f/ff46a/thumbnail.png 325w,\n/static/733ebb000f49022bdc81f660329a016f/a6d36/thumbnail.png 650w,\n/static/733ebb000f49022bdc81f660329a016f/e548f/thumbnail.png 975w,\n/static/733ebb000f49022bdc81f660329a016f/12bff/thumbnail.png 1032w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h1 id=\"간만에-구글-애널리틱스에-가보니\" style=\"position:relative;\"><a href=\"#%EA%B0%84%EB%A7%8C%EC%97%90-%EA%B5%AC%EA%B8%80-%EC%95%A0%EB%84%90%EB%A6%AC%ED%8B%B1%EC%8A%A4%EC%97%90-%EA%B0%80%EB%B3%B4%EB%8B%88\" aria-label=\"간만에 구글 애널리틱스에 가보니 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>간만에 구글 애널리틱스에 가보니...</h1>\n<p>티스토리나 알려진 블로그 플랫폼은 Google Analytics의 연결이 매우 편리하게 되어있다.<br>\n하지만 그외 플랫폼은 직접 연결을 해줘야 한다.</p>\n<p>사실 붙여놓고 잘 안들어갔다.<br>\n내 개인 블로그를 많이 와주면 고맙겠지만, 이런거 일일히 신경쓰면 피곤하다.</p>\n<p>그래서 오면 오고 안오면 안오나보다 하고 하는게 맘 편하다.<br>\n그리고 내가 무슨 네임드 개발자도 아니고, 그냥 삽질하고, 경험한거 쓰는 블로그인데 뭐...</p>\n<p>그래도 궁금한거 댓글 남기거나 하면 바로바로 답은 해주려고 노력하는 편이다.</p>\n<p>서두가 길었다.<br>\n어느날부터인가...</p>\n<p>애널리틱스 사이트에 들어갔더니 아래처럼 뭔가 떴다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4d4e8febb7bf19d7a7fe71f7e40afc2f/620ae/img01.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 9.815950920245399%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAf0lEQVR42k3JwQ6CMBBFUf7/qzQtwWiiG6NVgWIjAiIQY4JY7RsH68LFzXmZCerjDPFmiv16wgokSkAriXQrYA6RS5V0ehdyEgnfxkwcoc2X6IoV6izE1czRnBbfHcCW1N8M3buM02T7nNyzpPdQkBvYx/lve8c/vS6/Kq/1fgBdx5Mtj7D/WwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img01\"\n        title=\"\"\n        src=\"/static/4d4e8febb7bf19d7a7fe71f7e40afc2f/a6d36/img01.png\"\n        srcset=\"/static/4d4e8febb7bf19d7a7fe71f7e40afc2f/222b7/img01.png 163w,\n/static/4d4e8febb7bf19d7a7fe71f7e40afc2f/ff46a/img01.png 325w,\n/static/4d4e8febb7bf19d7a7fe71f7e40afc2f/a6d36/img01.png 650w,\n/static/4d4e8febb7bf19d7a7fe71f7e40afc2f/e548f/img01.png 975w,\n/static/4d4e8febb7bf19d7a7fe71f7e40afc2f/620ae/img01.png 1043w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>지금이 벌써 23년 4월이니 이제 준비를 안하면 이 집계도 못사용하겠다 싶어서 바꿔봤다.<br>\n근데 내가 쓰는건 만든이가 더 이상 관리하지 않는 오픈소스 테마였기에...</p>\n<p>문제가 있으면 스스로 고쳐서 써야하는 상황이다.<br>\n그래서 그냥 애널리틱스 ID만 바꾸면 쉽게 해결될 것 같아서 <strong>gatsby-meta-config.js</strong>에서 ga 값만 변경해봤다.</p>\n<p>근데 수신을 못해서 계속 페이지에서 데이터 송수신 자료가 없다고 했다.</p>\n<h2 id=\"뭐가-문제일까\" style=\"position:relative;\"><a href=\"#%EB%AD%90%EA%B0%80-%EB%AC%B8%EC%A0%9C%EC%9D%BC%EA%B9%8C\" aria-label=\"뭐가 문제일까 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>뭐가 문제일까?</h2>\n<p>먼저 내 테마의 깃허브 이슈를 봤지만...<br>\n역시 관리를 하지 않고, 거의 개인적으로 업데이트 또는 커스터마이징 해서 쓰느라 최신 글도 없었다.</p>\n<p>그래서 구글에 좀 찾아보니 <strong>Gatsby</strong> 깃헙에서 약간의 힌트를 찾을 수 있었다.<br>\n<a href=\"https://github.com/gatsbyjs/gatsby/issues/27627\">여기 이슈 27627</a>에 의하면 <strong>Not updated for New Google Analytics</strong><br>\n즉 최신 구글 애널리틱스가 업데이트 되지 않는다고 한다.<br>\n나랑 증상이 같은 것이다.</p>\n<p>그 중 <strong>rajatrao777</strong>라는 외쿸 성님이 아래와 같이 답을 남겼다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b7b2177ef0f32f4f5106c4a8afe97936/25c1c/img02.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 41.104294478527606%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABKElEQVR42oWS646DIBCF+/6vuLXapCoKcrVbEfB0wG3tj01K/DIYcM6ZGU+3aw2lFNp+wKQMjLtD2/mNIRYf4EPEw69fOYGWX1dUlwuGYYDWmpJYzPO94JyDm+cSQwj4tkrCx7Kgbhr8nCs0zZUSjxDTVJBSYeQcQghIqiSLZSwJKBLXhqoytsQY459D7zGOIxjbHWY3Nn9oMqac55VSJBLStu2R2Gi/s+9PL6s5wUSOOBdvBhIZR057Tq4M3K+ne253aQ6kWyFcoh6mI2HX91TyGZe6LuSenquqtCK/3zpGAryIam0KUsoSU9qKa3qOhEpp9D0Do8Hk4TDGSuy6rvS0ZRxt21GfPgez/T+UlX4JawUWKmuhkiJJBWpwiIkSfJD2+Do7iG+eHp5ofErGLwoAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img02\"\n        title=\"\"\n        src=\"/static/b7b2177ef0f32f4f5106c4a8afe97936/a6d36/img02.png\"\n        srcset=\"/static/b7b2177ef0f32f4f5106c4a8afe97936/222b7/img02.png 163w,\n/static/b7b2177ef0f32f4f5106c4a8afe97936/ff46a/img02.png 325w,\n/static/b7b2177ef0f32f4f5106c4a8afe97936/a6d36/img02.png 650w,\n/static/b7b2177ef0f32f4f5106c4a8afe97936/e548f/img02.png 975w,\n/static/b7b2177ef0f32f4f5106c4a8afe97936/25c1c/img02.png 1047w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<br>\n<p>요약하면 Gatsby 플러그인 중 <strong>google-tag</strong> 플러그인이 이제는 지원하지 않아서,<br>\n새로운 플러그인인 <a href=\"https://www.gatsbyjs.com/plugins/gatsby-plugin-gtag/\">gatsby-plugin-gtag</a>을 사용하라는 것이다.</p>\n<h2 id=\"그래서-적용은-어떻게\" style=\"position:relative;\"><a href=\"#%EA%B7%B8%EB%9E%98%EC%84%9C-%EC%A0%81%EC%9A%A9%EC%9D%80-%EC%96%B4%EB%96%BB%EA%B2%8C\" aria-label=\"그래서 적용은 어떻게 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>그래서 적용은 어떻게?</h2>\n<p>이것도 쉽다.<br>\n아래의 순서대로 하나씩 따라 해보자.</p>\n<h3 id=\"1-기존-플러그인-삭제\" style=\"position:relative;\"><a href=\"#1-%EA%B8%B0%EC%A1%B4-%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8-%EC%82%AD%EC%A0%9C\" aria-label=\"1 기존 플러그인 삭제 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 기존 플러그인 삭제</h3>\n<p>먼저 기존에 쓰던 플러그인은 제거하자.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm remove gatsby-plugin-google-analytics</code></pre></div>\n<p>그리고 <strong>gatsby-config.js</strong>파일에서 아래 설정을 지워주자.<br>\n아니면 주석 처리를 해도 되지만 혹시 모르니...</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">{\n      resolve: `gatsby-plugin-google-analytics`,\n      options: {\n        //etc option\n      },\n},</code></pre></div>\n<br>\n<h3 id=\"2-gatsby-plugin-gtag-설치\" style=\"position:relative;\"><a href=\"#2-gatsby-plugin-gtag-%EC%84%A4%EC%B9%98\" aria-label=\"2 gatsby plugin gtag 설치 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. gatsby-plugin-gtag 설치</h3>\n<p>아래의 명령어를 통해서 설치해주자.<br>\n혹시 이 플러그인이 궁금하면 <a href=\"https://www.gatsbyjs.com/plugins/gatsby-plugin-gtag/\">gatsby-plugin-gtag</a> 공식 페이지를 참고하자.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install --save gatsby-plugin-gtag</code></pre></div>\n<br>\n<h3 id=\"3-config-수정\" style=\"position:relative;\"><a href=\"#3-config-%EC%88%98%EC%A0%95\" aria-label=\"3 config 수정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. config 수정</h3>\n<p><strong>gatsby-config.js</strong>파일을 수정한다.<br>\n아래와 같이 플러그인 설정을 하나 밀어 넣는다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"> {\n    module.exports = {\n        siteMetadata: metaConfig,\n        plugins: [\n            {...기타 옵션}\n\n            //아래가 밀어넣을 옵션\n            {\n                resolve: `gatsby-plugin-gtag`,\n                options: {\n                    trackingId: metaConfig.ga,\n                    head: true,\n                    anonymize: true,\n                },\n            }\n        ]\n    }\n},</code></pre></div>\n<p>저기 위에서 <strong>trackingId</strong>의 경우 직접 문자열 값을 줘도 된다.<br>\n나 같은 경우 <strong>metaConfig</strong>라는 config 설정에서 값을 가져오는데 아래와 같이 처리해도 무방하다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">trackingId: \"G-ABCD1234\",,</code></pre></div>\n<p>당연한 이야기겠지만 나처럼 할 경우 <strong>metaConfig</strong>값을 변경해야 한다.</p>\n<br>\n<h3 id=\"4-빌드-또는-배포\" style=\"position:relative;\"><a href=\"#4-%EB%B9%8C%EB%93%9C-%EB%98%90%EB%8A%94-%EB%B0%B0%ED%8F%AC\" aria-label=\"4 빌드 또는 배포 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. 빌드 또는 배포</h3>\n<p>보통 나랑 같은 테마를 쓰거나 또는 다른 테마를 써도 배포할 때는 빌드를 할 것이다.<br>\n그래서 빌드를 따로 하거나, 배포를 해준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">\"deploy\": \"gatsby build &amp;&amp; gh-pages -d public -b ....\",</code></pre></div>\n<p>위는 내 배포 명령어인데 앞에 빌드를 선행한다.<br>\n그리고 바로 되지 않고, 약 5~30분?</p>\n<p>난 30분 정도 지나니까 아래처럼 수신으로 바뀌었다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/fb8a821253aa6bf3e2882a2fa29907ee/0b79a/img03.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 25.766871165644172%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAv0lEQVR42oWQ2w6CMBBE+f+/0/AiBMRSKBQpBQW5OrYlXLwkPpxkNzud6a5Frz0S+URaLsD0v9Cz/ZxXMG90zYoJsRhhuaSASwT86AYvquBcBNxQIsqHLzOStYoOcTGC5R1OpIKXjkjlZmr5VEITJI3ijoDdEfL2zUwnE/6Ao4IDVqt+AuU17HOBI9HaadVai/OG6j9WjcVgAj1aGbSOqoCDX8ImDRL149WQqxv8Y36gVxvmWq8senMCmvfIdtoX8nl7dDIDEjsAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img03\"\n        title=\"\"\n        src=\"/static/fb8a821253aa6bf3e2882a2fa29907ee/a6d36/img03.png\"\n        srcset=\"/static/fb8a821253aa6bf3e2882a2fa29907ee/222b7/img03.png 163w,\n/static/fb8a821253aa6bf3e2882a2fa29907ee/ff46a/img03.png 325w,\n/static/fb8a821253aa6bf3e2882a2fa29907ee/a6d36/img03.png 650w,\n/static/fb8a821253aa6bf3e2882a2fa29907ee/e548f/img03.png 975w,\n/static/fb8a821253aa6bf3e2882a2fa29907ee/3c492/img03.png 1300w,\n/static/fb8a821253aa6bf3e2882a2fa29907ee/0b79a/img03.png 1331w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h2 id=\"정리\" style=\"position:relative;\"><a href=\"#%EC%A0%95%EB%A6%AC\" aria-label=\"정리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>정리</h2>\n<p>근데 이렇게 해도 잠깐 끊겨서 다시 48시간 동안 수집한 정보다 없다고 할 수 있다.<br>\n하지만 시간이 또 흐르면 저렇게 활성화 되었다고 뜨니 너무 걱정하지 말자.</p>\n<p>여차하면 <a href=\"https://chrome.google.com/webstore/detail/google-analytics-debugger/jnkmfdileelhofjcijamephohjechhna\">크롬 익스텐션-Google Analytics Debugger</a>를 설치해서 써보자.<br>\n설치 후 활성화되고 난 뒤 디버거 콘솔을 열면 아래처럼 정보가 뜬다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 625px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2a62d3a8666b3447b54b076adb237f58/80d71/img04.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 85.2760736196319%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAAC4ElEQVR42mVU13LbQAzUX6Q4NlUo9iKKokhRopqbHCttkklm8v//sdkFXTLJAwZ3OJRdAORg4voYTzxM/QijkYshZTSeQnZp1wvhTsMX+/DJR+IMJ0iyAnmxQJTkiOIMA3ca8JAjm5WI0xkSiu6zorJ7GGWYzSuk2dzO/ya9cka4vBrhw+UQHkFZQh0UHKtKouQLZHlpFadEmKY9CqF5TigtETuxGfLsB7ESipqLCR9E4coZY+w+OY0m1J69SxQsLbuCc7LKWXy+aMig+Ity8koxIZqQD3KMn+gX5dLOQZj8R/nvfj4hDOwgiqqiQPWsKGujqCQqJhQ5tVD2lN0XtH3CcZ/QZ0BVr1FWDeZMsli2DK4tqSGn7geW821lb0IZxikKvtXNGu1mj5J2DXSggSyqFbb7G5Pd4RZLOvXTzkzUAluLpNf9ZIecrGNA2vXOtBga5apucXr8gvOXH3g4f8Xh+h6b7dHsdbvBkgyadmv3FYOlJVk+p70zUcKkT+jb5fHzd0uybDYM2hu9kn2rVxtKZ2+rzc7OHZkcbx8s+brbm70kyzSbvSK8PZ1xuDkZunV3oPOWPVq+0FZRSRilNiStjOwvXwq3IWZLBkGQmKMoqdqWPRQ6OWpqnh/ackueJ9vv5NQmW1Y1GqKec7WshwGDWkK+e/iEm/szTh8/23A0KE1UtKU1SQU8f1l+ENnK7I63uGdst7s2pAMhUAUN5UjK6s3x+mTU4qRfbJ1FX2ulb1oMtEpTLzBkKq4BJVwt28OCu7di0xv2rqUu6ODRrjefybwwRsB+TYjOISqHlB0u8yUpV9rDbm/7qyKD+v0H3F1c4Oeiwu+2xY/FAr+aBt95PxdzPM5m+FSW+Las8ZBl2LkubqIId3GMg+ehG41x9AOsnAnKN+8wiPkzWE097OIEe0rH3uyTFGvqJozQRuxxlGDNL2PLtVjTJ3j7Ht6bt4gvLjHncIqJi5S/sMwZ4Q+ulg7c/DblWQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img04\"\n        title=\"\"\n        src=\"/static/2a62d3a8666b3447b54b076adb237f58/80d71/img04.png\"\n        srcset=\"/static/2a62d3a8666b3447b54b076adb237f58/222b7/img04.png 163w,\n/static/2a62d3a8666b3447b54b076adb237f58/ff46a/img04.png 325w,\n/static/2a62d3a8666b3447b54b076adb237f58/80d71/img04.png 625w\"\n        sizes=\"(max-width: 625px) 100vw, 625px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>만약 정보가 안뜨면 뭔가 설정을 빠트리거나 문제가 생긴 것이니 다시 확인해보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"toc\"><pre class=\"language-toc\"><code class=\"language-toc\"></code></pre></div>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#%EA%B0%84%EB%A7%8C%EC%97%90-%EA%B5%AC%EA%B8%80-%EC%95%A0%EB%84%90%EB%A6%AC%ED%8B%B1%EC%8A%A4%EC%97%90-%EA%B0%80%EB%B3%B4%EB%8B%88\">간만에 구글 애널리틱스에 가보니...</a></p>\n<ul>\n<li>\n<p><a href=\"#%EB%AD%90%EA%B0%80-%EB%AC%B8%EC%A0%9C%EC%9D%BC%EA%B9%8C\">뭐가 문제일까?</a></p>\n</li>\n<li>\n<p><a href=\"#%EA%B7%B8%EB%9E%98%EC%84%9C-%EC%A0%81%EC%9A%A9%EC%9D%80-%EC%96%B4%EB%96%BB%EA%B2%8C\">그래서 적용은 어떻게?</a></p>\n<ul>\n<li><a href=\"#1-%EA%B8%B0%EC%A1%B4-%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8-%EC%82%AD%EC%A0%9C\">1. 기존 플러그인 삭제</a></li>\n<li><a href=\"#2-gatsby-plugin-gtag-%EC%84%A4%EC%B9%98\">2. gatsby-plugin-gtag 설치</a></li>\n<li><a href=\"#3-config-%EC%88%98%EC%A0%95\">3. config 수정</a></li>\n<li><a href=\"#4-%EB%B9%8C%EB%93%9C-%EB%98%90%EB%8A%94-%EB%B0%B0%ED%8F%AC\">4. 빌드 또는 배포</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%A0%95%EB%A6%AC\">정리</a></p>\n</li>\n</ul>\n</li>\n</ul>","frontmatter":{"title":"Gasty에서 구글 애널리틱스 GA4 처리 문제","description":null,"date":"April 04, 2023","tags":["Gatsby","SEO","Google Analytics"],"series":"Gatsby","previewImage":"gatsby_logo.png","isPrivate":null,"writer":null}},"previous":{"fields":{"slug":"/til/230403_til/"},"frontmatter":{"title":"23년 4월 3일 TIL & 개발노트 (Google Bot)","isPrivate":null}},"next":{"fields":{"slug":"/nest_js/230404_naver_login_part01/"},"frontmatter":{"title":"Nest.Js에서 네이버 로그인 구현하기 Part.01 (Naver OAuth Login)","isPrivate":null}}},"pageContext":{"id":"307d6c13-c688-5c98-bd13-82775c75748c","previousPostId":"585d85a8-9131-5040-bb36-f92651527cc4","nextPostId":"4dab9f29-33ec-5306-b958-0c8f75560570"}},"staticQueryHashes":[],"slicesMap":{}}