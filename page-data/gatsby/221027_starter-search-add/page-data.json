{"componentChunkName":"component---src-templates-post-template-index-tsx","path":"/gatsby/221027_starter-search-add/","result":{"data":{"cur":{"id":"b70598fc-85ce-5e5e-b5f1-f2eb66cbb023","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.44444444444444%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAABmElEQVQoz2MI0WklGzFAqFDdtjA9EArVbSNNc6hua4BGk69Kg79qY4B6U4gu2DiQQa0wo1tDdFuDMTWH6rYFqDWlO0+a175rSd/eHK9pAepNwdot/mqNwVotwdqtwVot/upNwVotoXptwdpQbRAGQ7B2S6RRx8Z5xx/fef30/tubF58kWPdGGnbMa9/ZlrkyULM5wrCjwG9GqG5rU8rSHK9pfqqNQZrNYfrtwdqtDH6qjXk+M/auvXD1zMNP775ePH6/0H9WfeLiKdWb57bv3Dj/xLpZR7YvO7NiyqHNC0+sn3Ns6YT9s5t3RJt2BWm1gGyOMOxYPunAmplHLhy9t3PF2ViLnhiz7gVde+a175xas3nphP3NactnNm1bOmH/tNoti3r2zG7Z7qVQF6bXBvazelOiTf+89l3zO3dnuU8NUG8K0moJ1Gz2V2v0VW7wV2vyV2vyU230U2nwUW4oCJgVa9EdqNEcogsL7UDNZh+lel/lhgD1Jkggh+qCQhtGghngiAwEBx4kRuDx3EpkPEOiDSWRkJfCAKUSCkM5YIbkAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/fa60242518f8964a10c780949a6b3a7c/7c297/thumbnail.webp 180w,\n/static/fa60242518f8964a10c780949a6b3a7c/33ecc/thumbnail.webp 360w,\n/static/fa60242518f8964a10c780949a6b3a7c/df77d/thumbnail.webp 720w,\n/static/fa60242518f8964a10c780949a6b3a7c/cf465/thumbnail.webp 800w\"\n              sizes=\"(max-width: 720px) 100vw, 720px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/fa60242518f8964a10c780949a6b3a7c/e9ea2/thumbnail.png 180w,\n/static/fa60242518f8964a10c780949a6b3a7c/53918/thumbnail.png 360w,\n/static/fa60242518f8964a10c780949a6b3a7c/242a6/thumbnail.png 720w,\n/static/fa60242518f8964a10c780949a6b3a7c/78d47/thumbnail.png 800w\"\n            sizes=\"(max-width: 720px) 100vw, 720px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/fa60242518f8964a10c780949a6b3a7c/242a6/thumbnail.png\"\n            alt=\"thumbnail\"\n            title=\"thumbnail\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<h2 id=\"블로그를-갈아타면서\" style=\"position:relative;\"><a href=\"#%EB%B8%94%EB%A1%9C%EA%B7%B8%EB%A5%BC-%EA%B0%88%EC%95%84%ED%83%80%EB%A9%B4%EC%84%9C\" aria-label=\"블로그를 갈아타면서 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>블로그를 갈아타면서…</h2>\n<p>기존에 쓰던 <strong>Hexo</strong> 를 버리고 새롭게 이전을 했다.<br>\n개인적으로 만들던 플젝에 집중하느라 블로그 이전이 좀 늦었었다.</p>\n<p>자잘한 이야기는 뒤로 하고…<br>\n<strong>Gatsby</strong>로 갈아타면서 직접 블로그를 만들까 했는데 할일이 너무 많아서 포기했다.<br>\n사실 직장 안다니면 한가할 줄 알았는데 전혀…<br>\n할일이 더 많아진거 같다. =.=</p>\n<p>그래서 직접 개발은 포기하고 다른거 주워서 쓰려고 찾아보니…<br>\n이 블로그 테마가 가장 많이 사용되는거 같았다.\n<a href=\"https://github.com/JaeYeopHan/gatsby-starter-bee\">Gatsby-starter-bee</a></p>\n<p>근데 이 테마의 단점(?)은 검색 기능이 없다는 것이다.<br>\n그래서 <a href=\"https://github.com/JaeYeopHan/gatsby-starter-bee/issues/179\">깃허브 이슈</a>에도 등록이 되어는 있지만,<br>\n진척은 없었다.</p>\n<p>그래도 마지막에 <strong>kostyrko</strong>라는 외국 성님이 뭔가 힌트를 줘서 나도 그거에 맞춰 적용을 해봤다.</p>\n<p><strong>이 내용은 내 블로그에 검색 기능을 추가하는 것</strong>을 남길 목적으로 포스팅한다.</p>\n<p>다른 테마 버그나 기타 문의는 <a href=\"https://github.com/JaeYeopHan/gatsby-starter-bee\">깃허브 이슈</a> 등록을 하고 물어보길 바란다.<br>\n(여담인데 요새는 업데이트가 안되고 버려진거 같다.)</p>\n<p>진행에 앞서…<br>\n내가 사용하는 Node 버전은 <strong>14.15.0</strong> 버전이다.<br>\n아마 이 테마를 받아서 그대로 사용하는 사람은 저 버전이거나 근처일거라 생각한다.</p>\n<br>\n<h3 id=\"1-npm-패키지-추가\" style=\"position:relative;\"><a href=\"#1-npm-%ED%8C%A8%ED%82%A4%EC%A7%80-%EC%B6%94%EA%B0%80\" aria-label=\"1 npm 패키지 추가 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. npm 패키지 추가</h3>\n<p><strong>package.json</strong> 파일에 아래의 dependencies 들을 추가하고 설치한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n    ...\n    <span class=\"token property\">\"flexsearch\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^0.7.21\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"gatsby-plugin-local-search\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^2.0.1\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"react-use-flexsearch\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^0.1.1\"</span>\n    ...\n<span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<p>$ npm install</p>\n</blockquote>\n<br>\n<h3 id=\"2-파일-수정\" style=\"position:relative;\"><a href=\"#2-%ED%8C%8C%EC%9D%BC-%EC%88%98%EC%A0%95\" aria-label=\"2 파일 수정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 파일 수정</h3>\n<p>크게 커스텀을 안했다는 가정하에 작성한다.<br>\n아래 코드를 복붙 하지 말고 주석을 참고해서 배치하자.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//pages/index.js 파일 수정</span>\n\n<span class=\"token comment\">//import 추가</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Search <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../components/search'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useFlexSearch <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-use-flexsearch'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">//상단 getDistance 함수 근처 (또는 원하는 곳에...)</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">unFlattenResults</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">results</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> results<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">post</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> slug<span class=\"token punctuation\">,</span> excerpt<span class=\"token punctuation\">,</span> title<span class=\"token punctuation\">,</span> category<span class=\"token punctuation\">,</span> date<span class=\"token punctuation\">,</span> draft <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> post<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">node</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">excerpt</span><span class=\"token operator\">:</span> excerpt<span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">frontmatter</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> title<span class=\"token punctuation\">,</span> category<span class=\"token punctuation\">,</span> date<span class=\"token punctuation\">,</span> draft <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">fields</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> slug <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">//아래 상수 있는 부근에.. (이것도 원하는 곳에...)</span>\n<span class=\"token comment\">//const { countOfInitialPost } = siteMetadata.configs</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">isBrowser</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">typeof</span> window <span class=\"token operator\">!==</span> <span class=\"token string\">'undefined'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> search <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">isBrowser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> window<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> query <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">URLSearchParams</span><span class=\"token punctuation\">(</span>search<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'s'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>searchQuery<span class=\"token punctuation\">,</span> setSearchQuery<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span>query <span class=\"token operator\">||</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> results <span class=\"token operator\">=</span> <span class=\"token function\">useFlexSearch</span><span class=\"token punctuation\">(</span>searchQuery<span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">.</span>localSearchPages<span class=\"token punctuation\">.</span>index<span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">.</span>localSearchPages<span class=\"token punctuation\">.</span>store<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> posts <span class=\"token operator\">=</span> searchQuery <span class=\"token operator\">?</span> <span class=\"token function\">unFlattenResults</span><span class=\"token punctuation\">(</span>results<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> data<span class=\"token punctuation\">.</span>allMarkdownRemark<span class=\"token punctuation\">.</span>edges<span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">//기존에 사용하던 posts 상수는 주석 처리 해준다.</span>\n<span class=\"token comment\">// const posts = data.allMarkdownRemark.edges</span>\n\n<span class=\"token comment\">//하단에 graphql 부분에 다음과 같이 추가한다.</span>\n<span class=\"token comment\">//localSearchPages 항목을 배치해준다.</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> pageQuery <span class=\"token operator\">=</span> graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  query {\n    localSearchPages {\n      index\n      store\n    }\n    site {}\n    }</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span></code></pre></div>\n<br>\n<h3 id=\"3-컴포넌트-추가\" style=\"position:relative;\"><a href=\"#3-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8-%EC%B6%94%EA%B0%80\" aria-label=\"3 컴포넌트 추가 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 컴포넌트 추가</h3>\n<p>src 밑에 component 디렉토리에 <strong>search</strong> 디렉토리를 새로 만들고,<br>\n<strong>index.jsx</strong> <strong>index.scss</strong> 두 파일을 만들어준다.</p>\n<p>그리고 아래와 같이 추가한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//src/component/search/index.jsx</span>\n\n<span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token string\">'./index.scss'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Search</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> searchQuery<span class=\"token punctuation\">,</span> setSearchQuery <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>form action<span class=\"token operator\">=</span><span class=\"token string\">'/'</span> method<span class=\"token operator\">=</span><span class=\"token string\">'get'</span> autoComplete<span class=\"token operator\">=</span><span class=\"token string\">'off'</span> className<span class=\"token operator\">=</span><span class=\"token string\">'search-form'</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>label htmlFor<span class=\"token operator\">=</span><span class=\"token string\">'header-search'</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>span className<span class=\"token operator\">=</span><span class=\"token string\">'visually-hidden'</span><span class=\"token operator\">></span>Search blog posts<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>span<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>label<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>input\n        value<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>searchQuery<span class=\"token punctuation\">}</span>\n        onChange<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setSearchQuery</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n        type<span class=\"token operator\">=</span><span class=\"token string\">'text'</span>\n        id<span class=\"token operator\">=</span><span class=\"token string\">'header-search'</span>\n        className<span class=\"token operator\">=</span><span class=\"token string\">'search-form__input'</span>\n        placeholder<span class=\"token operator\">=</span><span class=\"token string\">'Serch keyword'</span>\n        name<span class=\"token operator\">=</span><span class=\"token string\">'s'</span>\n      <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>form<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"scss\"><pre class=\"language-scss\"><code class=\"language-scss\"><span class=\"token comment\">//src/component/search/index.scss</span>\n\n<span class=\"token selector\">.search-form </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> flex<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">justify-content</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n  <span class=\"token selector\">.visually-hidden </span><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">clip</span><span class=\"token punctuation\">:</span> <span class=\"token function\">rect</span><span class=\"token punctuation\">(</span>0 0 0 0<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token property\">clip-path</span><span class=\"token punctuation\">:</span> <span class=\"token function\">inset</span><span class=\"token punctuation\">(</span>50%<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 1px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">overflow</span><span class=\"token punctuation\">:</span> hidden<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> absolute<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">white-space</span><span class=\"token punctuation\">:</span> nowrap<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 1px<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token selector\">.search-form__input </span><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">font-family</span><span class=\"token punctuation\">:</span> Source Sans Pro<span class=\"token punctuation\">,</span> Roboto<span class=\"token punctuation\">,</span> Open Sans<span class=\"token punctuation\">,</span> Liberation Sans<span class=\"token punctuation\">,</span> DejaVu Sans<span class=\"token punctuation\">,</span> Verdana<span class=\"token punctuation\">,</span> Helvetica<span class=\"token punctuation\">,</span> Arial<span class=\"token punctuation\">,</span> sans-serif<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">outline</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">border</span><span class=\"token punctuation\">:</span> 1px solid #d9d9d9<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">box-sizing</span><span class=\"token punctuation\">:</span> border-box<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #333<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> block<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 14px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 40px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">line-height</span><span class=\"token punctuation\">:</span> 40px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 0 15px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">max-width</span><span class=\"token punctuation\">:</span> 350px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 90%<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">border-radius</span><span class=\"token punctuation\">:</span> 25px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> #f5f5f5<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">box-shadow</span><span class=\"token punctuation\">:</span> inset 4px 4px 4px #d0d0d0<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br>\n<h3 id=\"4-gatsby-configjs-파일-수정\" style=\"position:relative;\"><a href=\"#4-gatsby-configjs-%ED%8C%8C%EC%9D%BC-%EC%88%98%EC%A0%95\" aria-label=\"4 gatsby configjs 파일 수정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. gatsby-config.js 파일 수정</h3>\n<p><strong>gatsby-config.js</strong> 파일의 일부 수정하면 끝이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n    ...\n    <span class=\"token punctuation\">{</span>\n      resolve<span class=\"token operator\">:</span> 'gatsby-plugin-local-search'<span class=\"token punctuation\">,</span>\n      options<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        name<span class=\"token operator\">:</span> 'pages'<span class=\"token punctuation\">,</span>\n        engine<span class=\"token operator\">:</span> 'flexsearch'<span class=\"token punctuation\">,</span>\n        query<span class=\"token operator\">:</span> `\n              query <span class=\"token punctuation\">{</span>\n                allMarkdownRemark(sort<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> fields<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>frontmatter___date<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> order<span class=\"token operator\">:</span> DESC <span class=\"token punctuation\">}</span>) <span class=\"token punctuation\">{</span>\n                  nodes <span class=\"token punctuation\">{</span>\n                    excerpt\n                    fields <span class=\"token punctuation\">{</span>\n                      slug\n                    <span class=\"token punctuation\">}</span>\n                    frontmatter <span class=\"token punctuation\">{</span>\n                      date(formatString<span class=\"token operator\">:</span> <span class=\"token string\">\"MMMM DD, YYYY\"</span>)\n                      title<span class=\"token punctuation\">,</span>\n                      category\n                    <span class=\"token punctuation\">}</span>\n                  <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span>\n              <span class=\"token punctuation\">}</span>\n            `<span class=\"token punctuation\">,</span>\n        ref<span class=\"token operator\">:</span> 'slug'<span class=\"token punctuation\">,</span>\n        index<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>'title'<span class=\"token punctuation\">,</span> 'excerpt'<span class=\"token punctuation\">,</span> 'category'<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        store<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>'title'<span class=\"token punctuation\">,</span> 'excerpt'<span class=\"token punctuation\">,</span> 'slug'<span class=\"token punctuation\">,</span> 'date'<span class=\"token punctuation\">,</span> 'category'<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        normalizer<span class=\"token operator\">:</span> (<span class=\"token punctuation\">{</span> data <span class=\"token punctuation\">}</span>) =>\n          data.allMarkdownRemark.nodes.map(node => (<span class=\"token punctuation\">{</span>\n            title<span class=\"token operator\">:</span> node.frontmatter.title<span class=\"token punctuation\">,</span>\n            excerpt<span class=\"token operator\">:</span> node.excerpt<span class=\"token punctuation\">,</span>\n            slug<span class=\"token operator\">:</span> node.fields.slug<span class=\"token punctuation\">,</span>\n            date<span class=\"token operator\">:</span> node.frontmatter.date<span class=\"token punctuation\">,</span>\n            category<span class=\"token operator\">:</span> node.frontmatter.category<span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span>))<span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    `gatsby-transformer-sharp`<span class=\"token punctuation\">,</span>\n    ...\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br>\n<p>이렇게 하고 구동하면 내 블로그 처럼 검색 기능이 달릴거다.<br>\n나처럼 바쁜데 컨텐츠는 올려야 하고, 직접 구현은 시간이 없어서 대충 쓰고 싶은 사람들에겐 최고의 결과물 조합이 아닐까 싶다.</p>\n<p>이렇게 했는데도 잘 모르겠고, 답답한 분들은 댓글 또는 이 <a href=\"https://github.com/kostyrko/kontrolqa\">깃허브(kostyrko)</a> 를 참고하자.<br>\n이 형님이 아까 이슈에서 참고했던 깃허브이다.<br>\n이거 보고도 적용이 안된다면…=.=;;;</p>\n<p>그냥 다른 블로그 테마를 찾아보는 것이 정신적으로 편안할 듯 싶다.</p>\n<br>\n<p>PS : 시간이 부족하다…</p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#%EB%B8%94%EB%A1%9C%EA%B7%B8%EB%A5%BC-%EA%B0%88%EC%95%84%ED%83%80%EB%A9%B4%EC%84%9C\">블로그를 갈아타면서…</a></p>\n<ul>\n<li><a href=\"#1-npm-%ED%8C%A8%ED%82%A4%EC%A7%80-%EC%B6%94%EA%B0%80\">1. npm 패키지 추가</a></li>\n<li><a href=\"#2-%ED%8C%8C%EC%9D%BC-%EC%88%98%EC%A0%95\">2. 파일 수정</a></li>\n<li><a href=\"#3-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8-%EC%B6%94%EA%B0%80\">3. 컴포넌트 추가</a></li>\n<li><a href=\"#4-gatsby-configjs-%ED%8C%8C%EC%9D%BC-%EC%88%98%EC%A0%95\">4. gatsby-config.js 파일 수정</a></li>\n</ul>\n</li>\n</ul>\n</div>","excerpt":"블로그를 갈아타면서… 기존에 쓰던 Hexo 를 버리고 새롭게 이전을 했다. 개인적으로 만들던 플젝에 집중하느라 블로그 이전이 좀 늦었었다. 자잘한 이야기는 뒤로 하고… Gatsby로 갈아타면서 직접 블로그를 만들까 했는데 할일이 너무 많아서 포기했다. 사실 직장 안다니면 한가할 줄 알았는데 전혀… 할일이 더 많아진거 같다. =.= 그래서 직접 개발은 포기하고 다른거 주워서 쓰려고 찾아보니… 이 블로그 테마가 가장 많이 사용되는거 같았다.\nGatsby-starter-bee 근데 이 테마의 단점(?)은 검색 기능이 없다는 것이다. 그래서 깃허브 이슈에도 등록이 되어는 있지만, 진척은 없었다. 그래도 마지막에 kostyrko라는 외국 성님이 뭔가 힌트를 줘서 나도 그거에 맞춰 적용을 해봤다. 이 내용은 내 블로그에 검색 기능을 추가하는 것을 남길 목적으로 포스팅한다. 다른 테마 버그나 기타 문의는 깃허브 이슈 등록을 하고 물어보길 바란다. (여담인데 요새는 업데이트가 안되고 버려진거 같…","frontmatter":{"date":"2022.10.27","title":"Gatsby 블로그에 검색 기능을 추가하기 (with Gatsby-starter-bee )","categories":"gatsby","emoji":"📜"},"fields":{"slug":"/gatsby/221027_starter-search-add/"}},"next":{"id":"f4b08c78-4551-51a5-b928-d56301fde200","html":"<h1 id=\"nvm-node-version-manager\" style=\"position:relative;\"><a href=\"#nvm-node-version-manager\" aria-label=\"nvm node version manager permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>NVM (Node Version Manager)</h1>\n<p>이번에 <strong>Hexo</strong> 에서 <strong>Gatsby</strong> 블로그로 옮겨오면서 이것저것 셋팅하느라 바빴다.<br>\n그 중 이 블로그는 <a href=\"https://github.com/JaeYeopHan/gatsby-starter-bee\">Gatsby-Starter-bee</a> 라는 테마로 구성되어 있다.</p>\n<p>근데 이 블로그 탬플릿은 노드 상위 버전을 지원하지 않는다.<br>\n허나… 지금 하는 프로젝트는 18버전대 이상을 사용한다.\n그래서 Node 버전을 관리하며 사용해야 했다.</p>\n<p>파이썬에는 <strong>PyEnv</strong>인가 하는 것이 있는데 역시 노드 진영에도 비슷한 것을 하는게 있었다.<br>\n오늘 포스팅할 <strong>NVM</strong>이라는 것인데 대충 설명하면…</p>\n<blockquote>\n<p>프로젝트마다 버전 관리하기.</p>\n</blockquote>\n<p>라고 할 수 있다.</p>\n<br>\n<p>먼저 nvm을 설치한다.<br>\n윈도우나 기타 리눅스는 다른 블로그를 참고해주시고…<br>\n이곳에서는 <strong>MacOS</strong> 기준으로 설명한다.</p>\n<p>뭐 설명이고 자시고 할 것 없이 <strong>brew</strong> 하나 있으면 끝이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">brew install nvm</code></pre></div>\n<p>설치 후 NVM 설정을 해줘야 하는데 터미널 쉘을 수정해야 한다.<br>\n나의 경우 zsh를 사용하는데 home 디렉토리의 <strong>.zshrc</strong>라는 파일을 열어서 수정한다.<br>\nVSCode로 수정해도 되고 vim으로 수정해도 되고 편한 방법으로…</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">#파일 맨 마지막에 추가해준다.\nexport NVM_DIR=~/.nvm\nsource $(brew --prefix nvm)/nvm.sh</code></pre></div>\n<p>위와 같이 처리했다면 터미널을 종료 후 재시작 하고 잘 되었는지 아래 명령어를 통해 확인한다.</p>\n<p><img src=\"/img01.png\" alt=\"\"></p>\n<br>\n<p>위와 같이 뜨면 잘 설치된 것이다.</p>\n<h2 id=\"유용한-명령어들\" style=\"position:relative;\"><a href=\"#%EC%9C%A0%EC%9A%A9%ED%95%9C-%EB%AA%85%EB%A0%B9%EC%96%B4%EB%93%A4\" aria-label=\"유용한 명령어들 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>유용한 명령어들</h2>\n<h3 id=\"최신-버전의-node-설치\" style=\"position:relative;\"><a href=\"#%EC%B5%9C%EC%8B%A0-%EB%B2%84%EC%A0%84%EC%9D%98-node-%EC%84%A4%EC%B9%98\" aria-label=\"최신 버전의 node 설치 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>최신 버전의 node 설치</h3>\n<blockquote>\n<p>nvm install node</p>\n</blockquote>\n<h3 id=\"최신-버전의-lts-설치\" style=\"position:relative;\"><a href=\"#%EC%B5%9C%EC%8B%A0-%EB%B2%84%EC%A0%84%EC%9D%98-lts-%EC%84%A4%EC%B9%98\" aria-label=\"최신 버전의 lts 설치 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>최신 버전의 LTS 설치</h3>\n<blockquote>\n<p>nvm install —lts</p>\n</blockquote>\n<h3 id=\"특정-버전-설치\" style=\"position:relative;\"><a href=\"#%ED%8A%B9%EC%A0%95-%EB%B2%84%EC%A0%84-%EC%84%A4%EC%B9%98\" aria-label=\"특정 버전 설치 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>특정 버전 설치</h3>\n<blockquote>\n<p>nvm install 14.15.0</p>\n</blockquote>\n<h3 id=\"설치된-버전-확인하기\" style=\"position:relative;\"><a href=\"#%EC%84%A4%EC%B9%98%EB%90%9C-%EB%B2%84%EC%A0%84-%ED%99%95%EC%9D%B8%ED%95%98%EA%B8%B0\" aria-label=\"설치된 버전 확인하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>설치된 버전 확인하기</h3>\n<blockquote>\n<p>nvm ls</p>\n</blockquote>\n<h3 id=\"설치된-특정-버전-사용하기\" style=\"position:relative;\"><a href=\"#%EC%84%A4%EC%B9%98%EB%90%9C-%ED%8A%B9%EC%A0%95-%EB%B2%84%EC%A0%84-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0\" aria-label=\"설치된 특정 버전 사용하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>설치된 특정 버전 사용하기</h3>\n<blockquote>\n<p>nvm use 14.15.0</p>\n</blockquote>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#%EC%9C%A0%EC%9A%A9%ED%95%9C-%EB%AA%85%EB%A0%B9%EC%96%B4%EB%93%A4\">유용한 명령어들</a></p>\n<ul>\n<li><a href=\"#%EC%B5%9C%EC%8B%A0-%EB%B2%84%EC%A0%84%EC%9D%98-node-%EC%84%A4%EC%B9%98\">최신 버전의 node 설치</a></li>\n<li><a href=\"#%EC%B5%9C%EC%8B%A0-%EB%B2%84%EC%A0%84%EC%9D%98-lts-%EC%84%A4%EC%B9%98\">최신 버전의 LTS 설치</a></li>\n<li><a href=\"#%ED%8A%B9%EC%A0%95-%EB%B2%84%EC%A0%84-%EC%84%A4%EC%B9%98\">특정 버전 설치</a></li>\n<li><a href=\"#%EC%84%A4%EC%B9%98%EB%90%9C-%EB%B2%84%EC%A0%84-%ED%99%95%EC%9D%B8%ED%95%98%EA%B8%B0\">설치된 버전 확인하기</a></li>\n<li><a href=\"#%EC%84%A4%EC%B9%98%EB%90%9C-%ED%8A%B9%EC%A0%95-%EB%B2%84%EC%A0%84-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0\">설치된 특정 버전 사용하기</a></li>\n</ul>\n</li>\n</ul>\n</div>","frontmatter":{"date":"2022.10.27","title":"NVM으로 NodeJs 버전 변경 관리하기","categories":"node-js","emoji":"📜"},"fields":{"slug":"/node-js/221027_install-nvm/"}},"prev":{"id":"e202a1cb-35e0-5cd4-8291-7fc408b51545","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAs0lEQVQoz8XSTQ+CMAwG4G1l3SB8LAgBYhxODSYa49n//8Neww7eQaKHXt6kT5O2QgiBjesHoFQKddOgaVt0fQ+2NuYk5TqwMoy79wjDgNfljL1z2GmNh6vQGF4O1qzxLHKcUwtvGLcij1jNjCG1kEvBlAi14YhcywKHLENnDUqdYLA2Dlx1lGTe21ZXVkqBiJAQwWkNTfTJFoNz0ziOCCHg6D1OWYbgPaZpivkM//cPv6k34DvkDCc7FkQAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/0f378fe27c998e1f54e68293d1e77adb/7c297/thumbnail_nextjs.webp 180w,\n/static/0f378fe27c998e1f54e68293d1e77adb/33ecc/thumbnail_nextjs.webp 360w,\n/static/0f378fe27c998e1f54e68293d1e77adb/df77d/thumbnail_nextjs.webp 720w,\n/static/0f378fe27c998e1f54e68293d1e77adb/d0742/thumbnail_nextjs.webp 900w\"\n              sizes=\"(max-width: 720px) 100vw, 720px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/0f378fe27c998e1f54e68293d1e77adb/e9ea2/thumbnail_nextjs.png 180w,\n/static/0f378fe27c998e1f54e68293d1e77adb/53918/thumbnail_nextjs.png 360w,\n/static/0f378fe27c998e1f54e68293d1e77adb/242a6/thumbnail_nextjs.png 720w,\n/static/0f378fe27c998e1f54e68293d1e77adb/e7448/thumbnail_nextjs.png 900w\"\n            sizes=\"(max-width: 720px) 100vw, 720px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/0f378fe27c998e1f54e68293d1e77adb/242a6/thumbnail_nextjs.png\"\n            alt=\"thumbnail\"\n            title=\"thumbnail\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<h2 id=\"오늘도-평화로운-날이-있을-수-없는\" style=\"position:relative;\"><a href=\"#%EC%98%A4%EB%8A%98%EB%8F%84-%ED%8F%89%ED%99%94%EB%A1%9C%EC%9A%B4-%EB%82%A0%EC%9D%B4-%EC%9E%88%EC%9D%84-%EC%88%98-%EC%97%86%EB%8A%94\" aria-label=\"오늘도 평화로운 날이 있을 수 없는 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>오늘도 평화로운 날이 있을 수 없는…</h2>\n<p>기존 프로젝트를 진행하면서 신규를 또 진행하는 어이없는 일정을 진행하며…<br>\n이번 문제는 <a href=\"https://daisyui.com\">DasiyUI</a>에서 Countdown 컴포넌트를 적용하면서 발생한 문제로..</p>\n<p>바로 아래의 문제의 코드를 보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">'flex flex-col'</span><span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>span className<span class=\"token operator\">=</span><span class=\"token string\">'font-mono countdown text-3xl'</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>span style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> <span class=\"token string-property property\">'--value'</span><span class=\"token operator\">:</span> seconds <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>span<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>span<span class=\"token operator\">></span>\n  sec\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span></code></pre></div>\n<p>위 코드에서 span 태그 안에 style에 <strong>—value</strong>라는 css 키 요소가 문제였다.<br>\n에러는 다음과 같이 발생했다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">'{ \"--value\": number; }' 형식은 'Properties&lt;string | number, string &amp; {}>' 형식에 할당할 수 없습니다.\n  개체 리터럴은 알려진 속성만 지정할 수 있으며 'Properties&lt;string | number, string &amp; {}>' 형식에 '\"--value\"'이(가) 없습니다.ts(2322)\nindex.d.ts(1863, 9): 필요한 형식은 여기에서 'DetailedHTMLProps&lt;HTMLAttributes&lt;HTMLSpanElement>, HTMLSpanElement>' 형식에 선언된 'style' 속성에서 가져옵니다.</code></pre></div>\n<p>에디터 내에서는 에러가 발생하지만 개발용으로 구동 시 잘 돌아간다.<br>\n하지만 빌드를 하여 프로덕션으로 가면 이야기가 달라진다.<br>\n저 에러를 해결하지 않는 이상 빌드는 진행되지 않는다.</p>\n<h2 id=\"그렇다면-어떻게-해결했는가\" style=\"position:relative;\"><a href=\"#%EA%B7%B8%EB%A0%87%EB%8B%A4%EB%A9%B4-%EC%96%B4%EB%96%BB%EA%B2%8C-%ED%95%B4%EA%B2%B0%ED%96%88%EB%8A%94%EA%B0%80\" aria-label=\"그렇다면 어떻게 해결했는가 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>그렇다면 어떻게 해결했는가?</h2>\n<p>뭐 index.d.ts 라는 파일을 만들고 새로 declare? 재정의 해보고 정의 파일을 src 디렉토리 밖에 빼기도 하고 했지만 당연 안되었다. -_-;;<br>\n<strong>문제는 어떤거 때문에 발생했다는 것을 알고 있고 이걸 어떻게 해결해야 하는지도</strong> 알고 있지만 그 해결 방법을 구현하는 방법을 몰랐다.</p>\n<p>마치 해외 여행 나가서 밥 주세요를 그 국가 언어로 못하는 느낌이랄까…<br>\n다시 정리하면 새로 재정의하는 것이 아닌 <strong>해당 css 키가 CSS 속성이라는 것</strong> 만 알려주면 되는 문제였다.</p>\n<blockquote>\n<p>as React.CSSProperties</p>\n</blockquote>\n<p>그래서 아래의 코드로 간단하게 해결할 수 있었다.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>flex flex-col<span class=\"token punctuation\">'</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>font-mono countdown text-3xl<span class=\"token punctuation\">'</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">style</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> <span class=\"token string-property property\">'--value'</span><span class=\"token operator\">:</span> seconds <span class=\"token punctuation\">}</span> <span class=\"token keyword\">as</span> React<span class=\"token punctuation\">.</span>CSSProperties<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  sec\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>이 간단한 문제로 고통을 받았더니 맨탈이 흔들렸다.<br>\n주식시장에서 손절칠 때랑 비슷한 유형이지만 맛은 다른 고통…<br>\n이제는 그만 맛보고 싶다 ㅎㅎ</p>\n<br>\n<p><a href=\"https://stackoverflow.com/questions/52005083/how-to-define-css-variables-in-style-attribute-in-react-and-typescript\">참고한 stackoverflow</a></p>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#%EC%98%A4%EB%8A%98%EB%8F%84-%ED%8F%89%ED%99%94%EB%A1%9C%EC%9A%B4-%EB%82%A0%EC%9D%B4-%EC%9E%88%EC%9D%84-%EC%88%98-%EC%97%86%EB%8A%94\">오늘도 평화로운 날이 있을 수 없는…</a></li>\n<li><a href=\"#%EA%B7%B8%EB%A0%87%EB%8B%A4%EB%A9%B4-%EC%96%B4%EB%96%BB%EA%B2%8C-%ED%95%B4%EA%B2%B0%ED%96%88%EB%8A%94%EA%B0%80\">그렇다면 어떻게 해결했는가?</a></li>\n</ul>\n</div>","frontmatter":{"date":"2022.10.27","title":"NextJs에서 DasiyUI 일부 컴포넌트 사용시 style 문제 (Typescript) (DetailedHTMLProps, Properties, HTMLAttributes)","categories":"next-js","emoji":"📜"},"fields":{"slug":"/next-js/221027_detailedhtmlprops-problem/"}},"site":{"siteMetadata":{"siteUrl":"https://elfinlas.github.io","comments":{"utterances":{"repo":"elfinlas/blog_utterances"}},"projects":[{"title":"마와셀(웹) - 와인 가격 비교","description":"와인 가격 비교 서비스","techStack":["Typescript","React","Next.Js","Nest.Js"],"thumbnailUrl":"myc_icon.png","links":{"post":"https://blog.naver.com/wisseraph/223393940649","github":"","web":"https://appmyc.info","googlePlay":"","appStore":""}},{"title":"마와셀(엡) - 와인과 셀러 관리, 시음노트","description":"보유한 와인의 관리, 시음노트 작성, 보유 와인 셀러의 관리 어플리케이션","techStack":["Dart","Flutter","hive","provider"],"thumbnailUrl":"myc_icon.png","links":{"post":"https://blog.naver.com/wisseraph/223531933037","github":"","web":"","googlePlay":"https://play.google.com/store/apps/details?id=dev.mhlab.myc","appStore":"https://itunes.apple.com/kr/app/apple-store/6474965246"}},{"title":"흑우집합소(웹) - 로또번호 추천 서비스","description":"로또번호 추천 서비스","techStack":["Typescript","React","Next.Js","Nest.Js"],"thumbnailUrl":"bcow_icon.png","links":{"post":"https://blog.naver.com/wisseraph/223059966682","github":"","web":"https://bcow.world/","googlePlay":"","appStore":""}},{"title":"흑우집합소(앱) - 로또번호 추천 서비스","description":"로또번호 추천 서비스","techStack":["Dart","Flutter","drift","provider"],"thumbnailUrl":"bcow_icon.png","links":{"post":"https://blog.naver.com/wisseraph/223232966579","github":"","web":"","googlePlay":"https://play.google.com/store/apps/details?id=dev.mhlab.bcow_world","appStore":"https://itunes.apple.com/kr/app/apple-store/6470312130"}}]}}},"pageContext":{"slug":"/gatsby/221027_starter-search-add/","nextSlug":"/node-js/221027_install-nvm/","prevSlug":"/next-js/221027_detailedhtmlprops-problem/"}},"staticQueryHashes":["1186322783","1321405810","3649515864"]}