{"componentChunkName":"component---src-templates-post-jsx","path":"/gatsby/230124_image_quality/","result":{"data":{"site":{"siteMetadata":{"title":"MHLab blog","author":"MHLab"}},"markdownRemark":{"id":"8bafa0ed-c914-5045-9e00-188b54d25cd3","excerpt":"…","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/fa60242518f8964a10c780949a6b3a7c/5a190/thumbnail.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.601226993865026%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAABgElEQVR42mMI0WklGzFAqFC9tnCD9giD9jC9NtI0h+q2Bag3+ao0AFGAejOQG6oLFAQbCmYATQQKhmhjaAaK+qs1pTtPmtu2c2HXngzXKUCDgrVbfJUbAjWbgSqCtFoC1EAiQFMgZAiIAdYMlIsy7tw4//iTe2+ePXh7+eT9OIueSKOOee27mtOW+as3RRh25HpPB5rYnL4s23Oaj1J9kGYz0C1A/Qx+qo05XtP2rDl/7eyjj2+/nDlwK993RkPSkgllG+Z37Fo9/fCqaYd2LD8zr23nmplHgHYs6Nw9o2FrlEkn0FaQzdEmXaumHV476+il4/d2rToXbdoVb927qGfP/M7dU2s3L5t0oDN31YzGbUsn7p/TumNR794Z9Vu9FeuBljNAQivVaeKCrt0Lundne0wN1GgGmhii3QIU91drBPocyIAgP9WG4qDZsebdkOCAhnagBii0gV4AqgCHdhtEHBLOsPAHcYFGBwONRolniDowwh+3IHN1URMJeSkMAB4sChJOXHM6AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"thumbnail\"\n        title=\"\"\n        src=\"/static/fa60242518f8964a10c780949a6b3a7c/a6d36/thumbnail.png\"\n        srcset=\"/static/fa60242518f8964a10c780949a6b3a7c/222b7/thumbnail.png 163w,\n/static/fa60242518f8964a10c780949a6b3a7c/ff46a/thumbnail.png 325w,\n/static/fa60242518f8964a10c780949a6b3a7c/a6d36/thumbnail.png 650w,\n/static/fa60242518f8964a10c780949a6b3a7c/5a190/thumbnail.png 800w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h1 id=\"블로그-이미지가\" style=\"position:relative;\"><a href=\"#%EB%B8%94%EB%A1%9C%EA%B7%B8-%EC%9D%B4%EB%AF%B8%EC%A7%80%EA%B0%80\" aria-label=\"블로그 이미지가 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>블로그 이미지가...</h1>\n<p>전부터 좀 거슬리긴 했는데 이미지를 올리면 디지털 열화라고 부르는,<br>\n아주 낮은 품질의 이미지가 보이기 시작했다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b57c2f5d0bab482b19d09c36a6f08cdf/ddc81/img01.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 61.34969325153374%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAADGElEQVR42iWSW1NaVxSA+Qf9A23aTjOdaR9SNcRUE6KCKKDcOVzPAeQmIAgc5C4I8Yqa6iRN03rB6Exmase0aWc6Hfve/q2vG/vwzdqz99rfrLX30vxx+w+l3ve0DwfU++dU987YOzrnu5cDWvunNPunVHdPODg+v6O2dyryzv5n/5zW4QWdoyvKOyd8uP0XTff4io/G7NyfjfLptMK9KYWxuTAzCxEeGGW+Nih8ogswY1GYtgzXQT4W3JuS+Vwf4b4xxpemFJ89k3nx+h2aw9MbvjDGGZdKPHQX0AqcoRJuuYTBW8AWLKJz5/DJqxikHA+sWUYdOZG7yiNxZ9xXxhapYw+U+OnydzTHZ+/5ypxkwl9G6ykx4i5hDalYgyrmgIpPUTH6VrEGCow583zjyDPqKjDqKfJYyByRGt5Eiyc+lVdD4Q+DX5mwLWMKV3karPDQV2EuVMEVrrAgi6gMo8q0X2XEo6L1qoxJZcYDYj9ax59sYUtv4E80uL7+E82Pgxt09iT6cJ2JUJ3HAp1cv0uwRxu4l0Q70Rq6UBWtkIwHq3wrzvXRFnOJNo7MBvm1HeK5DS5/+QvN6cUNzxzLzEabTCpNJoaEm8zH1vEm13EmBCLqIi0mwy2eCtF0rIM+2WUx+5xEaZt8rY873+Pi/S2awdsbzK4Urlgd81IDgxDpY22M8Q725Q6SqMCb7TIrBFOJLjOpHob0cywrW8jqDrHqHnLzEKe6xdVvf4s3PLtGbwkTipSQoms4RIvDilzpDu6hbKWLR+DI9oRkE1N2E3NuG3txF3e5j7e2T7j9Aqm8xduhcHB5zcxiCJOUwRlYoVyokcrWkZKNO/FSocurg30ytR0cqXVsqTa23CaO0i6uNSGs9lHWhbCyzdUHIXz95oKRSSNP5iWmTBIeSaGQzuMJZjF7sySXVc73e2xtdDEra+JnqyzG6yzEG1jEM1kiYhKWm+j9K7w8+1m0fHLFoxkrcw6ZWXuIeXeEZKpAOqOiLOXIZsqUi3VWchV8sSLuaEH8vCrmr4g9LOYzmGbRn0Q7tcDB0Rv+A6YzE9PUqEw2AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img01\"\n        title=\"\"\n        src=\"/static/b57c2f5d0bab482b19d09c36a6f08cdf/a6d36/img01.png\"\n        srcset=\"/static/b57c2f5d0bab482b19d09c36a6f08cdf/222b7/img01.png 163w,\n/static/b57c2f5d0bab482b19d09c36a6f08cdf/ff46a/img01.png 325w,\n/static/b57c2f5d0bab482b19d09c36a6f08cdf/a6d36/img01.png 650w,\n/static/b57c2f5d0bab482b19d09c36a6f08cdf/ddc81/img01.png 837w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>내가 올린 다른 컨텐츠의 썸네일 이미지인데 딱 봐도 품질 저하가 느껴진다.<br>\n이유야 알고 있었는데 해결해야지 하다가...<br>\n오래 끌었다.</p>\n<p>일단 내가 쓰는 블로그는 <a href=\"https://github.com/JaeYeopHan/gatsby-starter-bee\">Gatsby-starter-bee</a> 이걸 약간 내 입맛에 살짝 바꿔서 쓰고 있다.<br>\n그래서 다른 개츠비 테마나 또는 직접 만든 것의 경우 아래의 플러그인을 사용한다면 해당 방법이 유효할 것이다.</p>\n<br>\n<h2 id=\"how-to\" style=\"position:relative;\"><a href=\"#how-to\" aria-label=\"how to permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>How to?</h2>\n<p>먼저 자신이 사용하는 테마나 또는 직접 만든 것이라면 <strong>gatsby-remark-images</strong> 플러그인을 수정하면 끝이다.<br>\n아래는 <strong>Gatsby-starter-bee</strong> 기준인데 다른 테마나 커스텀도 금방 찾을 수 있다.</p>\n<p>먼저 <strong>gatsby-config.js</strong>파일에서 아래의 부분을 찾아본다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">resolve</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-transformer-remark</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">options</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n          <span class=\"token punctuation\">{</span>\n            <span class=\"token literal-property property\">resolve</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-remark-katex</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n            <span class=\"token literal-property property\">options</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n              <span class=\"token literal-property property\">strict</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">ignore</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">{</span>\n            <span class=\"token literal-property property\">resolve</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-remark-images</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n            <span class=\"token literal-property property\">options</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n              <span class=\"token literal-property property\">maxWidth</span><span class=\"token operator\">:</span> <span class=\"token number\">1200</span><span class=\"token punctuation\">,</span>\n              <span class=\"token literal-property property\">quality</span><span class=\"token operator\">:</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span>\n              <span class=\"token literal-property property\">withWebp</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n              <span class=\"token comment\">//linkImagesToOriginal: false, (이건 미 사용 처리로 바꾸었다)</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">{</span>\n            <span class=\"token literal-property property\">resolve</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-remark-images-medium-zoom</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n            <span class=\"token literal-property property\">options</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n              <span class=\"token literal-property property\">margin</span><span class=\"token operator\">:</span> <span class=\"token number\">36</span><span class=\"token punctuation\">,</span>\n              <span class=\"token literal-property property\">scrollOffset</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n\n            <span class=\"token punctuation\">}</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">]</span>\n      <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>여기서 <strong>resolve: <code class=\"language-text\">gatsby-remark-images</code>,</strong> 영역의 옵션에서 퀄리티 값을 주면 된다.<br>\n근데 80을 줘봤는데 약간 열화가 심하고, 90도 살짝 나아진 느낌이라...<br>\n나의 경우 100을 줬다.</p>\n<p>그렇게 해서 다시 조회해보니...</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/74a4ef1771ee70ccd2e019bbc71bfce9/5205c/img02.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 61.963190184049076%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAADFElEQVR42h2TWU9bVxSF/Rf6WFVRpFZpXxIBKQQSZhwPCBt877XBYMfTtX1tPA/YvuCLzVCGAjGBINSBpIEHoj6UPnRW/9vXTR+WdPbRWuucvc4+th9vfyda22PVekNqvYduvsbcPKXTeUNW1unWCfHmMZbsbQr05n19QkK4qY1TstYZhe5b4sK7ufsXW3n3kk+GVL54GePhdISHUxGeOWLMuOIM2CM8nonwYHwFhzOK3Rnjs/EQn46HeSC8z+0xvnTofDVr8Ei0J+c32KzTax7NJnkWqPC1VmJIKxMI1VCXK7xcLOMLVphUCwSDZaa1Ao/n8/QrBQbvuYEqI0t1fDETRTQX7+6w7Zzd8MST5kWwxqCYDmgVfMt1PFLPLdcICtEZKOMV8z5fgSdKkT61RJ/wnouZFjXREm3Gg3XO7g0PL24YUw1c0QZjoTWeBtdwhRpo4QYegSJ73pU6E4s1+gQDi3X6BcPLDbzRdZZ0C1+qy6tUm4+3v2E7evuBCc1gKtpiONxiKGQyFjYJxdfxicAv8EVMRldaPF1uMhi655nYY21ciU0UY5tSdZ90YYur2z+w9S4+MOlfFYKIIuuMRNoMC5xxi6WkCPR7WIxH2zyPWozGLKb0DvbUFvPZHdKVfXKNIwLFXa5+/gvb+cU1Xn8Wf8JkTm7lkDzscrIr2WEh3SGQ2WIxs40jvcWEmEynt7FndpnLf0O4ekBs7YhQ6zWB+gE//fKPZHj6DrsnxkqkLO3VURMt1GQbTcy0TJel3Nb/UFa38eR2cOd2cRf2mK8eooiZX+YvZPUItA54f/c3tovLKxwLYZyLGdTwKo1KAyPfxJ9uoaQ3pKUuP/ROyJl7+IwNvNk284VtFuQzKM1D/OYhK51jAuu7vP/1T2z7Bz36R+y8cKhMOlX8apCSYaCGDNxLBslsme++7dLdtHBGy7j1GrPJGu50XWKp4IoXJcsqk+EUR99fYzvuXTLqUHArr3AqEckzRtbIkxGjqF4gX6hRk1uvFtfkkcpoegktVcWny9AningjGZlXnaGZOfaPz/kP7v0PTSOI5skAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img02\"\n        title=\"\"\n        src=\"/static/74a4ef1771ee70ccd2e019bbc71bfce9/a6d36/img02.png\"\n        srcset=\"/static/74a4ef1771ee70ccd2e019bbc71bfce9/222b7/img02.png 163w,\n/static/74a4ef1771ee70ccd2e019bbc71bfce9/ff46a/img02.png 325w,\n/static/74a4ef1771ee70ccd2e019bbc71bfce9/a6d36/img02.png 650w,\n/static/74a4ef1771ee70ccd2e019bbc71bfce9/5205c/img02.png 833w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>물론 내가 가진 원본의 경우 ARW 포멧의 25메가 짜리 파일이다...<br>\n당연 원본에서 리사이징하고 퀄을 낮추니 저렇게 별로지만...그래도 처음보다는 결과가 좋다.</p>\n<p>단점은 이미지가 로딩이 늦어진다는 점이 있지만,<br>\n돌려보니 자동으로 블러 처리 해주면서 로딩을 하기에 큰 거슬림은 없었다.</p>\n<p>이 블로그가 사진 컨텐츠 블로그면 조금 심각할 수 있겠지만...<br>\n이건 나중에 내 개인 사진 전시 블로그를 만들 때 다시 고민해볼 문제인 듯 싶다.</p>\n<p>일단은 여기서 만족한다.</p>\n<br>\n<h2 id=\"참고\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0\" aria-label=\"참고 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>참고</h2>\n<p><a href=\"https://github.com/gatsbyjs/gatsby/issues/3984\">StackOverflow</a></p>\n<div class=\"gatsby-highlight\" data-language=\"toc\"><pre class=\"language-toc\"><code class=\"language-toc\"></code></pre></div>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#%EB%B8%94%EB%A1%9C%EA%B7%B8-%EC%9D%B4%EB%AF%B8%EC%A7%80%EA%B0%80\">블로그 이미지가...</a></p>\n<ul>\n<li><a href=\"#how-to\">How to?</a></li>\n<li><a href=\"#%EC%B0%B8%EA%B3%A0\">참고</a></li>\n</ul>\n</li>\n</ul>","frontmatter":{"title":"Gatsby 블로그에서 이미지 열화(화질 저화) 문제 (With Gatsby-starter-bee theme)","description":null,"date":"January 24, 2023","tags":["Gatsby"],"series":"Gatsby","previewImage":"gatsby_logo.png","isPrivate":null,"writer":null}},"previous":{"fields":{"slug":"/mac/230119_install_tree/"},"frontmatter":{"title":"Mac에서 tree 명령어 사용하기 (M1 Mac)","isPrivate":null}},"next":{"fields":{"slug":"/cloud-flare/230127_use_r2/"},"frontmatter":{"title":"CloudFlare R2 사용해보기 Part 1 (With Nest.Js)","isPrivate":null}}},"pageContext":{"id":"8bafa0ed-c914-5045-9e00-188b54d25cd3","previousPostId":"0b4d42c0-bae4-5ff1-b365-7b26e6fe5801","nextPostId":"b9fa8226-abd5-58a9-a069-f50c429b13a5"}},"staticQueryHashes":[],"slicesMap":{}}