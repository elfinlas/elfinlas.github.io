{"componentChunkName":"component---src-templates-blog-post-js","path":"/gatsby/230124_image_quality/","result":{"data":{"site":{"siteMetadata":{"title":"MHLab blog","author":"MHLab","siteUrl":"https://elfinlas.github.io","comment":{"disqusShortName":"","utterances":"elfinlas/blog_utterances"},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"b24c8f09-c916-5d42-84fc-46ae8d3df451","excerpt":"블로그 이미지가… 전부터 좀 거슬리긴 했는데 이미지를 올리면 디지털 열화라고 부르는, 아주 낮은 품질의 이미지가 보이기 시작했다.  내가 올린 다른 컨텐츠의 썸네일 이미지인데 딱 봐도 품질 저하가 느껴진다. 이유야 알고 있었는데 해결해야지 하다가… 오래 끌었다. 일단 내가 쓰는 블로그는 Gatsby-starter-bee 이걸 약간 내 입맛에 살짝 바꿔서 쓰고 있다. 그래서 다른 개츠비 테마나 또는 직접 만든 것의 경우 아래의 플러그인을 사용한다면 해당 방법이 유효할 것이다. How to…","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/fa60242518f8964a10c780949a6b3a7c/78d47/thumbnail.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.333333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAABcklEQVQoz2MI0WklGzFAqFDdNijSayNNM1BPgHqTr3KDr0oDkBGq2xqiCxIEqQAxWoEmggQxNUN0pjlPmt+xa2n/vhyvaUBusHaLv1ojkASqAJIQEaARIBGwucHaYM1AfqRRx8b5J57ce/P80bvbl54mWPdFGHUAzWrPXhWkCZTtLPCfGabX1py+LNd7OshQrZYwfZB+Bj/VxjzfGfs3Xrp+9tHnD98un3wAVNqQtGRqzeZ5Hbs2LTixbvbRnSvOrJx2aMuikxvmHls+6cCc1h3Rpl1BWi0gmyMMO1ZMOQhUdOn4/V2rzsVZ9MSYdS/q2QvUPLV2y7KJB1oyls9q2r5s4v5pdVuA4rNbtnsp1AHdAvVzkk0/0J0Lu3ZnuU8FcoGmBmo2+6s2AkMR6M4AtSagA/1UGnyUGwoDZsZadAdqNAM9DwntViDHW6keqBQptEEBEwYOZwgbFOZ6bUCVkGBDimc9kLowPcLxDDELJZGQhwB5RgrnWmz0ugAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/fa60242518f8964a10c780949a6b3a7c/77434/thumbnail.webp 300w,\n/static/fa60242518f8964a10c780949a6b3a7c/411c4/thumbnail.webp 600w,\n/static/fa60242518f8964a10c780949a6b3a7c/cf465/thumbnail.webp 800w\"\n              sizes=\"(max-width: 800px) 100vw, 800px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/fa60242518f8964a10c780949a6b3a7c/a8a0d/thumbnail.png 300w,\n/static/fa60242518f8964a10c780949a6b3a7c/dface/thumbnail.png 600w,\n/static/fa60242518f8964a10c780949a6b3a7c/78d47/thumbnail.png 800w\"\n            sizes=\"(max-width: 800px) 100vw, 800px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/fa60242518f8964a10c780949a6b3a7c/78d47/thumbnail.png\"\n            alt=\"thumbnail\"\n            title=\"thumbnail\"\n            loading=\"lazy\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h1 id=\"블로그-이미지가\" style=\"position:relative;\"><a href=\"#%EB%B8%94%EB%A1%9C%EA%B7%B8-%EC%9D%B4%EB%AF%B8%EC%A7%80%EA%B0%80\" aria-label=\"블로그 이미지가 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>블로그 이미지가…</h1>\n<p>전부터 좀 거슬리긴 했는데 이미지를 올리면 디지털 열화라고 부르는,<br>\n아주 낮은 품질의 이미지가 보이기 시작했다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 837px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b57c2f5d0bab482b19d09c36a6f08cdf/25327/img01.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 61.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAADDElEQVQozx2RWU8bZxhG/Rv6B5pGbdSqisISCBBaMNjGLF5mvIHHjBe8YRvsGe+7jYPDohJVwmwC9SJhaSs1QlUuoqrtXf/W6QcXR6/m0zPn+d4Zw6/3/7BZP6LYPyfXO2V754Tu/hlvD8/I9wboOwOy3WN2D04fyYnnnMg8oIl8fvec0v4lqfYx95//w1A9uOKLlzLPzBGezgX5SjBmDTG3EmJ4QeW5WeXJjILFFhRnQb6cCTzyxKjytSnMs4Uo3y4n+WZW5fTydwxvjm94at5gzJNjRN5mVCArGk5/jjnvNra1LNOuND5li1l3mue2TYYd6cfciDvHmDePI1TBtprl6voThr2TO76zxpn05Rl1awy5ctgVneU1naU1DW9AxyzEK0I85MzwwrnFkJA95CbEO3KwjLxRZ9KrcXEjhO/O7piyJ1hQS7z2FxnxFbAoBSS1yHKgiLReEFPnR5/GC1E46tEZFrxaK7IibuaN1XEk2vijVT7+8RnDz2c3TDviGNUKr5QK44LpQAVftPK4iitcwR4qi7ISL1eLjIs5ITJzoTrmjSZSsk22sEs43eL6418YBue3/OBMMB+qMbVeY1IwIbCE63hEuzP6QIPpYJ0ptSZmg9lIC2Osgy3VJa7tki7vI291uL7/G8PpxS1LchxXpMJiqIpJiOYjDSyi3ZFo4dlsP2ISgploB2O8y3xih+XMGxS9T7C4h1I9RNJ73P4phO8G7zEuqfjVHO5gHme4jCRuJSWayMkW3nQHj8C52WUptYNVsChkjlwfOb+Hp7SP2vgJV77H9YPw4vID8/Z1rN5NXEqGklYhkamKdWvI8SYxrcvZ0SHpSh8p3sAhShxbPWR9D3fxAF/5gGDzCG+pz92nfzEcHp3w/fgcEyaJ12YJh+QnE0sh+cSfdyeIxXKcv23TrjWx+DWsap7FYBGrYEEtsBDQcGyUmJajDH757eEbvsdk9+NeTyIpCbF2iqxWQ8vXSWbKFPINapUOeqFFJFNDTVUJZuoEUjWUZJnVqM5qJItx2cvF1Qf+BzxqE/lAlmhuAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/b57c2f5d0bab482b19d09c36a6f08cdf/77434/img01.webp 300w,\n/static/b57c2f5d0bab482b19d09c36a6f08cdf/411c4/img01.webp 600w,\n/static/b57c2f5d0bab482b19d09c36a6f08cdf/ef8da/img01.webp 837w\"\n              sizes=\"(max-width: 837px) 100vw, 837px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/b57c2f5d0bab482b19d09c36a6f08cdf/a8a0d/img01.png 300w,\n/static/b57c2f5d0bab482b19d09c36a6f08cdf/dface/img01.png 600w,\n/static/b57c2f5d0bab482b19d09c36a6f08cdf/25327/img01.png 837w\"\n            sizes=\"(max-width: 837px) 100vw, 837px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/b57c2f5d0bab482b19d09c36a6f08cdf/25327/img01.png\"\n            alt=\"img01\"\n            title=\"img01\"\n            loading=\"lazy\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>내가 올린 다른 컨텐츠의 썸네일 이미지인데 딱 봐도 품질 저하가 느껴진다.<br>\n이유야 알고 있었는데 해결해야지 하다가…<br>\n오래 끌었다.</p>\n<p>일단 내가 쓰는 블로그는 <a href=\"https://github.com/JaeYeopHan/gatsby-starter-bee\">Gatsby-starter-bee</a> 이걸 약간 내 입맛에 살짝 바꿔서 쓰고 있다.<br>\n그래서 다른 개츠비 테마나 또는 직접 만든 것의 경우 아래의 플러그인을 사용한다면 해당 방법이 유효할 것이다.</p>\n<br>\n<h2 id=\"how-to\" style=\"position:relative;\"><a href=\"#how-to\" aria-label=\"how to permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>How to?</h2>\n<p>먼저 자신이 사용하는 테마나 또는 직접 만든 것이라면 <strong>gatsby-remark-images</strong> 플러그인을 수정하면 끝이다.<br>\n아래는 <strong>Gatsby-starter-bee</strong> 기준인데 다른 테마나 커스텀도 금방 찾을 수 있다.</p>\n<p>먼저 <strong>gatsby-config.js</strong>파일에서 아래의 부분을 찾아본다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">resolve</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-transformer-remark</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">options</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n          <span class=\"token punctuation\">{</span>\n            <span class=\"token literal-property property\">resolve</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-remark-katex</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n            <span class=\"token literal-property property\">options</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n              <span class=\"token literal-property property\">strict</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">ignore</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">{</span>\n            <span class=\"token literal-property property\">resolve</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-remark-images</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n            <span class=\"token literal-property property\">options</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n              <span class=\"token literal-property property\">maxWidth</span><span class=\"token operator\">:</span> <span class=\"token number\">1200</span><span class=\"token punctuation\">,</span>\n              <span class=\"token literal-property property\">quality</span><span class=\"token operator\">:</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span>\n              <span class=\"token literal-property property\">withWebp</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n              <span class=\"token comment\">//linkImagesToOriginal: false, (이건 미 사용 처리로 바꾸었다)</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">{</span>\n            <span class=\"token literal-property property\">resolve</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-remark-images-medium-zoom</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n            <span class=\"token literal-property property\">options</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n              <span class=\"token literal-property property\">margin</span><span class=\"token operator\">:</span> <span class=\"token number\">36</span><span class=\"token punctuation\">,</span>\n              <span class=\"token literal-property property\">scrollOffset</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n\n            <span class=\"token punctuation\">}</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">]</span>\n      <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>여기서 <strong>resolve: <code class=\"language-text\">gatsby-remark-images</code>,</strong> 영역의 옵션에서 퀄리티 값을 주면 된다.<br>\n근데 80을 줘봤는데 약간 열화가 심하고, 90도 살짝 나아진 느낌이라…<br>\n나의 경우 100을 줬다.</p>\n<p>그렇게 해서 다시 조회해보니…</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 833px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/74a4ef1771ee70ccd2e019bbc71bfce9/79f65/img02.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 61.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAADDElEQVQozw2T2U9bVxCH/U/0MQ9VuqipAiIEETAFgrGxifflesPrBftivNvX9vWCbcCYuIRIbZSSlzbJS0Lah0ap1LRS1eUf+zoPn2bm3JnfOWfmHtPs+g3BwwHJxgXR6jmRyoSafkFDSIofLZ8RKp3SkrjWnKKUJJY1pXJOtDYl0XhMunVJUNZvPvyDSe1e8cmKwhc7Kre3M3xmSbPmULHsqizZMsxZ09zeTPBoN8uWPcst8W89TPGp5H1pU/nKfsDXzkPuWjP8+PpXTJWzaz53HHA/VGXBX2ZJiMTquMJVrKEKbrEbviLRcAWz2DvuI+a9RRYlbzFQZSXcIJg2cEfr/PT2I6bW9AVzrjzmSF1EaywEavhjDRzhOp6oJIv4jgg7lCp3vSXmfGXm/RXmJG8t0kRJGXgyfb4R/9W7PzANZi9Y82tYkzqrMZ174Sa78Ra+vRYuwRvXccWarCp15kMNFoR5pclKtIUn1SWoDvDnx6RzfT68/wvT8PEPrAc0NpIdluMdloT1PYNopotPCgKCJ2nwINbmXrTN/ViHB/J9O93Hmj0mqI2pNaZki2PevP8b0+nsmo1ggS3pgzkhhckey8KOFCiyuy8riDWn+qwI5vSATXWI5WCMr3CKJpPWWt8SkMnf/PYvpqkIuoKHBDMdHomoVfqxLSJ29RhPbkhIGwljERixLiIP8ydYtFOcxQl7Nfm19Blx44pQ84Kff/8PU3/yPRZnmkiiKtdr4M+08e/38OeOCWhDwoUREcFbGOMsnGCXU9lLE9wi5m3OCHQuiQ+eEmpPefdRTnj55Bk2XwK7ohFOHtFtttFKHUI5A1++R0kf8/K7pxSMc7wSe44GeCon+PQp/s4MpTsjMXpCuHfGL39KD9vGmDuLGyxtulndcuNxBzlSVZyKii20z0G+xLNJn2arzVa8yHaqjC1TYVuwpItYEoc41BLLgQTPX91gml09x6VkZKpFFElI7lfo6Aa63qdc62EYQwb9MU1jRK7WJ1sV6sfyLPukyl32CjqxnDwCb5SXr9/yP6/yD5ILcBgUAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/74a4ef1771ee70ccd2e019bbc71bfce9/77434/img02.webp 300w,\n/static/74a4ef1771ee70ccd2e019bbc71bfce9/411c4/img02.webp 600w,\n/static/74a4ef1771ee70ccd2e019bbc71bfce9/65619/img02.webp 833w\"\n              sizes=\"(max-width: 833px) 100vw, 833px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/74a4ef1771ee70ccd2e019bbc71bfce9/a8a0d/img02.png 300w,\n/static/74a4ef1771ee70ccd2e019bbc71bfce9/dface/img02.png 600w,\n/static/74a4ef1771ee70ccd2e019bbc71bfce9/79f65/img02.png 833w\"\n            sizes=\"(max-width: 833px) 100vw, 833px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/74a4ef1771ee70ccd2e019bbc71bfce9/79f65/img02.png\"\n            alt=\"img02\"\n            title=\"img02\"\n            loading=\"lazy\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>물론 내가 가진 원본의 경우 ARW 포멧의 25메가 짜리 파일이다…<br>\n당연 원본에서 리사이징하고 퀄을 낮추니 저렇게 별로지만…그래도 처음보다는 결과가 좋다.</p>\n<p>단점은 이미지가 로딩이 늦어진다는 점이 있지만,<br>\n돌려보니 자동으로 블러 처리 해주면서 로딩을 하기에 큰 거슬림은 없었다.</p>\n<p>이 블로그가 사진 컨텐츠 블로그면 조금 심각할 수 있겠지만…<br>\n이건 나중에 내 개인 사진 전시 블로그를 만들 때 다시 고민해볼 문제인 듯 싶다.</p>\n<p>일단은 여기서 만족한다.</p>\n<br>\n<h2 id=\"참고\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0\" aria-label=\"참고 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>참고</h2>\n<p><a href=\"https://github.com/gatsbyjs/gatsby/issues/3984\">StackOverflow</a></p>","frontmatter":{"title":"Gatsby 블로그에서 이미지 열화(화질 저화) 문제 (With Gatsby-starter-bee theme)","date":"January 24, 2023"}}},"pageContext":{"slug":"/gatsby/230124_image_quality/","previous":{"fields":{"slug":"/mac/230119_install_tree/"},"frontmatter":{"title":"Mac에서 tree 명령어 사용하기 (M1 Mac)"}},"next":{"fields":{"slug":"/cloud-flare/230127_use_r2/"},"frontmatter":{"title":"CloudFlare R2 사용해보기 Part 1 (With Nest.Js)"}}}},"staticQueryHashes":["3128451518","903436796"]}