{"componentChunkName":"component---src-templates-post-template-index-tsx","path":"/node-js/211018_yarn_usage_error/","result":{"data":{"cur":{"id":"736cb0a6-4734-5b62-a30c-8a434e8fbd1c","html":"<h1 id=\"주의\" style=\"position:relative;\"><a href=\"#%EC%A3%BC%EC%9D%98\" aria-label=\"주의 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>주의</h1>\n<h3 id=\"이-문건은-과거-hexo-블로그-2021-10-18-에서-이동된-문서입니다\" style=\"position:relative;\"><a href=\"#%EC%9D%B4-%EB%AC%B8%EA%B1%B4%EC%9D%80-%EA%B3%BC%EA%B1%B0-hexo-%EB%B8%94%EB%A1%9C%EA%B7%B8-2021-10-18-%EC%97%90%EC%84%9C-%EC%9D%B4%EB%8F%99%EB%90%9C-%EB%AC%B8%EC%84%9C%EC%9E%85%EB%8B%88%EB%8B%A4\" aria-label=\"이 문건은 과거 hexo 블로그 2021 10 18 에서 이동된 문서입니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이 문건은 과거 Hexo 블로그 (2021-10-18) 에서 이동된 문서입니다.</h3>\n<h4 id=\"시간이-지남에-따라-최신-기술과-다를-수-있으니-주의-바랍니다\" style=\"position:relative;\"><a href=\"#%EC%8B%9C%EA%B0%84%EC%9D%B4-%EC%A7%80%EB%82%A8%EC%97%90-%EB%94%B0%EB%9D%BC-%EC%B5%9C%EC%8B%A0-%EA%B8%B0%EC%88%A0%EA%B3%BC-%EB%8B%A4%EB%A5%BC-%EC%88%98-%EC%9E%88%EC%9C%BC%EB%8B%88-%EC%A3%BC%EC%9D%98-%EB%B0%94%EB%9E%8D%EB%8B%88%EB%8B%A4\" aria-label=\"시간이 지남에 따라 최신 기술과 다를 수 있으니 주의 바랍니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>시간이 지남에 따라 최신 기술과 다를 수 있으니 주의 바랍니다.</h4>\n<hr>\n<br>\n<h2 id=\"처음-node를-하려다가\" style=\"position:relative;\"><a href=\"#%EC%B2%98%EC%9D%8C-node%EB%A5%BC-%ED%95%98%EB%A0%A4%EB%8B%A4%EA%B0%80\" aria-label=\"처음 node를 하려다가 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>처음 node를 하려다가…</h2>\n<p>이번에 진행하는 프로젝트에 노드를 적용해보려고 노드 공부를 시작했다.<br>\n노드 환경을 구축하고, npm은 문제가 많아서 페이스북에서 만든 yarn이라는걸 많이 쓰는 추세라 하여…<br>\nyarn을 사용하기로 마음먹고 실행해봤다.</p>\n<p>그런데 역시 처음엔 고통과 배움의 시간이 필요하듯…<br>\n이상한 문제가 나에게 찾아왔다.</p>\n<p><img src=\"/img01.png\" alt=\"\"></p>\n<p>프로젝트를 지웠다가 다시 해도 계속 발생하고, 검색을 해도 잘 안나오거나 뭐라고 하는지 이해가 잘 안되었다.<br>\n지금 생각해보면 너무나도 간단한 문제였지만 -_-;;</p>\n<p>내가 찾은 솔루션은 이 <a href=\"https://github.com/yarnpkg/berry/issues/2212\">문서</a> 였다.<br>\n내용을 요약하면…</p>\n<br>\n<blockquote>\n<p>너가 지금 하려는 디렉토리의 상위쪽에 package.json 또는 yarn.lock 파일이 존재한다\n<br></p>\n</blockquote>\n<p>맨 처음엔 ‘상위에 저런게 있을리가 없지’ 라면서 그냥 넘겼는데..<br>\n도저히 못찾아서 헤매다가…</p>\n<br>\n<blockquote>\n<p>HEXO</p>\n</blockquote>\n<br>\n<p>그렇다.<br>\n이 블로그는 hexo로 만들어졌고, hexo는 node.js로 만들어졌는데, 이 hexo를 깔면서 홈 디렉토리에 뭔가를 했던 기억이 생각났다…<br>\n그리고 확인 결과…역시 있었다. (package-lock.json package.json)</p>\n<p>그리고 두 파일을 제거하고 yarn 명령어를 사용했더니 잘 된다 -_-;</p>\n<h3 id=\"결론은-항상-안되면-솔루션의-글을-잘-읽고-확인도-잘-해보자\" style=\"position:relative;\"><a href=\"#%EA%B2%B0%EB%A1%A0%EC%9D%80-%ED%95%AD%EC%83%81-%EC%95%88%EB%90%98%EB%A9%B4-%EC%86%94%EB%A3%A8%EC%85%98%EC%9D%98-%EA%B8%80%EC%9D%84-%EC%9E%98-%EC%9D%BD%EA%B3%A0-%ED%99%95%EC%9D%B8%EB%8F%84-%EC%9E%98-%ED%95%B4%EB%B3%B4%EC%9E%90\" aria-label=\"결론은 항상 안되면 솔루션의 글을 잘 읽고 확인도 잘 해보자 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>결론은 항상 안되면 솔루션의 글을 잘 읽고 확인도 잘 해보자.</h3>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<ul>\n<li>\n<p><a href=\"#%EC%9D%B4-%EB%AC%B8%EA%B1%B4%EC%9D%80-%EA%B3%BC%EA%B1%B0-hexo-%EB%B8%94%EB%A1%9C%EA%B7%B8-2021-10-18-%EC%97%90%EC%84%9C-%EC%9D%B4%EB%8F%99%EB%90%9C-%EB%AC%B8%EC%84%9C%EC%9E%85%EB%8B%88%EB%8B%A4\">이 문건은 과거 Hexo 블로그 (2021-10-18) 에서 이동된 문서입니다.</a></p>\n<ul>\n<li><a href=\"#%EC%8B%9C%EA%B0%84%EC%9D%B4-%EC%A7%80%EB%82%A8%EC%97%90-%EB%94%B0%EB%9D%BC-%EC%B5%9C%EC%8B%A0-%EA%B8%B0%EC%88%A0%EA%B3%BC-%EB%8B%A4%EB%A5%BC-%EC%88%98-%EC%9E%88%EC%9C%BC%EB%8B%88-%EC%A3%BC%EC%9D%98-%EB%B0%94%EB%9E%8D%EB%8B%88%EB%8B%A4\">시간이 지남에 따라 최신 기술과 다를 수 있으니 주의 바랍니다.</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%B2%98%EC%9D%8C-node%EB%A5%BC-%ED%95%98%EB%A0%A4%EB%8B%A4%EA%B0%80\">처음 node를 하려다가…</a></p>\n<ul>\n<li><a href=\"#%EA%B2%B0%EB%A1%A0%EC%9D%80-%ED%95%AD%EC%83%81-%EC%95%88%EB%90%98%EB%A9%B4-%EC%86%94%EB%A3%A8%EC%85%98%EC%9D%98-%EA%B8%80%EC%9D%84-%EC%9E%98-%EC%9D%BD%EA%B3%A0-%ED%99%95%EC%9D%B8%EB%8F%84-%EC%9E%98-%ED%95%B4%EB%B3%B4%EC%9E%90\">결론은 항상 안되면 솔루션의 글을 잘 읽고 확인도 잘 해보자.</a></li>\n</ul>\n</li>\n</ul>\n</div>","excerpt":"주의 이 문건은 과거 Hexo 블로그 (2021-10-18) 에서 이동된 문서입니다. 시간이 지남에 따라 최신 기술과 다를 수 있으니 주의 바랍니다. 처음 node를 하려다가… 이번에 진행하는 프로젝트에 노드를 적용해보려고 노드 공부를 시작했다. 노드 환경을 구축하고, npm은 문제가 많아서 페이스북에서 만든 yarn이라는걸 많이 쓰는 추세라 하여… yarn을 사용하기로 마음먹고 실행해봤다. 그런데 역시 처음엔 고통과 배움의 시간이 필요하듯… 이상한 문제가 나에게 찾아왔다.  프로젝트를 지웠다가 다시 해도 계속 발생하고, 검색을 해도 잘 안나오거나 뭐라고 하는지 이해가 잘 안되었다. 지금 생각해보면 너무나도 간단한 문제였지만 -_-;; 내가 찾은 솔루션은 이 문서 였다. 내용을 요약하면… 너가 지금 하려는 디렉토리의 상위쪽에 package.json 또는 yarn.lock 파일이 존재한다\n 맨 처음엔 ‘상위에 저런게 있을리가 없지’ 라면서 그냥 넘겼는데.. 도저히 못찾아서 헤매다가……","frontmatter":{"date":"2021.10.18","title":"yarn 실행 시 \"Usage Error The nearest package directory\" 뜨는 문제","categories":"node-js","emoji":"📜"},"fields":{"slug":"/node-js/211018_yarn_usage_error/"}},"next":{"id":"11b8fb3d-8eb4-5609-bf48-cac54a615667","html":"<h1 id=\"주의\" style=\"position:relative;\"><a href=\"#%EC%A3%BC%EC%9D%98\" aria-label=\"주의 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>주의</h1>\n<h3 id=\"이-문건은-과거-hexo-블로그-2021-10-04-에서-이동된-문서입니다\" style=\"position:relative;\"><a href=\"#%EC%9D%B4-%EB%AC%B8%EA%B1%B4%EC%9D%80-%EA%B3%BC%EA%B1%B0-hexo-%EB%B8%94%EB%A1%9C%EA%B7%B8-2021-10-04-%EC%97%90%EC%84%9C-%EC%9D%B4%EB%8F%99%EB%90%9C-%EB%AC%B8%EC%84%9C%EC%9E%85%EB%8B%88%EB%8B%A4\" aria-label=\"이 문건은 과거 hexo 블로그 2021 10 04 에서 이동된 문서입니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이 문건은 과거 Hexo 블로그 (2021-10-04) 에서 이동된 문서입니다.</h3>\n<h4 id=\"시간이-지남에-따라-최신-기술과-다를-수-있으니-주의-바랍니다\" style=\"position:relative;\"><a href=\"#%EC%8B%9C%EA%B0%84%EC%9D%B4-%EC%A7%80%EB%82%A8%EC%97%90-%EB%94%B0%EB%9D%BC-%EC%B5%9C%EC%8B%A0-%EA%B8%B0%EC%88%A0%EA%B3%BC-%EB%8B%A4%EB%A5%BC-%EC%88%98-%EC%9E%88%EC%9C%BC%EB%8B%88-%EC%A3%BC%EC%9D%98-%EB%B0%94%EB%9E%8D%EB%8B%88%EB%8B%A4\" aria-label=\"시간이 지남에 따라 최신 기술과 다를 수 있으니 주의 바랍니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>시간이 지남에 따라 최신 기술과 다를 수 있으니 주의 바랍니다.</h4>\n<hr>\n<br>\n<h1 id=\"iterm2-에서-경로가-깨저서-나오는-경우\" style=\"position:relative;\"><a href=\"#iterm2-%EC%97%90%EC%84%9C-%EA%B2%BD%EB%A1%9C%EA%B0%80-%EA%B9%A8%EC%A0%80%EC%84%9C-%EB%82%98%EC%98%A4%EB%8A%94-%EA%B2%BD%EC%9A%B0\" aria-label=\"iterm2 에서 경로가 깨저서 나오는 경우 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>iTerm2 에서 경로가 깨저서 나오는 경우</h1>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 300px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 46.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAByklEQVQoz42Qu24TURRFLQpQaECyhATyI7E9c+fO2DMTex5+xR4njl+JLTuxHSeKwIlQutDQIYp8AC01BaKloaKCX+AL+AJa2oVmYiQSmhRLW/ucq62zb8zQiwjVQlVMNGETerPgoioFROiNEpq2GWkh70R7IaxIQ3S5iQz3Kx9rBHv09+ZM50um8xeY9hbtzoTD2XPGozndzohBf4IuXfxKO5ovTs4pOgH7oyPmizP2RwtMu44iHGKuH9Bs9ajV21Sq26Q3DKRepDc44Pz1Ff3TS7qnl5RaE4x8mePjM+ZHS0yrSq3eods/YKvRw7RqCM0h9ujxE+LxOJ7nkUwmyeZyWGaBe/fX8K8+Ebz/zuTbb4Yff2D2l+zMLthtj1A1F0WUyCpFVFFCSBdN964DM5kNur0OqVSKZtAkCBo8WHuI9/YDjXdfGH/9xfjzT4rTVwwv3jDoTRC6FwXIlUZIl1hOtUkkBU+f5Uiv66TSkkRCZT1bwGwdYndOKA1fYm3PEEYZx9+hXN1F1ZxVyE1iUvfR82X0fAVplCNCLw0fodioOQs1k0dVLDTpRDVD/l70X2A4jPrf4vpPfDTjH+TNerfDVoEed8O907s/3ZsoC4m203QAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/89ea8d7a2bdc7f71e96c6ca7ccd004d6/7c297/img_01.webp 180w,\n/static/89ea8d7a2bdc7f71e96c6ca7ccd004d6/77434/img_01.webp 300w\"\n              sizes=\"(max-width: 300px) 100vw, 300px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/89ea8d7a2bdc7f71e96c6ca7ccd004d6/e9ea2/img_01.png 180w,\n/static/89ea8d7a2bdc7f71e96c6ca7ccd004d6/a8a0d/img_01.png 300w\"\n            sizes=\"(max-width: 300px) 100vw, 300px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/89ea8d7a2bdc7f71e96c6ca7ccd004d6/a8a0d/img_01.png\"\n            alt=\"img 01\"\n            title=\"img 01\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<p>위와 같이 깨질 경우 설정에서 폰트를 바꿔주면 된다.</p>\n<blockquote>\n<p>Preferences(command + ,) -> Profiles 탭 -> Text 항목 -> Font를 변경</p>\n</blockquote>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50.55555555555556%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABhUlEQVQoz21Si26DMBDr//9bNTpGt1JCwiMp4VVYp6pvT77SatOGZN1xBMd2MvNlidpa1M6BvcsyNM7JjJXgjGg3G3RVhd57bOv6WR/g+4zNYyEJN3kuHzhrJ8Kf5DKfwHk3/cv3oa4x2w0DDvs9zscjLqeTgD3BH5ZBgDJNYY2RzUwco1AKuVJSizSVWbpaicpZ4z2UUtj2PcZxxDgMUr92O9l1HUVityoKId7QunOiZuu9bJolCZwxd4VUd6Sq8/kPGMHrfI5wPodZr1FqLfYKraHjGM1k200xiUJa+++5Xa+yOAoCvC8WeHt5kZ62SZApJQf52ffYNg3GrrsfyulwuBPcbk88CKkwChZiSXJLEjTWoiKpMbBaSwzM8Wn5NCl8Ek31ernICfrcIFlGWIUhPsJQrFNh5z06XpW6lkqVvywL0UT2IKTCeLmAzTRa79FUFUySIEtTIWGG3loB7YvlMs8lB6JyDkZrFAy5bWXB8jWU/IpUiXVeD1pkBM2P+8mep/4NvKrqWvXst04AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/ad5b471c96e080186c5df706ce07264b/7c297/img_02.webp 180w,\n/static/ad5b471c96e080186c5df706ce07264b/33ecc/img_02.webp 360w,\n/static/ad5b471c96e080186c5df706ce07264b/df77d/img_02.webp 720w,\n/static/ad5b471c96e080186c5df706ce07264b/5c666/img_02.webp 1080w,\n/static/ad5b471c96e080186c5df706ce07264b/95f20/img_02.webp 1440w,\n/static/ad5b471c96e080186c5df706ce07264b/d769a/img_02.webp 1866w\"\n              sizes=\"(max-width: 720px) 100vw, 720px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/ad5b471c96e080186c5df706ce07264b/e9ea2/img_02.png 180w,\n/static/ad5b471c96e080186c5df706ce07264b/53918/img_02.png 360w,\n/static/ad5b471c96e080186c5df706ce07264b/242a6/img_02.png 720w,\n/static/ad5b471c96e080186c5df706ce07264b/b4ad3/img_02.png 1080w,\n/static/ad5b471c96e080186c5df706ce07264b/89066/img_02.png 1440w,\n/static/ad5b471c96e080186c5df706ce07264b/c3aa1/img_02.png 1866w\"\n            sizes=\"(max-width: 720px) 100vw, 720px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/ad5b471c96e080186c5df706ce07264b/242a6/img_02.png\"\n            alt=\"img 02\"\n            title=\"img 02\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<p>위와 같이 변경한 경우 깨지는것은 사라진다.</p>","frontmatter":{"date":"2021.10.04","title":"iTerm2에서 경로가 깨져서 나오는경우","categories":"tools","emoji":"📜"},"fields":{"slug":"/tools/211004_iterm2_font/"}},"prev":{"id":"b6acc7d1-b7ac-54d3-b1e1-8e11b0eb224f","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAECAwX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHt01Eg/8QAFxABAQEBAAAAAAAAAAAAAAAAAQIAIP/aAAgBAQABBQKlMVXP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGRAAAQUAAAAAAAAAAAAAAAAAIQABAhEg/9oACAEBAAY/Ag1oxz//xAAbEAABBAMAAAAAAAAAAAAAAAARAAEgIUFRkf/aAAgBAQABPyEAUn4szvUf/9oADAMBAAIAAwAAABAwD//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABoQAQEAAgMAAAAAAAAAAAAAAAERACEgMXH/2gAIAQEAAT8QCuYMTSdtxKAa1BD3fH//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/bb33e76bd9db94cffcc5ccf708664183/7c297/thumbnail.webp 180w,\n/static/bb33e76bd9db94cffcc5ccf708664183/33ecc/thumbnail.webp 360w,\n/static/bb33e76bd9db94cffcc5ccf708664183/df77d/thumbnail.webp 720w,\n/static/bb33e76bd9db94cffcc5ccf708664183/5c666/thumbnail.webp 1080w,\n/static/bb33e76bd9db94cffcc5ccf708664183/95f20/thumbnail.webp 1440w,\n/static/bb33e76bd9db94cffcc5ccf708664183/0b34d/thumbnail.webp 1920w\"\n              sizes=\"(max-width: 720px) 100vw, 720px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/bb33e76bd9db94cffcc5ccf708664183/98e5d/thumbnail.jpg 180w,\n/static/bb33e76bd9db94cffcc5ccf708664183/543cd/thumbnail.jpg 360w,\n/static/bb33e76bd9db94cffcc5ccf708664183/20801/thumbnail.jpg 720w,\n/static/bb33e76bd9db94cffcc5ccf708664183/b37e7/thumbnail.jpg 1080w,\n/static/bb33e76bd9db94cffcc5ccf708664183/33266/thumbnail.jpg 1440w,\n/static/bb33e76bd9db94cffcc5ccf708664183/aaf92/thumbnail.jpg 1920w\"\n            sizes=\"(max-width: 720px) 100vw, 720px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/bb33e76bd9db94cffcc5ccf708664183/20801/thumbnail.jpg\"\n            alt=\"thumbnail\"\n            title=\"thumbnail\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<h1 id=\"220925-내용-추가\" style=\"position:relative;\"><a href=\"#220925-%EB%82%B4%EC%9A%A9-%EC%B6%94%EA%B0%80\" aria-label=\"220925 내용 추가 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>22.09.25 내용 추가</h1>\n<p>여기서 진행한 방식의 경우 <strong>standalone</strong> 방식이다.<br>\n이 방식은 80포트를 강제로 내려서 인증 대상이 진짜 사용하는 서비스인지를 체크하기에 매우 비효율적인 방식이다.</p>\n<p>최근 방식의 경우 Webroot나 DNS 인증을 사용하는데, 이번에 DNS 인증에 대하여 포스팅을 진행했다.<br>\nWebroot도 사용하지만 와일드카드(ex: *.api.com 등) 인증이 불가하기 때문에 DNS 인증을 사용할 것을 추천한다.<br>\nDNS 인증 방식이 필요한 경우 아래 포스팅을 참고하자.</p>\n<p><a href=\"https://elfinlas.github.io/letsencrypt/220923_use-letsencrypt\">LetsEncrypt 적용법 (DNS 인증 &#x26; AWS)</a></p>\n<br>\n<h2 id=\"letsencrypt\" style=\"position:relative;\"><a href=\"#letsencrypt\" aria-label=\"letsencrypt permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Let’sEncrypt?</h2>\n<p>이번에 서비스를 준비하면서 EC2에서 하나씩 올려서 해보기로 했다.</p>\n<p>사실 AWS 기반이라 로드벨런서에 인증서 물리면 되는데…<br>\n전에 해보던게 생각 나기도 했고..</p>\n<p>일단 서비스 규모가 더 커지면 그 때 안정적으로 가고 지금은 빌드업 수준으로 해보기로 했다.</p>\n<p>일단 뭐 <strong>Let’sEncrypt</strong>에 대한 자세한 것은 이미 알고 있다는 가정 하에 바로 설치법부터 들어간다.</p>\n<p>그 전에 환경은..</p>\n<blockquote>\n<p>AWS 기반 EC2 Ubuntu 20.04 LTS 기준으로 작업을 진행<br>\nNginx 사용 &#x3C;- 중요하진 않음</p>\n</blockquote>\n<br>\n<h3 id=\"part-1-설치-커맨드\" style=\"position:relative;\"><a href=\"#part-1-%EC%84%A4%EC%B9%98-%EC%BB%A4%EB%A7%A8%EB%93%9C\" aria-label=\"part 1 설치 커맨드 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Part 1 설치 커맨드</h3>\n<p>아래의 커맨드로 하나씩 진행하였다</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo apt update\nsudo snap install core; sudo snap refresh core\nsudo apt-get remove certbot\nsudo snap install --classic certbot # 설치\nsudo ln -s /snap/bin/certbot /usr/bin/certbot # 링크\nsudo certbot certonly --email [인증에 사용할 이메일] --standalone -d [적용할 도메인]  실행</code></pre></div>\n<p>커맨드 설명은 아래와 같다</p>\n<p>1번 : 설치 전 업데이트 처리<br>\n2번 : 필요한 것들 설치<br>\n3번 : 기존에 설치된 certbot이 있다면 제거<br>\n4번 : certbot 설치<br>\n5번 : 심볼릭 링크 생성<br>\n6번 인증서 만드는데 email은 인증에 대한 대표자 메일(필자는 주로 쓰는 메일 사용)을 적고 -d는 적용할 도메인을 적어준다 (elfinlas.io.xx 등)</p>\n<p>6번 명령어 이후 아래와 같이 뜨면 정상적으로 된 것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">ubuntu@ip$ sudo certbot certonly --email test@test.com --standalone -d dev.net\nSaving debug log to /your/some/path/letsencrypt.log\nRequesting a certificate for dev.net\n\nSuccessfully received certificate.\nCertificate is saved at: /your/some/path/letsencrypt/live/dev.net/fullchain.pem\nKey is saved at:         /your/some/path/letsencrypt/live/dev.net/privkey.pem\nThis certificate expires on 9999-99-99. &lt;= 여긴 인증기간은 3개월인가 줘서 사람마다 틀림\nThese files will be updated when the certificate renews.\nCertbot has set up a scheduled task to automatically renew this certificate in the background.\n\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\nIf you like Certbot, please consider supporting our work by:\n * Donating to ISRG / Let's Encrypt:   https://letsencrypt.org/donate\n * Donating to EFF:                    https://eff.org/donate-le\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n</code></pre></div>\n<blockquote>\n<p>커맨드에 대해 좀더 설명이 필요한 분은 <a href=\"https://certbot.eff.org/lets-encrypt/ubuntufocal-other\">이곳</a> 에서 직접 확인해보자</p>\n</blockquote>\n<h3 id=\"part-2-aws-작업\" style=\"position:relative;\"><a href=\"#part-2-aws-%EC%9E%91%EC%97%85\" aria-label=\"part 2 aws 작업 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Part 2 AWS 작업</h3>\n<p>이렇게 진행하고 나서 AWS 콘솔로 가준다.<br>\n콘솔에서는 다음과 같은 절차로 진행한다.</p>\n<ol>\n<li>AWS 콘솔에서 Certificate Manager 이동</li>\n<li>인증서 선택에서 각 항목에 해당 하는 값을 가져온다. (아까 생성한 pem 파일을 사용)\n<ol>\n<li>인증서 본문 => cert.pem</li>\n<li>인증서 프라이빗 => privkey.pem</li>\n<li>인증서 체인 => fullchain.pem</li>\n</ol>\n</li>\n<li>마무리 하면 ec2에 접속해서 콘솔에서 아랴와 같이 nginx를 재시작 해준다.\n<ol>\n<li>sudo service nginx restart</li>\n</ol>\n</li>\n</ol>\n<br>\n<p>아마 다른 블로그에서는 설치법만 나오고 보통 AWS 설명도 약간 부실했는데 직접 찾아보고 적용한 방법이다.</p>\n<p>그리고 기반은 nginx 인데 아파치 쓰거나 다른 미들웨어 쓰시는 분들은 똑같이 서비스만 재시작 하면 된다.</p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#letsencrypt\">Let’sEncrypt?</a></p>\n<ul>\n<li><a href=\"#part-1-%EC%84%A4%EC%B9%98-%EC%BB%A4%EB%A7%A8%EB%93%9C\">Part 1 설치 커맨드</a></li>\n<li><a href=\"#part-2-aws-%EC%9E%91%EC%97%85\">Part 2 AWS 작업</a></li>\n</ul>\n</li>\n</ul>\n</div>","frontmatter":{"date":"2021.11.04","title":"Let'sEncrypt 설치후 AWS에 적용하기","categories":"letsencrypt","emoji":"📜"},"fields":{"slug":"/letsencrypt/211105_letsencrypt-install/"}},"site":{"siteMetadata":{"siteUrl":"https://elfinlas.github.io","comments":{"utterances":{"repo":"elfinlas/blog_utterances"}},"projects":[{"title":"마와셀(웹) - 와인 가격 비교","description":"와인 가격 비교 서비스","techStack":["Typescript","React","Next.Js","Nest.Js"],"thumbnailUrl":"myc_icon.png","links":{"post":"https://blog.naver.com/wisseraph/223393940649","github":"","web":"https://appmyc.info","googlePlay":"","appStore":""}},{"title":"마와셀(엡) - 와인과 셀러 관리, 시음노트","description":"보유한 와인의 관리, 시음노트 작성, 보유 와인 셀러의 관리 어플리케이션","techStack":["Dart","Flutter","hive","provider"],"thumbnailUrl":"myc_icon.png","links":{"post":"https://blog.naver.com/wisseraph/223531933037","github":"","web":"","googlePlay":"https://play.google.com/store/apps/details?id=dev.mhlab.myc","appStore":"https://itunes.apple.com/kr/app/apple-store/6474965246"}},{"title":"흑우집합소(웹) - 로또번호 추천 서비스","description":"로또번호 추천 서비스","techStack":["Typescript","React","Next.Js","Nest.Js"],"thumbnailUrl":"bcow_icon.png","links":{"post":"https://blog.naver.com/wisseraph/223059966682","github":"","web":"https://bcow.world/","googlePlay":"","appStore":""}},{"title":"흑우집합소(앱) - 로또번호 추천 서비스","description":"로또번호 추천 서비스","techStack":["Dart","Flutter","drift","provider"],"thumbnailUrl":"bcow_icon.png","links":{"post":"https://blog.naver.com/wisseraph/223232966579","github":"","web":"","googlePlay":"https://play.google.com/store/apps/details?id=dev.mhlab.bcow_world","appStore":"https://itunes.apple.com/kr/app/apple-store/6470312130"}}]}}},"pageContext":{"slug":"/node-js/211018_yarn_usage_error/","nextSlug":"/tools/211004_iterm2_font/","prevSlug":"/letsencrypt/211105_letsencrypt-install/"}},"staticQueryHashes":["1186322783","1321405810","3649515864"]}