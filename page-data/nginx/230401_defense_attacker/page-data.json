{"componentChunkName":"component---src-templates-post-template-index-tsx","path":"/nginx/230401_defense_attacker/","result":{"data":{"cur":{"id":"88dc838e-7fb7-51b1-8879-691337b52b2c","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIDBf/EABYBAQEBAAAAAAAAAAAAAAAAAAECA//aAAwDAQACEAMQAAAB4zZGdJL/AP/EABoQAAICAwAAAAAAAAAAAAAAAAABAhEQEiH/2gAIAQEAAQUCtibucu6rCP/EABYRAQEBAAAAAAAAAAAAAAAAAAAREv/aAAgBAwEBPwHSv//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAECAQE/Aar/xAAZEAEBAAMBAAAAAAAAAAAAAAABABAhIjH/2gAIAQEABj8C9jbcsxj/xAAbEAACAwADAAAAAAAAAAAAAAABEQAhMVFhkf/aAAgBAQABPyFI37Hs6XdRgYdS0FCFXiAC3P/aAAwDAQACAAMAAAAQwP8A/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERUf/aAAgBAwEBPxCMEp//xAAWEQEBAQAAAAAAAAAAAAAAAAAAARH/2gAIAQIBAT8QykP/xAAZEAEBAQEBAQAAAAAAAAAAAAABEQAhQXH/2gAIAQEAAT8QWGInt4cFCtTFPPmByQI0na/PJjksDmFCgeuuMhYzu//Z'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/498bbc62b7c7109bb1e79faf8d355cb5/7c297/thumbnail_nginx.webp 180w,\n/static/498bbc62b7c7109bb1e79faf8d355cb5/33ecc/thumbnail_nginx.webp 360w,\n/static/498bbc62b7c7109bb1e79faf8d355cb5/84c6d/thumbnail_nginx.webp 700w\"\n              sizes=\"(max-width: 700px) 100vw, 700px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/498bbc62b7c7109bb1e79faf8d355cb5/98e5d/thumbnail_nginx.jpg 180w,\n/static/498bbc62b7c7109bb1e79faf8d355cb5/543cd/thumbnail_nginx.jpg 360w,\n/static/498bbc62b7c7109bb1e79faf8d355cb5/40619/thumbnail_nginx.jpg 700w\"\n            sizes=\"(max-width: 700px) 100vw, 700px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/498bbc62b7c7109bb1e79faf8d355cb5/40619/thumbnail_nginx.jpg\"\n            alt=\"thumbnail\"\n            title=\"thumbnail\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<h1 id=\"ì„œë¹„ìŠ¤ë¥¼-ì—´ì–´ë‘ë©´\" style=\"position:relative;\"><a href=\"#%EC%84%9C%EB%B9%84%EC%8A%A4%EB%A5%BC-%EC%97%B4%EC%96%B4%EB%91%90%EB%A9%B4\" aria-label=\"ì„œë¹„ìŠ¤ë¥¼ ì—´ì–´ë‘ë©´ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì„œë¹„ìŠ¤ë¥¼ ì—´ì–´ë‘ë©´â€¦</h1>\n<p>ì˜¤í”ˆì„ í•˜ê³ ë‚˜ë©´ ì •ë§ ë§ì€ ì¼ë“¤ì´ ìƒê¸´ë‹¤.<br>\në„ë©”ì¸ ì£¼ì†Œë¥¼ ì–´ë–»ê²Œ ì•Œê³  ì´ìƒí•œ ë©”ì¼ë“¤ë„ ì˜¤ê³ , ë‹¤ì–‘í•œ ë°©ë²•ìœ¼ë¡œ ì—°ë½ì´ ì˜¨ë‹¤. -_-;;</p>\n<p>ê·¸ë˜ë´¤ì ë„·ìƒì´ë‹ˆê¹Œ?<br>\nê·¼ë° ì´ì œ ì„œë¹„ìŠ¤ ì ‘ê·¼ ë¡œê·¸ ë˜ëŠ” nginxì— ì ‘ê·¼ ë¡œê·¸ë¥¼ ë³´ë©´ ëŒ€í™˜ì¥ íŒŒí‹°ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">128.90.135.254 - - [04/Feb/2023:14:03:43 +0000] \"GET / HTTP/1.1\" 301 178 \"-\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:108.0) Gecko/20100101 Firefox/108.0\"\n159.223.56.86 - - [04/Feb/2023:14:17:38 +0000] \"GET / HTTP/1.1\" 301 178 \"-\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36\"\n20.231.80.56 - - [04/Feb/2023:14:24:53 +0000] \"GET /wp-login.php HTTP/1.1\" 301 178 \"-\" \"Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36\"\n109.237.98.53 - - [04/Feb/2023:14:41:09 +0000] \"GET /.env HTTP/1.1\" 301 178 \"-\" \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.129 Safari/537.36\"\n109.237.98.53 - - [04/Feb/2023:14:41:10 +0000] \"POST /.env HTTP/1.1\" 301 178 \"-\" \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.129 Safari/537.36\"\n109.237.98.53 - - [04/Feb/2023:14:41:10 +0000] \"GET /.aws/credentials HTTP/1.1\" 301 178 \"-\" \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.129 Safari/537.36\"\n109.237.98.53 - - [04/Feb/2023:14:41:11 +0000] \"POST /.aws/credentials HTTP/1.1\" 301 178 \"-\" \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.129 Safari/537.36\"\n109.237.98.53 - - [04/Feb/2023:14:41:12 +0000] \"GET /.aws/config HTTP/1.1\" 301 178 \"-\" \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.129 Safari/537.36\"\n109.237.98.53 - - [04/Feb/2023:14:41:12 +0000] \"POST /.aws/config HTTP/1.1\" 301 178 \"-\" \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.129 Safari/537.36\"\n109.237.98.53 - - [04/Feb/2023:14:41:13 +0000] \"GET /aws/credentials HTTP/1.1\" 301 178 \"-\" \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.129 Safari/537.36\"\n109.237.98.53 - - [04/Feb/2023:14:41:14 +0000] \"POST /aws/credentials HTTP/1.1\" 301 178 \"-\" \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.129 Safari/537.36\"\n109.237.98.53 - - [04/Feb/2023:14:41:14 +0000] \"GET /credentials HTTP/1.1\" 301 178 \"-\" \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.129 Safari/537.36\"\n109.237.98.53 - - [04/Feb/2023:14:41:15 +0000] \"POST /credentials HTTP/1.1\" 301 178 \"-\" \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.129 Safari/537.36\"\n109.237.98.53 - - [04/Feb/2023:14:41:16 +0000] \"GET /test.php HTTP/1.1\" 301 178 \"-\" \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.129 Safari/537.36\"\n109.237.98.53 - - [04/Feb/2023:14:41:16 +0000] \"POST /test.php HTTP/1.1\" 301 178 \"-\" \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.129 Safari/537.36\"\n109.237.98.53 - - [04/Feb/2023:14:41:17 +0000] \"GET /laravel/.env HTTP/1.1\" 301 178 \"-\" \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.129 Safari/537.36\"\n109.237.98.53 - - [04/Feb/2023:14:41:17 +0000] \"POST /laravel/.env HTTP/1.1\" 301 178 \"-\" \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.129 Safari/537.36\"\n109.237.98.53 - - [04/Feb/2023:14:41:18 +0000] \"GET /demo/.env HTTP/1.1\" 301 178 \"-\" \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.129 Safari/537.36\"\n109.237.98.53 - - [04/Feb/2023:14:41:19 +0000] \"POST /demo/.env HTTP/1.1\" 301 178 \"-\" \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.129 Safari/537.36\"\n109.237.98.53 - - [04/Feb/2023:14:41:19 +0000] \"GET /web/.env HTTP/1.1\" 301 178 \"-\" \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.129 Safari/537.36\"\n109.237.98.53 - - [04/Feb/2023:14:41:20 +0000] \"POST /web/.env HTTP/1.1\" 301 178 \"-\" \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.129 Safari/537.36\"\n109.237.98.53 - - [04/Feb/2023:14:41:21 +0000] \"GET /phpinfo HTTP/1.1\" 301 178 \"-\" \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.129 Safari/537.36\"\n109.237.98.53 - - [04/Feb/2023:14:41:21 +0000] \"POST /phpinfo HTTP/1.1\" 301 178 \"-\" \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.129 Safari/537.36\"\n178.62.72.53 - - [04/Feb/2023:20:28:52 +0000] \"GET / HTTP/1.1\" 301 178 \"-\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36\"\n159.223.56.86 - - [04/Feb/2023:23:44:00 +0000] \"GET / HTTP/1.1\" 301 178 \"-\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36\"\n165.227.89.199 - - [05/Feb/2023:00:23:58 +0000] \"GET / HTTP/1.1\" 301 178 \"-\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36\"\n159.223.56.86 - - [05/Feb/2023:01:15:39 +0000] \"GET / HTTP/1.1\" 301 178 \"-\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36\"\n5.62.58.235 - - [05/Feb/2023:02:16:29 +0000] \"GET / HTTP/1.1\" 301 178 \"-\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36\"\n205.210.31.157 - - [05/Feb/2023:04:08:24 +0000] \"GET / HTTP/1.1\" 301 178 \"-\" \"Xpanse, a Palo Alto Networks company, indexes customer network perimeters. If you have any questions or concerns, please reach out to: scaninfo@paloaltonetworks.com.\"</code></pre></div>\n<br>\n<p>ì´ê±´ ë‚´ Nginx ì ‘ê·¼ ê¸°ë¡ì—ì„œ ë”°ì˜¨ ë¡œê·¸ ì¤‘ ì¼ë¶€ë‹¤.<br>\nì €ê¸° <strong>109.237.98.53</strong>IP ì ‘ê·¼ì„ ë³´ë¼.</p>\n<p>íŒŒì´ì¬ì´ë‚˜ ê¸°íƒ€ ì–¸ì–´ë¡œ ë´‡ ë§Œë“¤ì–´ì„œ ì·¨ì•½ì ì„ ì—´ì‹¬íˆ ì°¾ëŠ”â€¦<br>\nì°¸ ë¶€ì§€ëŸ°í•˜ë‹¤â€¦</p>\n<p>ë‚œ ê²Œì„ëŸ¬ì„œ ì €ëŸ° ë…¸ë ¥ë„ ëª»í•  ë“¯ ì‹¶ë‹¤ -_-;;<br>\në¬´íŠ¼ ì„œë¹„ìŠ¤ê°€ ì˜¤í”ˆë˜ë©´ ì–´ë–»ê²Œë“¤ ê·€ì‹ ê°™ì´ ì•Œê³  ì €ë ‡ê²Œ ì˜¨ë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 103.33333333333331%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAVABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAQC/8QAFQEBAQAAAAAAAAAAAAAAAAAAAQD/2gAMAwEAAhADEAAAAZM3ylOsNqUGgR//xAAcEAACAgMBAQAAAAAAAAAAAAAAAQIDERITITL/2gAIAQEAAQUC4WjosOEzd5hN7tmPYfbR/8QAFhEBAQEAAAAAAAAAAAAAAAAAEQAQ/9oACAEDAQE/ASN//8QAFhEBAQEAAAAAAAAAAAAAAAAAEQAQ/9oACAECAQE/AWd//8QAGhAAAQUBAAAAAAAAAAAAAAAAAAEQEUGR4f/aAAgBAQAGPwLpWlNCtLVh/8QAHBAAAgICAwAAAAAAAAAAAAAAAAERMSFRQWHw/9oACAEBAAE/Id7Q2g8GUJGGr7ZC6MG5QLLDWw//2gAMAwEAAgADAAAAEPvIAv/EABYRAAMAAAAAAAAAAAAAAAAAAAAQEf/aAAgBAwEBPxBlP//EABcRAAMBAAAAAAAAAAAAAAAAAAABERD/2gAIAQIBAT8QVlCz/8QAHBABAQACAwEBAAAAAAAAAAAAAREAUTFB4SFh/9oACAEBAAE/ECh8Pc8Yz4oHT4xNkz5G6pMcKJTRomFFXHWIF5RNZCsmkygVP76z/9k='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/3e4311ec4e2b3062af0e05a248a4cac2/7c297/img01.webp 180w,\n/static/3e4311ec4e2b3062af0e05a248a4cac2/33ecc/img01.webp 360w,\n/static/3e4311ec4e2b3062af0e05a248a4cac2/df77d/img01.webp 720w,\n/static/3e4311ec4e2b3062af0e05a248a4cac2/5ce83/img01.webp 1032w\"\n              sizes=\"(max-width: 720px) 100vw, 720px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/3e4311ec4e2b3062af0e05a248a4cac2/98e5d/img01.jpg 180w,\n/static/3e4311ec4e2b3062af0e05a248a4cac2/543cd/img01.jpg 360w,\n/static/3e4311ec4e2b3062af0e05a248a4cac2/20801/img01.jpg 720w,\n/static/3e4311ec4e2b3062af0e05a248a4cac2/1c049/img01.jpg 1032w\"\n            sizes=\"(max-width: 720px) 100vw, 720px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/3e4311ec4e2b3062af0e05a248a4cac2/20801/img01.jpg\"\n            alt=\"img01\"\n            title=\"img01\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<br>\n<p>ë¬´íŠ¼ ì˜ˆì „ë¶€í„° ë‚˜ëŠ” ì´ê±¸ ë³´í˜¸í•  ë°©ë²•ì„ ì°¾ì•˜ê³  ì ìš©í–ˆì—ˆë‹¤.<br>\nê·¸ë¦¬ê³  í¬ìŠ¤íŒ… í•´ì•¼ì§€ í•˜ë‹¤ê°€..(ì•„ë§ˆ í‘ìš°ì§‘í•©ì†Œ 1ì„¸ëŒ€ì¯¤ì´ì—ˆâ€¦)</p>\n<p>ê·¸ë˜ì„œ ì´ê±¸ ì´ì œì•¼ í¬ìŠ¤íŒ… í•´ë³¸ë‹¤.</p>\n<h2 id=\"how-to\" style=\"position:relative;\"><a href=\"#how-to\" aria-label=\"how to permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>How To?</h2>\n<p>ì¼ë‹¨ nginxê°€ ì„¤ì¹˜ë˜ì–´ ìˆë‹¤ëŠ” ê²ƒì„ ê°€ì •í•œë‹¤.<br>\nnginxì˜ ê¸°ë³¸ ì„¤ì • íŒŒì¼ì„ vimì´ë˜ ì›í•˜ëŠ” í¸ì§‘ê¸°ë¡œ ì—°ë‹¤.</p>\n<p>ë³´í†µì€ ê²½ë¡œê°€ <strong>/etc/nginx/nginx.conf</strong> ì¼ê±°ë‹¤.<br>\në¬¼ë¡  ë³´ì•ˆì„ ìƒê°í•˜ë©´ ë‹¤ë¥¸ ì¥ì†Œë¡œ ì˜®ê²¨ë‘” ì‚¬ëŒë„ ìˆê² ì§€ë§Œâ€¦</p>\n<p>ì´ confíŒŒì¼ì— ì‘ì„±í•´ë„ ì¢‹ì§€ë§Œ ë‚˜ ê°™ì€ ê²½ìš° ë”°ë¡œ ë¹¼ë’€ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">http {\n    ## Some Config\n\n    ## ë³„ë„ ê²½ë¡œë¡œ ë¹¼ë‘” ì„¤ì •íŒŒì¼ë“¤\n\tinclude /home/mymy/nginx/ip-block-list.conf;  #ip block\n  \tinclude /home/mymy/nginx/hack_word.conf; #Hack word\n  \tinclude /home/mymy/nginx/ip-range-block-list.conf; #ip range block\n}</code></pre></div>\n<p>ì € ì„¤ì •íŒŒì¼ë“¤ì€ nginxì—ì„œ ì‚¬ìš©í•  ë³€ìˆ˜ë¥¼ ë§Œë“¤ì–´ ë‘” íŒŒì¼ë“¤ì´ë‹¤.<br>\nê·¸ë¦¬ê³  ì € ì„¤ì •íŒŒì¼ë“¤ì€ ì•„ë˜ì„œ ë” ìì„¸í•˜ê²Œ ì„¤ëª…í•˜ê² ë‹¤.</p>\n<br>\n<h3 id=\"ê°œë³„-ip-ë§‰ê¸°\" style=\"position:relative;\"><a href=\"#%EA%B0%9C%EB%B3%84-ip-%EB%A7%89%EA%B8%B0\" aria-label=\"ê°œë³„ ip ë§‰ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê°œë³„ IP ë§‰ê¸°</h3>\n<p>ìœ„ì˜ <strong>ip-block-list.conf</strong> íŒŒì¼ì—ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ë˜ì–´ ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">geo $bad_ip {\n    5.62.41.163 1;\n    5.62.58.235 1;\n    default 0;\n}</code></pre></div>\n<p>ìƒë‹¨ì— geoë¥¼ ì ê³  **$**í‘œì‹œê°€ ë³€ìˆ˜ ì´ë¦„ì´ë‹¤.<br>\nê·¸ë¦¬ê³  ì•ˆì— ê°’ì€ ë°´ ì‹œí‚¬ ipëŠ” 1ì„ ì£¼ê³ , ê·¸ ì™¸ëŠ” í—ˆìš©í•˜ë ¤ í•˜ê¸°ì— 0ì„ ì¤¬ë‹¤.</p>\n<p>ì—¬ê¸°ê¹Œì§€ í•˜ê³  ë˜ë©´ ì°¸ ì¢‹ê² ì§€ë§Œâ€¦<br>\nì´ì œ ëª‡ ê°€ì§€ ì„¤ì •ì´ ë‚¨ì•˜ë‹¤.</p>\n<p>ë‹¤ì‹œ nginx.conf íŒŒì¼ì„ ì—´ê±°ë‚˜ ìì‹ ì˜ ì„œë¹„ìŠ¤ì— ë§ëŠ” ì„¤ì •ì„ ë¹¼ë’€ìœ¼ë©´ ê·¸ configë¥¼ ì—´ì–´ì¤€ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">server {\n  #ê¸°ë³¸ ì„¤ì •\n  listen 80;\n  listen [::]:80;\n  root /var/www/html;\n\n  server_name bcow.world;\n\n  #Ban black ip\n  if ($bad_ip) { return 444; }\n\n  #Ban ip range\n  if ($bad_ip_range) { return 444;  }\n\n  #íŠ¹ì • url íŒ¨í„´ì„ ê±°ë¶€\n  if ($bad_word = 1) { return 444; }\n\n  underscores_in_headers    on;  #1. ì–¸ë”í˜•ì‹ì˜ í—¤ë”ë¥¼ í—ˆìš© í•©ë‹ˆë‹¤.\n\n  #ì‹¤ì œ ì‚¬ìš© ì²˜ë¦¬\n  location / {\n    proxy_set_header Range $saferange;\n\n    proxy_pass http://localhost:11122334;\n    proxy_pass_request_headers\ton; ## ìš”ì²­ í—¤ë” ë°”ë¡œ ì „ë‹¬\n  }\n}</code></pre></div>\n<p>ì„¤ì •ì„ ì €ë ‡ê²Œ í•´ì£¼ë©´ ëœë‹¤.<br>\n<strong>if ($bad_ip) { return 444; }</strong> ì´ ì„¤ì •ìœ¼ë¡œ ì¸í•´,<br>\ní•´ë‹¹ IPëŠ” 444ì‘ë‹µâ€¦ ì¦‰ ì•„ë¬´ ì‘ë‹µë„ ëª»ë°›ê³  ì£½ì€ ì„œë²„ë¼ëŠ” ì‘ë‹µì„ ë°›ê²Œ ëœë‹¤.</p>\n<p>ë§Œì•½ íŠ¹ì • Ip ì˜ì—­ëŒ€ë¥¼ ë°´ ì‹œí‚¤ê³  ì‹¶ë‹¤ë©´?</p>\n<br>\n<h3 id=\"ip-classë¡œ-ë§‰ê¸°\" style=\"position:relative;\"><a href=\"#ip-class%EB%A1%9C-%EB%A7%89%EA%B8%B0\" aria-label=\"ip classë¡œ ë§‰ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>IP Classë¡œ ë§‰ê¸°</h3>\n<p>IPëŠ” ì•Œë‹¤ì‹œí”¼ Aí´ë˜ìŠ¤, Bí´ë˜ìŠ¤, Cí´ë˜ìŠ¤ ì˜ì—­ìœ¼ë¡œ ë‚˜ëˆ ì ¸ìˆë‹¤.<br>\nê·¸ë¦¬ê³  ì„œë¸Œë„· ë“±ë“±â€¦</p>\n<p>ìì„¸í•œ ê±´ ë„¤íŠ¸ì›Œí¬ ìª½ ì°¾ì•„ë³´ê±°ë‚˜ ì‹œìŠ¤ì½”ì˜ CCNA ìê²©ì¦ ê³µë¶€í•˜ë©´ ì¤„ê¸°ì°¨ê²Œ ë‚˜ì˜¨ë‹¤.<br>\në¬´íŠ¼â€¦</p>\n<p>ì´ë²ˆì—” ìœ„ì—ì„œ ì„¤ëª…ëœ <strong>ip-range-block-list.conf</strong> ì„¤ì •ì„ ì—´ëŒí•´ë³´ì</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">geo $bad_ip_range {\n\t# A\n\t103.0.0.0/8 1; #VN-21-11-29\n  \t185.0.0.0/8 1; #DE-21-12-27\n\n    # B\n  \t5.161.0.0/16 1; #22-01-02\n  \t45.83.0.0/16 1; #log4j\n\n    # C\n  \t77.111.247.0/24 1; #NO-21-12-16\n  \t167.172.62.0/24 1; #22-01-02\n\n    default 0;\n}</code></pre></div>\n<p>ì–˜ë„ ì•„ê¹Œ ë‹¨ì¼ Ipë‘ ê°™ì€ ì„¤ì •ì„ ê°€ì§„ë‹¤.<br>\në‹¨ì§€ Aí´ë˜ìŠ¤ì¼ ê²½ìš° ì• ëŒ€ì—­ ì£¼ì†Œë¥¼ ì ê³  ë‚˜ë¨¸ì§„ 0.0.0 ì¦‰ í•´ë‹¹ ë„¤íŠ¸ì›Œí¬ ì£¼ì†Œ(ì‹œì‘ ì£¼ì†Œ)ë¥¼ ì ì–´ë‘”ë‹¤.</p>\n<p>ê·¸ë¦¬ê³  ë’¤ì— ì„œë¸Œë„·ì„ ì…ë ¥í•œë‹¤.<br>\nAí´ë˜ìŠ¤ë‹ˆê¹Œ ë‹¹ì—° ì„œë¸Œë„·ì€ 8ì´ë‹¤.</p>\n<p>Bë‘ CëŠ” Aë‘ ê°™ê¸°ì— ì„¤ëª…ì€ ìƒëµí•œë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 199px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 127.22222222222224%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAZABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAQFAwb/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAFa6hQNREJ1XnaQmNB//8QAHhAAAwACAQUAAAAAAAAAAAAAAQIDABIEEyIxMjT/2gAIAQEAAQUCdjbJDWC7YEIsGdlej7pXvk/TlVy1X88n5p+n/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAHhAAAgIBBQEAAAAAAAAAAAAAAQIAESEDEBJBcTH/2gAIAQEABj8CZaJfliKFHUzHr7AVHsNairXRjc8FoS5wIxCxpp+7f//EAB0QAAMAAgIDAAAAAAAAAAAAAAABESExQVEQYfD/2gAIAQEAAT8hq9g466HziZLmmJ5bLoxadEqVdmyNRNAu7IGNLngve03trxPl9Go//9oADAMBAAIAAwAAABDTCwz/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/EB//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/EB//xAAhEAEAAgIBAwUAAAAAAAAAAAABABEhMUFRobEQYYGRwf/aAAgBAQABPxBospgxaldoH1nirBn5u4k1ToPBFwC0G7d59mdXHwqmkD7zKHEWC9F8dWK4NrrOj8IHDnVbb0dW2WFXilcE7h8zuHl6f//Z'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/0d97179dbf34cf3d16f524aa7fce4407/7c297/img04.webp 180w,\n/static/0d97179dbf34cf3d16f524aa7fce4407/cb05f/img04.webp 199w\"\n              sizes=\"(max-width: 199px) 100vw, 199px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/0d97179dbf34cf3d16f524aa7fce4407/98e5d/img04.jpg 180w,\n/static/0d97179dbf34cf3d16f524aa7fce4407/ac59e/img04.jpg 199w\"\n            sizes=\"(max-width: 199px) 100vw, 199px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/0d97179dbf34cf3d16f524aa7fce4407/ac59e/img04.jpg\"\n            alt=\"img04\"\n            title=\"img04\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<p>ë¬´íŠ¼ ì´ê²ƒë„ ë³€ìˆ˜ë¥¼ ì„ ì–¸í•˜ê³  ë©”ì¸ ì„¤ì •ì—ì„œ ë‹¨ì¼ Ip ë°´ì‹œí‚¤ë“¯ ì•„ë˜ ì„¤ì •ì„ ë‘ë©´ ëœë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">#Ban ip range\n  if ($bad_ip_range) { return 444;  }</code></pre></div>\n<p>ê·¼ë° ì´ ë¸”ë¡ IpëŠ” ì˜ë³´ê³  ë§‰ì.<br>\nê°€ë” Bí´ë˜ìŠ¤ê°€ ê°™ì€ê±° ê°™ì•„ì„œ ë§‰ ë§‰ë‹¤ë³´ë©´ ì—„í•œ ì˜ì—­ë„ ë§‰ì„ ìˆ˜ ìˆë‹¤.</p>\n<p>ê·¸ë˜ì„œ ipì¡°íšŒ ì„œë¹„ìŠ¤ ë“±ì„ ì¡°íšŒí•´ì„œ ëŒ€ìƒ Bí´ë˜ìŠ¤ ì£¼ì†Œê°€ ê°™ì€ ì§€ì—­ ê°™ì€ í˜¸ìŠ¤íŠ¸,<br>\në¹„ìŠ·í•œ ê²ƒ ê°™ìœ¼ë©´ ê·¸ ë•Œ ë§‰ëŠ”ê²Œ ì¢‹ë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 61.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABy0lEQVQoz22TS3LbMBBEdf9L5AC5SKpSWWSdhS1Z4hck8Rn8CEKdmiElO3YWUwAJ4qGnGzytpSCvq1TKGeS9jFut2Lbtvfi5VtRakdYN339XfPtZ0egN91qQSwGzTjEl+agctR4LZdveq2zIa0bOWUY+8Nc54sdLgrIRa04IMUqdrHO4DQqLUnB9jxSCKPkI5AN8IBBZkHcwVsO7CTVbOKef7xw5nLjF16bD+XLFcrshWPtstxytMpDIwXsH5yxGNWLWC8iTgBi4yLPfgX8uN7yeLyClkFP6R+EDGIIXIAOss1CzgjYLQiB5L/MYduC56dC3HRIRSin/BfpjIyt0ZEXRMA6Y5glqntD2HXzw7CGhHRT8PKBsZQ/nQ6qfgVzWGWijBf5Qy0DOY1fY9lBdAz+NiERfUn60zF5xzcsMY43MWS0fEqNHTBEnR4TbMEK9XWD7FnYcQPMs4QRjEJ17KpQknRW/OCQr7R+js4jxAF67Aep6wXJ9g24aeK1FaXAW67qKSgbItaG9TYZz0qz04amEwsCXa4tRT8g57X/F/f7FQ7ketAdijBYPF7OI2t1LswN9CM9f76Nnn4tbYx9jDFK82YuvJHNeSznhLzKUnhxY8kGvAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/dc9ea991615ab825e918c5032c2d0094/7c297/img03.webp 180w,\n/static/dc9ea991615ab825e918c5032c2d0094/33ecc/img03.webp 360w,\n/static/dc9ea991615ab825e918c5032c2d0094/df77d/img03.webp 720w,\n/static/dc9ea991615ab825e918c5032c2d0094/5c666/img03.webp 1080w,\n/static/dc9ea991615ab825e918c5032c2d0094/10f44/img03.webp 1158w\"\n              sizes=\"(max-width: 720px) 100vw, 720px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/dc9ea991615ab825e918c5032c2d0094/e9ea2/img03.png 180w,\n/static/dc9ea991615ab825e918c5032c2d0094/53918/img03.png 360w,\n/static/dc9ea991615ab825e918c5032c2d0094/242a6/img03.png 720w,\n/static/dc9ea991615ab825e918c5032c2d0094/b4ad3/img03.png 1080w,\n/static/dc9ea991615ab825e918c5032c2d0094/69083/img03.png 1158w\"\n            sizes=\"(max-width: 720px) 100vw, 720px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/dc9ea991615ab825e918c5032c2d0094/242a6/img03.png\"\n            alt=\"img03\"\n            title=\"img03\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<p>ì´ê±´ <a href=\"https://ip-api.com/\">IP-API</a>ì‚¬ì´íŠ¸ì—ì„œ ì¡°íšŒí•œ ê²ƒì¸ë° ì €ë ‡ê²Œ ë°‘ì— hostingì´ë¼ ë˜ì–´ ìˆìœ¼ë©´ ì¼ë‹¨ ë§‰ëŠ”ê²Œ ì¢‹ë‹¤.<br>\nê·¸ë¦¬ê³  ì‚¬ì§„ì— ë‚˜ì˜¨ ê²ƒì²˜ëŸ¼ ë¯¸êµ­ì¸ë° asnameì´ í…ì„¼íŠ¸â€¦</p>\n<p>ë¬¼ë¡  í´ë¼ìš°ë“œë¥¼ í†µí•´ ì ‘ê·¼í•´ì„œ ì§€ì—­ì€ ìƒê´€ ì—†ê¸´ í•˜ì§€ë§Œâ€¦<br>\nì¼ë‹¨ ì¤‘êµ­ì€ ë‹¤ ë§‰ì.</p>\n<p>ë‹¤ìŒì€ urlì— íŠ¹ì • í‚¤ì›Œë“œê°€ í¬í•¨ëœ ê²ƒì„ ì¡ëŠ” ê²ƒì„ ì•Œì•„ë³´ì.</p>\n<br>\n<h3 id=\"url-keyword\" style=\"position:relative;\"><a href=\"#url-keyword\" aria-label=\"url keyword permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Url keyword</h3>\n<p>ì´ê²ƒë„ ì›ë¦¬ëŠ” ê°™ë‹¤.<br>\n<strong>hack_word.conf</strong> ì„¤ì • íŒŒì¼ì„ ë³´ì.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">#Request Bad Word\nmap $request_uri $bad_word {\n\tdefault 0;\n\t~*(wp-includes|wlwmanifest|xmlrpc|wordpress|administrator|wp-admin|wp-login|owa|a2billing) 1;\n\t~*(fgt_lang|flu|stalker_portal|streaming|system_api|exporttool|ecp|vendor|LogService|invoke|phpinfo) 1;\n\t~*(Autodiscover|console|eval-stdin|staging|magento|demo|rss|root|mifs|git|graphql|sidekiq|c99|GponForm) 1;\n\t~*(header-rollup-554|fckeditor|ajax|misc|plugins|execute-solution|wp-content|php|telescope) 1;\n\t~*(idx_config|DS_Store|nginx|wp-json|ads|humans|exec|level|monitoring|configprops|balancer|actuator) 1;\n\t~*(meta-data|web_shell_cmd|latest|remote|_asterisk|bash|Bind|binding|appxz|bankCheck|GetAllGameCategory) 1;\n\t~*(exchangerateuserconfig|exchange_article|kline_week|anquan|dns-query|nsepa_setup|java_script|gemini-iptv) 1;\n\t~*(j_spring_security_check|wps|cgi|asmx|HNAP1|sdk|evox) 1;\n\t~*(_ignition|alvzpxkr|ALFA_DATA|wp-plain) 1;\n\t~*(ldap|jndi|dns|securityscan|rmi|ldaps|iiop|corba|nds|nis) 1; # log4j\n}</code></pre></div>\n<p>ì¼ë‹¨ ë‚´ê°€ ì£¼ë¡œ ë§‰ëŠ” ìœ í˜•ë§Œ ê°€ì ¸ì™”ë‹¤.<br>\nì €ë ‡ê²Œ í•˜ë©´ urlì— ì € í‚¤ì›Œë“œê°€ ë“¤ì–´ê°€ë©´ ì¡°ê±´ì— ê±¸ë¦°ë‹¤.</p>\n<p>ë‚´ê°€ ì§‘ìš”í•˜ê²Œ ë¡œê·¸ë¥¼ ë¶„ì„í•˜ë©° ì·¨ì•½ì  ì°¾ìœ¼ë ¤ ë“¤ì–´ì˜¨ ë†ˆë“¤ í‚¤ì›Œë“œë¥¼ ë¶„ì„í–ˆë‹¤.<br>\nì´ê²ƒë„ ë©”ì¸ ì„¤ì •ì— ë°•ì•„ë‘ë©´ ëœë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">if ($bad_word = 1) { return 444; }</code></pre></div>\n<p>ì´ë ‡ê²Œ í•˜ë©´ ì–´ëŠì •ë„ ì·¨ì•½ì  ì°¾ëŠ” ë†ˆë“¤ì€ ë§‰ì„ ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.</p>\n<h2 id=\"ê¸°íƒ€\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%ED%83%80\" aria-label=\"ê¸°íƒ€ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê¸°íƒ€</h2>\n<p>ë˜ ë§‰ëŠ” ì„¤ì •ì€ ë‹¤ì–‘í•œê²Œ ìˆê² ì§€ë§Œâ€¦</p>\n<p>ìš”ìƒˆëŠ” ì˜ì•…í•´ì„œ ê°€ì§œ UA ë‹¬ê³  ì˜¤ëŠ”ê²Œ ì˜ˆì˜ì§€ë§Œâ€¦<br>\nUserAgent ê³µë°±ìœ¼ë¡œ ì˜¤ëŠ” ë¬´ì„±ì˜í•œ ë†ˆë“¤ë„ ìˆë‹¤. (ì•„ì£¼ ê°€ë”â€¦)</p>\n<p>ì´ëŸ° ë†ˆë“¤ì€ ì•„ë˜ ì„¤ì •ìœ¼ë¡œ ë§‰ì„ ìˆ˜ ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">#ê³µë°± UserAgent ì°¨ë‹¨\nif (\\$http_user_agent = \"\") { return 444; }</code></pre></div>\n<p>ê·¸ë¦¬ê³  ì•…ì˜ì ì¸ í–‰ìœ„ë¡œ ìœ ëª…í•œ ë´‡ë“¤ë„ ìˆë‹¤.<br>\nì´ê±´ ì•„ë˜ ë‚´ìš©ì„ ì°¸ê³ í•˜ì.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">#Bot\nmap $http_user_agent $limit_bots {\n        default 0;\n        ~*(MJ12bot|ltx71|Adsbot/3.1/WordPress|BLEXBot|UCBrowser|Mb2345Browser) 1;\n        ~*(MicroMessenger|LieBaoFast|Headless|netEstate|PetalBot) 1;\n        ~*(bingbot|FeedDemon|GrapeshotCrawler|DuckDuckBot|MegaIndex) 1;\n        ~*(VelenPublicWebCrawler|SimplePie|YandexBot|SCMGUARD|DotBot) 1;\n        ~*(AhrefsBot|SemrushBot) 1;\n\t~*(wget|curl) 1;\n    }</code></pre></div>\n<p>ì´ê±¸ ë˜ ë©”ì¸ ì„¤ì •(ë˜ëŠ” ê°œì¸ ì„œë¹„ìŠ¤ ì„¤ì •)ì— ì•„ë˜ì™€ ê°™ì´ ë„£ì–´ì¤€ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">#ë¶ˆí•„ìš” ë¡œë´‡ ì°¨ë‹¨\nif (\\$limit_bots = 1) { return 444; }</code></pre></div>\n<p>ì´ë ‡ê²Œí•˜ë©´ ì¼ë‹¨ ê°€ë“œë¥¼ ì™„ì „íˆ ì˜¬ë¦° ì…‹íŒ…ì€ ì•„ë‹ˆì§€ë§Œ ì–´ì¤‘ì´ ë– ì¤‘ì´ëŠ” ëª»ë“¤ì–´ì˜¤ê²Œ ë§‰ì•„ì¤€ë‹¤.</p>\n<br>\n<p>nginx ì±…ë„ ë¹Œë ¸ëŠ”ë° ê³µë¶€ë¥¼ ì¢€ í•´ì„œ ë” ê²¬ê³ í•˜ê²Œ ë§‰ì•„ë³´ë„ë¡ ë…¸ì˜¤ë ¥í•´ë´ì•¼ê² ë‹¤.<br>\nì•„ë˜ëŠ” ë²”ìœ„ ip ì„¤ì •ì„ ì˜¬ë ¤ë³¸ë‹¤.</p>\n<p>ë‹¨ì¼ì€ ì§„ì§œ ë„˜ ì»¤ì„œâ€¦<br>\nì´ê±´ ê¹ƒí—ˆë¸Œë‚˜ íŒŒì¼ë¡œ ì œê³µí•´ì•¼ í•  ë“¯ ì‹¶ë‹¤.</p>\n<p>í•´ì™¸ ì„œë¹„ìŠ¤ í•˜ëŠ” ë¶„ì€ ì˜ ì•Œì•„ë³´ê³  ì ìš©í•˜ê³ ,<br>\nêµ­ë‚´ë‚˜ êµ­ì™¸ í¬ê²Œ ì‹ ê²½ ì•ˆì“°ì‹œëŠ” ë¶„ì€ ì•„ë˜ ë‚´ìš©ì„ ì°¸ê³ í•˜ì.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">geo $bad_ip_range {\n\t# A\n    #34.0.0.0/8 1; #22-07-01 => Google Bot ìˆì„ ìˆ˜ ìˆìŒ\n\t103.0.0.0/8 1; #VN-21-11-29\n  \t185.0.0.0/8 1; #DE-21-12-27\n\t159.0.0.0/8 1; #22-04-17\n\t20.0.0.0/8 1; #22-04-30\n\t15.0.0.0/8 1; #22-06-10\n\t51.0.0.0/8 1; #22-06-27\n\t35.0.0.0/8 1; #22-07-01\n\n  \t# B\n    # 66.249.0.0/16 1; #US_21-11-15 => Google Bot ìˆì„ ìˆ˜ ìˆìŒ\n  \t5.161.0.0/16 1; #22-01-02\n  \t45.83.0.0/16 1; #log4j\n  \t51.159.0.0/16 1; #FR-21-11-17\n  \t137.184.0.0/16 1; #22-01-02\n  \t167.71.0.0/16 1; #US(NE)-21-11-25\n  \t185.220.0.0/16 1; #log4j\n\t20.119.0.0/16 1; #22-02-02\n\t92.223.0.0/16 1; #22-04-05\n\t46.101.0.0/16 1; #22-06-09\n\t163.172.0.0/16 1; #22-06-10\n\t198.235.0.0/16 1; #22-06-28\n\t5.62.0.0/16 1;\n\t178.62.0.0/16 1;\n\t146.70.0.0/16 1;\n\t14.116.0.0/16 1;\n\t144.168.0.0/16 1;\n\t144.126.0.0/16 1;\n\t143.198.0.0/16 1;\n\t128.199.0.0/16 1;\n\t18.118.0.0/16 1;\n\t18.234.0.0/16 1;\n\t159.65.0.0/16 1;\n\t159.65.0.0/16 1;\n\t34.240.0.0/16 1;\n\t157.245.0.0/16 1;\n\t170.247.0.0/16 1;\n\t159.223.0.0/16 1;\n\t165.232.0.0/16 1;\n\t168.119.0.0/16 1;\n\t188.166.0.0/16 1;\n\t198.244.0.0/16 1;\n\t35.86.0.0/16 1;\n\t35.89.0.0/16 1;\n\t106.75.0.0/16 1;\n\t205.185.0.0/16 1;\n\t209.141.0.0/16 1;\n\t209.127.0.0/16 1;\n\t43.130.0.0/16 1;\n\t35.93.0.0/16 1;\n\n  \t# C\n  \t77.111.247.0/24 1; #NO-21-12-16\n  \t167.172.62.0/24 1; #22-01-02\n  \t171.25.193.0/24 1; #log4j\n\t92.118.160.0/24 1; #22-04-10\n\t220.181.51.0/24 1; #22-04-12\n\t95.142.120.0/24 1; #22-04-25\n\t5.188.62.0/24 1; #22-05-10\n\t116.179.33.0/24 1; #22-06-10\n\n\t92.223.85.0/24 1;\n\t93.158.91.0/24 1;\n\t93.158.90.0/24 1;\n\t36.99.136.0/24 1;\n\t111.7.100.0/24 1;\n\t117.187.173.0/24 1;\n\t156.146.35.0/24 1;\n\t185.54.229.0/24 1;\n\t185.27.99.0/24 1;\n\t185.181.60.0/24 1;\n\t198.235.24.0/24 1;\n\t205.169.39.0/24 1;\n\t205.210.31.0/24 1;\n\t208.80.194.0/24 1;\n\t111.7.100.0/24 1;\n\t205.210.31.0/24 1;\n\t51.222.253.0/24 1;\n\t89.187.163.0/24 1;\n\t95.142.120.0/24 1;\n\t42.83.147.0/24 1;\n\t54.36.148.0/24 1;\n\t64.43.117.0/24 1;\n\t191.102.179.0/24 1;\n\t199.244.88.0/24 1;\n\n  \tdefault 0;\n}</code></pre></div>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#how-to\">How To?</a></p>\n<ul>\n<li><a href=\"#%EA%B0%9C%EB%B3%84-ip-%EB%A7%89%EA%B8%B0\">ê°œë³„ IP ë§‰ê¸°</a></li>\n<li><a href=\"#ip-class%EB%A1%9C-%EB%A7%89%EA%B8%B0\">IP Classë¡œ ë§‰ê¸°</a></li>\n<li><a href=\"#url-keyword\">Url keyword</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EA%B8%B0%ED%83%80\">ê¸°íƒ€</a></p>\n</li>\n</ul>\n</div>","excerpt":"ì„œë¹„ìŠ¤ë¥¼ ì—´ì–´ë‘ë©´â€¦ ì˜¤í”ˆì„ í•˜ê³ ë‚˜ë©´ ì •ë§ ë§ì€ ì¼ë“¤ì´ ìƒê¸´ë‹¤. ë„ë©”ì¸ ì£¼ì†Œë¥¼ ì–´ë–»ê²Œ ì•Œê³  ì´ìƒí•œ ë©”ì¼ë“¤ë„ ì˜¤ê³ , ë‹¤ì–‘í•œ ë°©ë²•ìœ¼ë¡œ ì—°ë½ì´ ì˜¨ë‹¤. -_-;; ê·¸ë˜ë´¤ì ë„·ìƒì´ë‹ˆê¹Œ? ê·¼ë° ì´ì œ ì„œë¹„ìŠ¤ ì ‘ê·¼ ë¡œê·¸ ë˜ëŠ” nginxì— ì ‘ê·¼ ë¡œê·¸ë¥¼ ë³´ë©´ ëŒ€í™˜ì¥ íŒŒí‹°ë‹¤. ì´ê±´ ë‚´ Nginx ì ‘ê·¼ ê¸°ë¡ì—ì„œ ë”°ì˜¨ ë¡œê·¸ ì¤‘ ì¼ë¶€ë‹¤. ì €ê¸° 109.237.98.53IP ì ‘ê·¼ì„ ë³´ë¼. íŒŒì´ì¬ì´ë‚˜ ê¸°íƒ€ ì–¸ì–´ë¡œ ë´‡ ë§Œë“¤ì–´ì„œ ì·¨ì•½ì ì„ ì—´ì‹¬íˆ ì°¾ëŠ”â€¦ ì°¸ ë¶€ì§€ëŸ°í•˜ë‹¤â€¦ ë‚œ ê²Œì„ëŸ¬ì„œ ì €ëŸ° ë…¸ë ¥ë„ ëª»í•  ë“¯ ì‹¶ë‹¤ -_-;; ë¬´íŠ¼ ì„œë¹„ìŠ¤ê°€ ì˜¤í”ˆë˜ë©´ ì–´ë–»ê²Œë“¤ ê·€ì‹ ê°™ì´ ì•Œê³  ì €ë ‡ê²Œ ì˜¨ë‹¤.  ë¬´íŠ¼ ì˜ˆì „ë¶€í„° ë‚˜ëŠ” ì´ê±¸ ë³´í˜¸í•  ë°©ë²•ì„ ì°¾ì•˜ê³  ì ìš©í–ˆì—ˆë‹¤. ê·¸ë¦¬ê³  í¬ìŠ¤íŒ… í•´ì•¼ì§€ í•˜ë‹¤ê°€..(ì•„ë§ˆ í‘ìš°ì§‘í•©ì†Œ 1ì„¸ëŒ€ì¯¤ì´ì—ˆâ€¦) ê·¸ë˜ì„œ ì´ê±¸ ì´ì œì•¼ í¬ìŠ¤íŒ… í•´ë³¸ë‹¤. How To? ì¼ë‹¨ nginxê°€ ì„¤ì¹˜ë˜ì–´ ìˆë‹¤ëŠ” ê²ƒì„ ê°€ì •í•œë‹¤. nginxì˜ ê¸°ë³¸ ì„¤ì • íŒŒì¼ì„ vimì´ë˜ ì›í•˜ëŠ” í¸ì§‘ê¸°ë¡œ ì—°ë‹¤. ë³´í†µì€ ê²½ë¡œê°€ /etc/nginx/nginx.conf ì¼â€¦","frontmatter":{"date":"2023.04.01","title":"Nginxì—ì„œ íŠ¹ì • IP ì ‘ê·¼ ê¸ˆì§€ ì‹œí‚¤ê¸° (With Url ë¬¸ìì—´ ì ‘ê·¼ ë§‰ê¸°)","categories":"nginx","emoji":"ğŸ“œ"},"fields":{"slug":"/nginx/230401_defense_attacker/"}},"next":{"id":"47381a8f-360f-584e-a6ce-367c4896ad22","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 52.222222222222214%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABeElEQVQoz5VSTUsCURT1X7TqY9O+VbRQIdpWizZCqxb1A4JWBS3cFAgtIspNiyCCoEVBRWJJQhqWFbop6GNg+nJSEccZ5+PNeyfm6ehIRnbgvHfhvXvu4d7rAQBGKacbjDFOd/wXbXicwIEliND2I+2F7cKu2Hl3//VwkVwe8nwIBV8AheFJFPwBkCeh1bFFWxL5TazarVTBTFJzaB/y4gqkXh+kHi9y3V4Ux2c47UK0okDd3IW2dwwzcw8jcQ395BzGVQba4RnIo4DK8gas14+mIJUrYFUNRjyFr4FRSP0jyHUNwkikQWUFcnAV+mmCF5YXQjBvstAjcZRng1y0srQOWizVe2jVbBupO6jhbZSm5iD1+ZEfmgARRDC1Cu0oBjOdhXF5C+0gCj2W5I5sUfLwDD16Aevtsy5Ia/0gLyLU8A6UtS0Ux6ZhJNMtze8EjaG4J2WJ76Bluf26UNaYtGPEWbkfa8M/EdKs5iT+gw3BX3eNtbrvBN9Ty+sRGu0ozQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/b7685b7a900370c34be4e657df3f862d/7c297/thumbnail_nestjs.webp 180w,\n/static/b7685b7a900370c34be4e657df3f862d/33ecc/thumbnail_nestjs.webp 360w,\n/static/b7685b7a900370c34be4e657df3f862d/84c6d/thumbnail_nestjs.webp 700w\"\n              sizes=\"(max-width: 700px) 100vw, 700px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/b7685b7a900370c34be4e657df3f862d/e9ea2/thumbnail_nestjs.png 180w,\n/static/b7685b7a900370c34be4e657df3f862d/53918/thumbnail_nestjs.png 360w,\n/static/b7685b7a900370c34be4e657df3f862d/a27c6/thumbnail_nestjs.png 700w\"\n            sizes=\"(max-width: 700px) 100vw, 700px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/b7685b7a900370c34be4e657df3f862d/a27c6/thumbnail_nestjs.png\"\n            alt=\"thumbnail\"\n            title=\"thumbnail\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<h1 id=\"ë°°í¬ë¥¼-í•˜ê¸°-ì „ì—\" style=\"position:relative;\"><a href=\"#%EB%B0%B0%ED%8F%AC%EB%A5%BC-%ED%95%98%EA%B8%B0-%EC%A0%84%EC%97%90\" aria-label=\"ë°°í¬ë¥¼ í•˜ê¸° ì „ì— permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë°°í¬ë¥¼ í•˜ê¸° ì „ì—â€¦</h1>\n<p><a href=\"https://bcow.world\">í‘ìš°ì§‘í•©ì†Œ</a> í…Œì„­ì— ë°°í¬ë¥¼ í•˜ê³ ë‚˜ì„œ ëª‡ ê°€ì§€ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•˜ë˜ ë„ì¤‘ pm2 ë¡œê·¸ë¥¼ ì ì‹œ í™•ì¸í–ˆë‹¤.</p>\n<p><img src=\"/img01.png\" alt=\"\"></p>\n<p>ì €ê¸° ë³´ë©´ clientIpë¼ê³  ë˜ì–´ ìˆëŠ” ê³³ì— IPê°€ ëœ¨ëŠ”ë° ë­”ê°€ ì¢€ ì´ìƒí–ˆë‹¤â€¦<br>\nIpV4ê°€ ë‚˜ì™€ì•¼ í•˜ëŠ”ë° IpV6 í˜•ì‹ìœ¼ë¡œ ë‚˜ì™”ë‹¤.</p>\n<p>ì‚¬ì‹¤ í° ìƒê´€ì€ ì—†ì„ ê²ƒ ê°™ì€ë° ê·¸ë˜ë„ ì„œë²„ ë‚´ì—ì„œ ë¡œê¹…ì´ë‚˜ í™•ì¸í•  ë•Œ IpV6 í˜•ì‹ìœ¼ë¡œ ë˜ì–´ ìˆë‹¤ë©´ ë¶ˆí¸í•  ê²ƒ ê°™ì•˜ë‹¤.<br>\nê·¸ë˜ì„œ ì´ê±¸ V4 í˜•ì‹ìœ¼ë¡œ ë°”ê¿¨ë‹¤.</p>\n<p>ë°©ë²•ì€ ì—¬ëŸ¬ê°€ì§€ê°€ ìˆì§€ë§Œ, ì œì¼ ì‰½ê³  ì•„ë¬´ê²ƒë„ ì„¤ì¹˜í•˜ì§€ ì•Šì•„ë„ ë˜ëŠ” ë°©ì‹ìœ¼ë¡œ í–ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">bootstrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> NestFactory<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span>AppModule<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> bodyParser<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">//Some init</span>\n\n  <span class=\"token keyword\">await</span> app<span class=\"token punctuation\">.</span><span class=\"token function\">listen</span><span class=\"token punctuation\">(</span><span class=\"token number\">4000</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'0.0.0.0'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'[SERVER-ON] = '</span><span class=\"token punctuation\">,</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">NODE_ENV</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì €ë ‡ê²Œ <strong>app.listen</strong>í•¨ìˆ˜ ë’¤ì— ì „ë‹¬ì¸ìë¡œ <strong>hostname</strong>ì„ ì „ë‹¬í•´ì£¼ë©´ ëœë‹¤.<br>\nì € í•¨ìˆ˜ë¥¼ íƒ€ë³´ë©´ ì•„ë˜ì™€ ê°™ì€ í˜•íƒœì´ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token comment\">/**\n     * Starts the application.\n     *\n     * @param {number|string} port\n     * @param {string} [hostname]\n     * @param {Function} [callback] Optional callback\n     * @returns {Promise} A Promise that, when resolved, is a reference to the underlying HttpServer.\n     */</span>\n    <span class=\"token function\">listen</span><span class=\"token punctuation\">(</span>port<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span> <span class=\"token operator\">|</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> callback<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span><span class=\"token builtin\">any</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">listen</span><span class=\"token punctuation\">(</span>port<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span> <span class=\"token operator\">|</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> hostname<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> callback<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span><span class=\"token builtin\">any</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ì € hostnameì— ipv4 í˜•ì‹ì„ ë¬¸ìì—´ë¡œ ì „ë‹¬í•˜ë©´ ì´ì œ Nest.Js ë‚´ì—ì„œ ip ì£¼ì†Œ í‘œí˜„ì€ IpV4ë¡œ ë°”ë€Œê²Œ ëœë‹¤.</p>","frontmatter":{"date":"2023.04.01","title":"Nest.jsì—ì„œ Ip ì¡°íšŒí•  ë•Œ IpV6ë¡œ í‘œì‹œë˜ëŠ” ê²ƒì„ IpV4ë¡œ ë°”ê¾¸ê¸°","categories":"nest_js","emoji":"ğŸ“œ"},"fields":{"slug":"/nest_js/230401_ipv6_ipv4/"}},"prev":{"id":"74742c3d-fa9e-5f5d-b27c-66e770c047d5","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAs0lEQVQoz8XSTQ+CMAwG4G1l3SB8LAgBYhxODSYa49n//8Neww7eQaKHXt6kT5O2QgiBjesHoFQKddOgaVt0fQ+2NuYk5TqwMoy79wjDgNfljL1z2GmNh6vQGF4O1qzxLHKcUwtvGLcij1jNjCG1kEvBlAi14YhcywKHLENnDUqdYLA2Dlx1lGTe21ZXVkqBiJAQwWkNTfTJFoNz0ziOCCHg6D1OWYbgPaZpivkM//cPv6k34DvkDCc7FkQAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/0f378fe27c998e1f54e68293d1e77adb/7c297/thumbnail_nextjs.webp 180w,\n/static/0f378fe27c998e1f54e68293d1e77adb/33ecc/thumbnail_nextjs.webp 360w,\n/static/0f378fe27c998e1f54e68293d1e77adb/df77d/thumbnail_nextjs.webp 720w,\n/static/0f378fe27c998e1f54e68293d1e77adb/d0742/thumbnail_nextjs.webp 900w\"\n              sizes=\"(max-width: 720px) 100vw, 720px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/0f378fe27c998e1f54e68293d1e77adb/e9ea2/thumbnail_nextjs.png 180w,\n/static/0f378fe27c998e1f54e68293d1e77adb/53918/thumbnail_nextjs.png 360w,\n/static/0f378fe27c998e1f54e68293d1e77adb/242a6/thumbnail_nextjs.png 720w,\n/static/0f378fe27c998e1f54e68293d1e77adb/e7448/thumbnail_nextjs.png 900w\"\n            sizes=\"(max-width: 720px) 100vw, 720px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/0f378fe27c998e1f54e68293d1e77adb/242a6/thumbnail_nextjs.png\"\n            alt=\"thumbnail\"\n            title=\"thumbnail\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<h1 id=\"êµ¬ê¸€-ì• ë“œì„¼ìŠ¤ë¥¼-ë‹¬ì•„ë³´ë ¤\" style=\"position:relative;\"><a href=\"#%EA%B5%AC%EA%B8%80-%EC%95%A0%EB%93%9C%EC%84%BC%EC%8A%A4%EB%A5%BC-%EB%8B%AC%EC%95%84%EB%B3%B4%EB%A0%A4\" aria-label=\"êµ¬ê¸€ ì• ë“œì„¼ìŠ¤ë¥¼ ë‹¬ì•„ë³´ë ¤ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>êµ¬ê¸€ ì• ë“œì„¼ìŠ¤ë¥¼ ë‹¬ì•„ë³´ë ¤â€¦</h1>\n<p>í‘ìš°ì§‘í•©ì†Œì— ì• ë“œì„¼ìŠ¤ë¥¼ ë‹¬ë ¤ê³  í–ˆë‹¤.<br>\nê·¼ë° ads.txt íŒŒì¼ë§Œ ë„£ì—ˆëŠ”ë° ë­”ê°€ ì•ˆë˜ëŠ”ê±° ê°™ì•„ì„œ ì°¾ì•„ë³´ë‹ˆ ëŒ€ë¶€ë¶„ Script ì¶”ê°€ ë°©ì‹ì„ ì‚¬ìš©í–ˆë‹¤..</p>\n<p>ê·¸ë˜ì„œ ë‚˜ë„ ì´ ë°©ì‹ë„ ê°™ì´ ì¶”ê°€í–ˆê³ , ì´ë¥¼ í¬ìŠ¤íŒ…ìœ¼ë¡œ ë‚¨ê¸´ë‹¤.</p>\n<h2 id=\"how-to\" style=\"position:relative;\"><a href=\"#how-to\" aria-label=\"how to permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>How To?</h2>\n<p>ë¨¼ì € <a href=\"https://adsense.google.com/intl/ko_kr/start/\">Google adsense</a>ì— ê°€ì…ì´ ë‹¤ ë˜ì–´ ìˆê³  ì¤€ë¹„ê°€ ëœ ê²ƒì„ ê°€ì •í•œë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 403px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 90.55555555555556%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB5ElEQVQ4y6WU3XLaMBCF88Z9pl71EXrb3HSaNgTiBAK2MT+pDSHYWIAD2Ja+jmRjSoEQpjtzRquVdXalPfKVUoo9SwNIPXQ0TTd81DSPxpWe2LZN/e7OLPTuP/Hl6zd+h9Bo1Hhq27Se2nz/cYPrevT6A+r3FvWGRdfrmTXfD8zePJcF4WKxQMSCTGXUxy0enmGTZrxOp0xep3i9Po/NFmE0IwwjExuPX5hOQ/xgRBhFhlBKQ7g7spKy9PSouMTyPC8qvHESshwWK0Wy1qMkThTiTSESeRb6eymL+zMVfr6eYQ02/HRX3Lor40/miiCSjGbn4UeS5VqZE1WEv9wV180EZ5RhBykvsSKYyXexJdSJ3zZ/Ebb9daEWCZmEXEGyUWehSZK1Yp2qSjZlU6Bj21iWxWQywXEdlMy3bbpIh4ZQKsVw+GykoeUThiF52e2tWM/hoMJTGXf+ezhCeFurUburk6Yp1sOjqfi/KvSDgGA0MgH9EpbLhEutItTq1klkGdguFso/BXl0XhLmVRZZPb3Tpl+FIZA76H0VoZFNx6bd7hALQbPZwnFcup5noONut4vtOPQHAxbL5VFJ7d3hYDjEdbsmSxzHCDFHCIGYzwuUvpZVlmUHDdsjPPjBfrAB//pbwj8433TbMt7lmgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/fd3a5cd85ec4de15ccef26230569c922/7c297/img01.webp 180w,\n/static/fd3a5cd85ec4de15ccef26230569c922/33ecc/img01.webp 360w,\n/static/fd3a5cd85ec4de15ccef26230569c922/c6e54/img01.webp 403w\"\n              sizes=\"(max-width: 403px) 100vw, 403px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/fd3a5cd85ec4de15ccef26230569c922/e9ea2/img01.png 180w,\n/static/fd3a5cd85ec4de15ccef26230569c922/53918/img01.png 360w,\n/static/fd3a5cd85ec4de15ccef26230569c922/6945a/img01.png 403w\"\n            sizes=\"(max-width: 403px) 100vw, 403px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/fd3a5cd85ec4de15ccef26230569c922/6945a/img01.png\"\n            alt=\"img01\"\n            title=\"img01\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<p>ë©”ë‰´ì—ì„œ ì‚¬ì´íŠ¸ë¥¼ ì„ íƒí•œë‹¤.<br>\nê·¸ë¦¬ê³  ìƒˆ ì‚¬ì´íŠ¸ ì¶”ê°€ë¥¼ í•´ì¤€ë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 423px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 71.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAABl0lEQVQ4y51US07jQBD1KTgAFwCWsGED92E3S9iAhAQHYM1JWCERIEOCP8HOR7EzJHYiwsQfnO7qh7oSh4CCZGipVF2leq+eq6w2AEAphd+cAreMN4pgMBjAth14nof7ahWWZeHmpgLTNFGvP6JSqXD8aJqc0/UF2bItCMfjMdqdDoIgQLvdgdds4vb2Do3GE1zXZavV6mi1WlxTEH49C0JJhHw65S5SSuR5zp6IIITgvM7pu85pVJZlSJIEaZou7OOTwxC202B12lu2zSPw/QAOq/RQ/fvAea3+ud9Ht+vDsh08uS6CXg+O04BRdilfa77DGMubkqRASoHmnmNSn8DF8FcthJdSTqFaCV5JWJDFb4RWJNAZCvbNcGb/XiSrLTsaQ8hZ0cVVjLWDZ6z/6WPzKMT2cYiNwwG2jkK8psQ1VEahoBnh5XWCjUNNFGH3NMLe2RA7JxH2z4eYZFReYVGUThX8kUDvRbLvjgT8kUT0X86JSs4Q+sLtaUU/YiL9I5e1mcI5+2SSIE5SZG854jjhRvTDh+Mdb3cyLWacU1QAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/c869f9589dbf37223c50ef4828b06194/7c297/img02.webp 180w,\n/static/c869f9589dbf37223c50ef4828b06194/33ecc/img02.webp 360w,\n/static/c869f9589dbf37223c50ef4828b06194/008d7/img02.webp 423w\"\n              sizes=\"(max-width: 423px) 100vw, 423px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/c869f9589dbf37223c50ef4828b06194/e9ea2/img02.png 180w,\n/static/c869f9589dbf37223c50ef4828b06194/53918/img02.png 360w,\n/static/c869f9589dbf37223c50ef4828b06194/6fe3b/img02.png 423w\"\n            sizes=\"(max-width: 423px) 100vw, 423px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/c869f9589dbf37223c50ef4828b06194/6fe3b/img02.png\"\n            alt=\"img02\"\n            title=\"img02\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<p>ì¶”ê°€í•  ì‚¬ì´íŠ¸ ì£¼ì†Œë¥¼ ì‘ì„±í•´ì¤€ë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 517px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 63.888888888888886%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAABsElEQVQ4y52SwW7TQBCG8xY8AW/BU3DlygWJOySkhya9xY1iONFwQ2rsxOmhvAE3kJLWDqUgiqIiWomSxLITktre9Yd2HStFoillpE87O/L8M56dQrP5Cs8b4Loug8GAw0MX1/X0vd/v30iv18PzPF7u7LC5WaGwv/8GZWE4xfd9Li8jgiBgPp9zG+t2u5TLGxSUkyQJR0cfODjoc3LyheOPxwyHQ4QQSCnXonKVtVoWpdIzCu1ORwcSCZGAWKyqCpneSCLkUrCVCe51HWLg+zhiFET404TxTPAzFIymci2TmeRsEut827Yo5oJRCvNI8j+2iITOty2LYrG0EjybJPi/sqr/wngm9feqQ5Xftpcz7HQcXSmKJbFIrydZ+VGyQnWYz1B3mAtKKUhTeS2QajI/NxXL7ru7rT87VCuQpulfUYnhQjJdZMmv3/7gvvGJR82vPDA/M5qB01YzvCKodm6d4CgUXATZzm05p9x5+I57ZZe7j9/zbSzYc2yePL3yy7d62RjO/Vg/yEUQ65iVL3a1ukWj0cAwjLXUaga15Vnf3uZ5o84Ls65P0zSpVKqa3y7cqKJb7RxBAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/8197b751bd9db796d45c81576e57d010/7c297/img03.webp 180w,\n/static/8197b751bd9db796d45c81576e57d010/33ecc/img03.webp 360w,\n/static/8197b751bd9db796d45c81576e57d010/df279/img03.webp 517w\"\n              sizes=\"(max-width: 517px) 100vw, 517px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/8197b751bd9db796d45c81576e57d010/e9ea2/img03.png 180w,\n/static/8197b751bd9db796d45c81576e57d010/53918/img03.png 360w,\n/static/8197b751bd9db796d45c81576e57d010/3414f/img03.png 517w\"\n            sizes=\"(max-width: 517px) 100vw, 517px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/8197b751bd9db796d45c81576e57d010/3414f/img03.png\"\n            alt=\"img03\"\n            title=\"img03\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<p>ê·¸ëŸ¼ ë‘ ê°€ì§€ ë°©ì‹ìœ¼ë¡œ ê²€ì¦ì„ ë°›ì„ ìˆ˜ ìˆë‹¤.<br>\nì—¬ê¸°ì„œ ì›í•˜ëŠ” ë°©ì‹ì„ ì„ íƒí•˜ê±°ë‚˜, ë‚˜ì²˜ëŸ¼ í•˜ë‚˜ê°€ ì•ˆë˜ì„œ ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ ì¸ì¦ì„ í•´ë„ ëœë‹¤.</p>\n<br>\n<h3 id=\"1-script-ì¸ì¦-ë°©ì‹\" style=\"position:relative;\"><a href=\"#1-script-%EC%9D%B8%EC%A6%9D-%EB%B0%A9%EC%8B%9D\" aria-label=\"1 script ì¸ì¦ ë°©ì‹ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. Script ì¸ì¦ ë°©ì‹</h3>\n<p>ìŠ¤í¬ë¦½íŠ¸ ì¸ì¦ ë°©ì‹ì€ ë³„ë„ì˜ <strong>script</strong> íƒœê·¸ë¥¼ ì¶”ê°€í•´ì„œ ì¸ì¦ì„ ë°›ëŠ” ë°©ì‹ì´ë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75.55555555555556%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAABaElEQVQ4y41T206FMBA8/x8/yPig/6AmxvjgMRwDQQ6UXqBl2462oYhyCZNsWkg7nd2dPXnvERAWq85wporfbdsiu1yQ5zmcc+MZvxsBp7QhctDlA2R2D+IVhJQ4nz9QFMV0GEjrf/jpwVPaWGtBALTsQG11SNGqwnSRyEJJgYYxOH+cLJQjiFkqdA6dUhBCwI81mxI6QLpQGNAIjbppYXSPYTDQWqPruknBFlZTjp0VPcqKoaoZvq4MDWtjtzkXUEpBjqHGYG0bH90g9MjLK7KCoWw6FJVE3wWlA4wxm2HHdFcVhvTq+gqZvaN7fYR4e4HgHNqYSBzUBJK0/np4hTCpjPYZCI4IztLMg0s450HWw22lLLWHsb9W9TsdDmRzY68qlKoHYzw2Yq+zievpMuDmVqDkKz6cpoUo1svNir2uzuOzIdw99+C9WxIOA8GY4Y/r983sZ7O9knJQlOLw2MUJG8nCvx/Cb0YmnPGHUpVlAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/0b7956aa21c5eb0963e9ba1ba1d46da5/7c297/img04.webp 180w,\n/static/0b7956aa21c5eb0963e9ba1ba1d46da5/33ecc/img04.webp 360w,\n/static/0b7956aa21c5eb0963e9ba1ba1d46da5/df77d/img04.webp 720w,\n/static/0b7956aa21c5eb0963e9ba1ba1d46da5/5c666/img04.webp 1080w,\n/static/0b7956aa21c5eb0963e9ba1ba1d46da5/00c56/img04.webp 1245w\"\n              sizes=\"(max-width: 720px) 100vw, 720px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/0b7956aa21c5eb0963e9ba1ba1d46da5/e9ea2/img04.png 180w,\n/static/0b7956aa21c5eb0963e9ba1ba1d46da5/53918/img04.png 360w,\n/static/0b7956aa21c5eb0963e9ba1ba1d46da5/242a6/img04.png 720w,\n/static/0b7956aa21c5eb0963e9ba1ba1d46da5/b4ad3/img04.png 1080w,\n/static/0b7956aa21c5eb0963e9ba1ba1d46da5/ed9c8/img04.png 1245w\"\n            sizes=\"(max-width: 720px) 100vw, 720px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/0b7956aa21c5eb0963e9ba1ba1d46da5/242a6/img04.png\"\n            alt=\"img04\"\n            title=\"img04\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<p>ì—¬ê¸°ì„œ ë‚˜ì˜¨ ìŠ¤í¬ë¦½íŠ¸ëŠ” ë°”ë‹ë¼jsìš©ì´ê³ , ë¹„ìŠ·í•˜ì§€ë§Œ Next.Jsì—ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì´ í•´ì¤€ë‹¤.<br>\nì•„ë˜ì˜ ì½”ë“œë¥¼ <strong>Head</strong> íƒœê·¸ ë‚´ì— ë„£ì–´ì•¼ í•˜ëŠ”ë° ë³´í†µ <strong>_app.tsx</strong>ì— ë„£ì„ ê²ƒì´ë‹¤.</p>\n<p>ê·¼ë° ë‚˜ëŠ” <strong>Head</strong>íƒœê·¸ ìœ„ì¹˜ê°€ <strong>_document.tsx</strong>ë¼ì„œ ì € ê³³ì— ë„£ì—ˆë‹¤.<br>\nê·¼ë° Google analyticsëŠ” <strong>_app.tsx</strong>ì— ë„£ì–´ë„ ì˜ ë˜ëŠ”ê±° ë³´ë©´ í¬ê²Œ ìƒê´€ ì—†ì§€ ì•Šì„ê¹Œ ì‹¶ë‹¤.</p>\n<p>ê·¸ ì „ì— ìœ„ì— ë‚˜ì˜¨ ì‚¬ì§„ì—ì„œ <strong>client</strong>ìª½ì˜ ì¿¼ë¦¬ ê°’ì¸ <strong>ca-pub</strong>ì„ ë‚œ ë”°ë¡œ ì„¤ì •ìœ¼ë¡œ ë¹¼ì¤¬ë‹¤.</p>\n<p>Next.jsì—ì„œ ì„¤ì • íŒŒì¼ì€ .env ë‘ê³  ì“°ëŠ”ë°,<br>\nì„¤ì •ì„ í´ë¼ì´ì–¸íŠ¸ ìª½ì—ì„œ ì“°ê¸°ì— ì•ì— <strong>NEXT_PUBLIC</strong>ì ‘ë‘ì‚¬ë¥¼ ë¶™ì„ìœ¼ë¡œì¨ ì ‘ê·¼ ê°€ëŠ¥í•˜ê²Œ í•´ì¤¬ë‹¤.</p>\n<p>ê·¸ë˜ì„œ ì•„ë˜ì™€ ê°™ì€ ì„¤ì •ì„ ë¶™ì—¬ì„œ ì‘ì„±í•˜ì˜€ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Html</span></span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ko<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">data-theme</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>emerald<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n                </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Head</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n                    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span>\n                        <span class=\"token attr-name\">httpEquiv</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>X-UA-Compatible<span class=\"token punctuation\">\"</span></span>\n                        <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>IE=edge,chrome=1<span class=\"token punctuation\">\"</span></span>\n                    <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n                    //ê¸°íƒ€ meta ë° html ì½”ë“œ\n\n                    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Script</span></span>\n                        <span class=\"token attr-name\">async</span>\n                        <span class=\"token attr-name\">src</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">NEXT_PUBLIC_GOOGLE_ADS_CLIENT_ID</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">}</span></span>\n                        <span class=\"token attr-name\">strategy</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>lazyOnload<span class=\"token punctuation\">\"</span></span>\n                        <span class=\"token attr-name\">crossOrigin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>anonymous<span class=\"token punctuation\">\"</span></span>\n                    <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n\n                </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Head</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n\n                </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n                    ....\n                </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Html</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì´ë ‡ê²Œ í•´ì£¼ë©´ <strong>Script ì¸ì¦ ë°©ì‹</strong>ì€ ëì´ë‹¤.</p>\n<br>\n<h3 id=\"2-adstxt-ì¸ì¦-ë°©ì‹\" style=\"position:relative;\"><a href=\"#2-adstxt-%EC%9D%B8%EC%A6%9D-%EB%B0%A9%EC%8B%9D\" aria-label=\"2 adstxt ì¸ì¦ ë°©ì‹ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Ads.txt ì¸ì¦ ë°©ì‹</h3>\n<p>ì´ê±´ 1. ë°©ì‹ë³´ë‹¤ ë” ì‰½ë‹¤.(?)</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 79.44444444444444%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAABxElEQVQ4y42US5KbMBiEfdgcbA6Q3CKbrCcrZ5FMJWZ4SgIhQC++lGT8iidl/1UNoiSa7l9qdgDruhK8Ifg5PRJjRGt9xmlNwqPawUqI4IrP2MMXgg84Z9nv97y+fufX29sN4SPs0mLvPYu1jLJm+PENosc5zzzPee5Yj9VlhYk1WfQ+YK0j+nhn7ZGquCErTBfnHOM4Utc10zSd+xjjY4upQggZZ4WpjDGZNBH9a/Hk4oL1CvG2hydCay1K9VlhGksTmeaFeZ6e2t07Qq0HqqqiquuMomyo64aqLBFdhxAit6RtW6SUdLKnFQNlI9BmPpOeCQ+VohWKXimEVMhhQA6aru8R/UAjFbWQdKpH6JFKWQ7txJ/G0A32nnBaPGZasN5jjWGtCta2gqZkbUpI4w1rXRCNJq6RNQZ88OdeXiyPI03bIVSPalts8RtbvWPL4hZVgX0/sCiJnh1KW+bF3RIeEQnbzqW7jWDz/WO4ELKrTnt684HCn7VF9UNu+DAM+QOkuf8gbu+9fDV8epG0+uocJlh/TIvzPsctPkpHPBKLMXAQHp9+CGwKU+TS2Uv5fTZul6Ss9+cwR2dLwbNE10qvI/oXUzDk1MdRW9MAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/38d54232a87e9653faed1fb43677558c/7c297/img05.webp 180w,\n/static/38d54232a87e9653faed1fb43677558c/33ecc/img05.webp 360w,\n/static/38d54232a87e9653faed1fb43677558c/df77d/img05.webp 720w,\n/static/38d54232a87e9653faed1fb43677558c/5c666/img05.webp 1080w,\n/static/38d54232a87e9653faed1fb43677558c/b495b/img05.webp 1105w\"\n              sizes=\"(max-width: 720px) 100vw, 720px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/38d54232a87e9653faed1fb43677558c/e9ea2/img05.png 180w,\n/static/38d54232a87e9653faed1fb43677558c/53918/img05.png 360w,\n/static/38d54232a87e9653faed1fb43677558c/242a6/img05.png 720w,\n/static/38d54232a87e9653faed1fb43677558c/b4ad3/img05.png 1080w,\n/static/38d54232a87e9653faed1fb43677558c/0b602/img05.png 1105w\"\n            sizes=\"(max-width: 720px) 100vw, 720px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/38d54232a87e9653faed1fb43677558c/242a6/img05.png\"\n            alt=\"img05\"\n            title=\"img05\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<p>ì €ê¸° ìŠ¤ë‹ˆí«ì„ ë³µì‚¬í•´ì¤€ë‹¤.<br>\nê·¸ë¦¬ê³  Next.Jsì˜ í´ë” ì¤‘ì— <strong>public</strong> ë””ë ‰í† ë¦¬ì— <strong>ads.txt</strong>ë¼ëŠ” íŒŒì¼ì„ í•˜ë‚˜ ë§Œë“¤ì–´ì¤€ë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 154px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 61.038961038961034%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABtElEQVQoz42SbY7SUBhGZx0SpN/ft53SAgXEosC0FkaBYSLqmDjGqHED+sNE9+Iy3I/bOIYrQyQyIz/e3LZ578l5nvRENQNU08cLYhS/hb7+TJCN8UVC3B7Qy89Iu0N0W6AYnty9a05UK5CL0WmLupuQfP1B9/Idw1HF04srOcX0AtuPaeju8cDNcsPw8BSdsSOwrADdCVG2kBu7/1lKoHwxPPxWn3HQ5Neba149Lng0WzFfXTEq51tQcBxwt7Sx0j1CxcbQPTRbyO8b+1rDoK5aO8vbwFtDT8aNwpR7SQfn2xfSccEgL5hUS86qJeX5Jf282OvxEHRnqJg+gUio+RHJpw90yikiapMNxpSzlYydZjn3NedP37q7M/0bvBe5oTlobog6KagbLmGc4YoUzRIYTojhRth+E1ckWF58RIebOCLG/PgWJW6RD0vWr98zna85X7xktnjBcDKjevZcVnEo9h5QnnaEmYzkc61h7sW7uaRZgZw7O5RAzUYPe3S//8TslDyp5izX1+SjqbTLHoyoq/Y//+WtHcrTEtiDBVrQJk57JJ2HiDjjNO3jBM29y4cMfwNUwXEByAI8BgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/b798e0640c6f6690d9d6439b5ac50fa2/f58a0/img06.webp 154w\"\n              sizes=\"(max-width: 154px) 100vw, 154px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/b798e0640c6f6690d9d6439b5ac50fa2/9d5da/img06.png 154w\"\n            sizes=\"(max-width: 154px) 100vw, 154px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/b798e0640c6f6690d9d6439b5ac50fa2/9d5da/img06.png\"\n            alt=\"img06\"\n            title=\"img06\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<p>ì´ë ‡ê²Œ í•˜ë©´ ëì´ë‹¤.<br>\nìì‹ ì˜ ì‚¬ì´íŠ¸ì—ì„œ ë’¤ì— ads.txt ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë©´ ëì´ë‹¤.</p>\n<p>ì˜ˆë¥¼ ë“¤ì–´ abc.com/ads.txt í–ˆì„ ë•Œ ì € ë¬¸êµ¬ê°€ ë‚˜ì˜¤ë©´ ëœë‹¤.</p>\n<h2 id=\"ì •ë¦¬\" style=\"position:relative;\"><a href=\"#%EC%A0%95%EB%A6%AC\" aria-label=\"ì •ë¦¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì •ë¦¬</h2>\n<p>ì´ë ‡ê²Œ ë§Œë“  ë‹¤ìŒ ë°°í¬í•˜ë©´ ëì´ë‹¤.<br>\në¬¼ë¡  ì´ë ‡ê²Œë§Œ í•œë‹¤ê³  êµ¬ê¸€ì— ê´‘ê³ ë¥¼ ë°”ë¡œ ë‚´ì–´ì£¼ì§„ ì•Šê³  ê²€í† ë¥¼ í•˜ê³  ì¤€ë‹¤.</p>\n<p>ê·¸ë¦¬ê³  ê´‘ê³ ê°€ ê²Œì¬ë  ì˜ì—­ë„ ë§Œë“¤ì–´ì¤˜ì•¼ í•œë‹¤.<br>\nê·¼ë° ì´ ë¶€ë¶„ì€ ì¼ë‹¨ ê´‘ê³  ìŠ¹ì¸ì´ ë‚œ ë’¤ì— í¬ìŠ¤íŒ… í•´ë´ì•¼ê² ë‹¤.</p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#how-to\">How To?</a></p>\n<ul>\n<li><a href=\"#1-script-%EC%9D%B8%EC%A6%9D-%EB%B0%A9%EC%8B%9D\">1. Script ì¸ì¦ ë°©ì‹</a></li>\n<li><a href=\"#2-adstxt-%EC%9D%B8%EC%A6%9D-%EB%B0%A9%EC%8B%9D\">2. Ads.txt ì¸ì¦ ë°©ì‹</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%A0%95%EB%A6%AC\">ì •ë¦¬</a></p>\n</li>\n</ul>\n</div>","frontmatter":{"date":"2023.04.04","title":"Next.Jsì— êµ¬ê¸€ ì• ë“œì„¼ìŠ¤(Adsense) ë“±ë¡í•˜ê¸°","categories":"next-js","emoji":"ğŸ“œ"},"fields":{"slug":"/next-js/230404_nextjs_in_adsense/"}},"site":{"siteMetadata":{"siteUrl":"https://elfinlas.github.io","comments":{"utterances":{"repo":"elfinlas/blog_utterances"}},"projects":[{"title":"ë§ˆì™€ì…€(ì›¹) - ì™€ì¸ ê°€ê²© ë¹„êµ","description":"ì™€ì¸ ê°€ê²© ë¹„êµ ì„œë¹„ìŠ¤","techStack":["Typescript","React","Next.Js","Nest.Js"],"thumbnailUrl":"myc_icon.png","links":{"post":"https://blog.naver.com/wisseraph/223393940649","github":"","web":"https://appmyc.info","googlePlay":"","appStore":""}},{"title":"ë§ˆì™€ì…€(ì—¡) - ì™€ì¸ê³¼ ì…€ëŸ¬ ê´€ë¦¬, ì‹œìŒë…¸íŠ¸","description":"ë³´ìœ í•œ ì™€ì¸ì˜ ê´€ë¦¬, ì‹œìŒë…¸íŠ¸ ì‘ì„±, ë³´ìœ  ì™€ì¸ ì…€ëŸ¬ì˜ ê´€ë¦¬ ì–´í”Œë¦¬ì¼€ì´ì…˜","techStack":["Dart","Flutter","hive","provider"],"thumbnailUrl":"myc_icon.png","links":{"post":"https://blog.naver.com/wisseraph/223531933037","github":"","web":"","googlePlay":"https://play.google.com/store/apps/details?id=dev.mhlab.myc","appStore":"https://itunes.apple.com/kr/app/apple-store/6474965246"}},{"title":"í‘ìš°ì§‘í•©ì†Œ(ì›¹) - ë¡œë˜ë²ˆí˜¸ ì¶”ì²œ ì„œë¹„ìŠ¤","description":"ë¡œë˜ë²ˆí˜¸ ì¶”ì²œ ì„œë¹„ìŠ¤","techStack":["Typescript","React","Next.Js","Nest.Js"],"thumbnailUrl":"bcow_icon.png","links":{"post":"https://blog.naver.com/wisseraph/223059966682","github":"","web":"https://bcow.world/","googlePlay":"","appStore":""}},{"title":"í‘ìš°ì§‘í•©ì†Œ(ì•±) - ë¡œë˜ë²ˆí˜¸ ì¶”ì²œ ì„œë¹„ìŠ¤","description":"ë¡œë˜ë²ˆí˜¸ ì¶”ì²œ ì„œë¹„ìŠ¤","techStack":["Dart","Flutter","drift","provider"],"thumbnailUrl":"bcow_icon.png","links":{"post":"https://blog.naver.com/wisseraph/223232966579","github":"","web":"","googlePlay":"https://play.google.com/store/apps/details?id=dev.mhlab.bcow_world","appStore":"https://itunes.apple.com/kr/app/apple-store/6470312130"}}]}}},"pageContext":{"slug":"/nginx/230401_defense_attacker/","nextSlug":"/nest_js/230401_ipv6_ipv4/","prevSlug":"/next-js/230404_nextjs_in_adsense/"}},"staticQueryHashes":["1186322783","1321405810","3649515864"]}