{"componentChunkName":"component---src-templates-post-template-index-tsx","path":"/til/230119_til/","result":{"data":{"cur":{"id":"a2ac70d7-53cf-5f20-8d93-d95c2e73b834","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABMElEQVQoz42S0Y6CMBBFW6Cl0GmhxYorrJpAsolP+v8fdzetrqtmxX24GToZztxOhzHGcC+vCEOzwqA9drTCJ3XYmRX2NuDQrJN647A2LYzSeP6fPSciQBTir8KknGegvESTqwRXolwGRmdK/haFEDBNE7bDAOf9Q+26btCWehkYryfy4nbWWmMcxwQmopTjjF+aVRauomVgnFWeZQ85znnSc21XEnxtl4FxLnFOPyApZXJpjEFd18jumnmp0Wn7D4dXYLziPM84Ho84n844n06pwc2hJHS6eePQBpTi8srRTV4UYJwl5fLx9Z3UCNQuA3tlMbuPtIss42grwtZ22BiHnlz6vpw9Dm2PWqpl4A1cWXyFEVRWqLmAzmQSpShSLHnxfrH5NZJQmNzm5YK/0jegveteJRG0qAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/39caabbd44b8d6bf6560fecef746ecb3/7c297/thumbnail_til.webp 180w,\n/static/39caabbd44b8d6bf6560fecef746ecb3/33ecc/thumbnail_til.webp 360w,\n/static/39caabbd44b8d6bf6560fecef746ecb3/df77d/thumbnail_til.webp 720w,\n/static/39caabbd44b8d6bf6560fecef746ecb3/dd3ab/thumbnail_til.webp 895w\"\n              sizes=\"(max-width: 720px) 100vw, 720px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/39caabbd44b8d6bf6560fecef746ecb3/e9ea2/thumbnail_til.png 180w,\n/static/39caabbd44b8d6bf6560fecef746ecb3/53918/thumbnail_til.png 360w,\n/static/39caabbd44b8d6bf6560fecef746ecb3/242a6/thumbnail_til.png 720w,\n/static/39caabbd44b8d6bf6560fecef746ecb3/b002d/thumbnail_til.png 895w\"\n            sizes=\"(max-width: 720px) 100vw, 720px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/39caabbd44b8d6bf6560fecef746ecb3/242a6/thumbnail_til.png\"\n            alt=\"thumbnail\"\n            title=\"thumbnail\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<h1 id=\"23ë…„-2ì›”-13ì¼-til--ê°œë°œë…¸íŠ¸-í‘ìš°ì§‘í•©ì†Œ\" style=\"position:relative;\"><a href=\"#23%EB%85%84-2%EC%9B%94-13%EC%9D%BC-til--%EA%B0%9C%EB%B0%9C%EB%85%B8%ED%8A%B8-%ED%9D%91%EC%9A%B0%EC%A7%91%ED%95%A9%EC%86%8C\" aria-label=\"23ë…„ 2ì›” 13ì¼ til  ê°œë°œë…¸íŠ¸ í‘ìš°ì§‘í•©ì†Œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>23ë…„ 2ì›” 13ì¼ TIL &#x26; ê°œë°œë…¸íŠ¸ (í‘ìš°ì§‘í•©ì†Œ)</h1>\n<p>ê¸ˆì¼ í‘ìš°ì§‘í•©ì†Œë¥¼ ê°œë°œí•˜ë©° ë°°ìš´ ë‚´ìš© ë° ê²ªì€ ê³¼ì •ì„ ì •ë¦¬í•˜ì—¬ ì˜¬ë ¤ë³¸ë‹¤.</p>\n<p>ì˜¤ëŠ˜ì€ JWT ì¸ì¦ ë¶€ë¶„ì„ ì²˜ë¦¬í•˜ì˜€ë‹¤.</p>\n<h2 id=\"nestjsì—ì„œ-jwt-ì‚¬ìš©ì‹œ-error-ì»¤ìŠ¤í…€-ì²˜ë¦¬\" style=\"position:relative;\"><a href=\"#nestjs%EC%97%90%EC%84%9C-jwt-%EC%82%AC%EC%9A%A9%EC%8B%9C-error-%EC%BB%A4%EC%8A%A4%ED%85%80-%EC%B2%98%EB%A6%AC\" aria-label=\"nestjsì—ì„œ jwt ì‚¬ìš©ì‹œ error ì»¤ìŠ¤í…€ ì²˜ë¦¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Nest.jsì—ì„œ JWT ì‚¬ìš©ì‹œ Error ì»¤ìŠ¤í…€ ì²˜ë¦¬</h2>\n<ul>\n<li>Passport-JWTë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ë ¤ í–ˆëŠ”ë° Access Jwtì˜ í† í° ë§Œë£Œì‹œì—ë„ 401ì„ ë„ìš´ë‹¤.</li>\n<li>ë‚˜ëŠ” Access Tokenì— ëŒ€í•´ì„œëŠ” í† í° ë§Œë£Œ ì‹œ ì„œë²„ ë‚´ì—ì„œ ì €ì¥ëœ ë¦¬í”„ë ˆì‹œ í† í°ì„ í™•ì¸í•˜ê³  ê·¸ì— ë”°ë¥¸ ì¶”ê°€ ì‘ì—…ì„ í•˜ê¸° ì›í–ˆë‹¤.</li>\n<li>ë¬¼ë¡  try catchë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆì§€ë§Œ ì´ë ‡ê²Œ í•˜ë©´ <strong>AuthExceptionHandler</strong>ì²˜ë¦¬ ë¶€ë¶„ì´ ë„ˆë¬´ ì§€ì €ë¶„í•´ì§„ë‹¤.</li>\n<li>ê·¸ë˜ì„œ ì¢€ ì°¾ì•„ë³¸ ê²°ê³¼ <strong>passport-custom</strong>ì´ë€ ê²ƒìœ¼ë¡œ <strong>Strategy</strong>ë¶€í„° ì»¤ìŠ¤í…€ ì²˜ë¦¬ë¥¼ í•  ìˆ˜ ìˆëŠ” ê²ƒì„ ì°¾ì•˜ë‹¤.(ì´ê±´ ë”°ë¡œ í¬ìŠ¤íŒ… ì˜ˆì •)</li>\n<li>íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•˜ê³  ì ìš©í•´ë´¤ë‹¤.</li>\n<li>ì¼ì¼íˆ JWTì— ëŒ€í•œ ì—ëŸ¬ë¥¼ í•¸ë“¤ë§ í•´ì•¼ í•˜ëŠ” ë¶€ë¶„ì´ ìˆì§€ë§Œ ì§ì ‘ í•¸ë“¤ë§ì„ í•  ìˆ˜ ìˆì–´ì„œ ë” ì¢‹ì€ ê²ƒ ê°™ë‹¤.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Inject<span class=\"token punctuation\">,</span> Injectable <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@nestjs/common'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> PassportStrategy <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@nestjs/passport'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Request <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'express'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Strategy <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'passport-custom'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> AuthException <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../exceptions/auth.exception'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> AuthJwtErrorCode <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../exceptions/auth.jwt.error.code'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> VerifyJwtOutboundPort<span class=\"token punctuation\">,</span> <span class=\"token constant\">VERIFY_JWT_OUTBOUND_PORT</span> <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../ports/out/jwt/verify.jwt.outbound.port'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> <span class=\"token constant\">JWT_TYPE</span> <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../types/jwt.enums'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Injectable</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AccessJwtStrategy</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">PassportStrategy</span><span class=\"token punctuation\">(</span>Strategy<span class=\"token punctuation\">,</span> <span class=\"token string\">'jwt'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span>\n    <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Inject</span></span><span class=\"token punctuation\">(</span><span class=\"token constant\">VERIFY_JWT_OUTBOUND_PORT</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">readonly</span> verifyjwtOutboundPort<span class=\"token operator\">:</span> VerifyJwtOutboundPort<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">async</span> <span class=\"token function\">validate</span><span class=\"token punctuation\">(</span>req<span class=\"token operator\">:</span> Request<span class=\"token punctuation\">,</span> payload<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> jwt <span class=\"token operator\">=</span> req<span class=\"token punctuation\">.</span><span class=\"token function\">header</span><span class=\"token punctuation\">(</span><span class=\"token string\">'TestJwtKey'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>jwt<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">AuthException</span><span class=\"token punctuation\">(</span>AuthJwtErrorCode<span class=\"token punctuation\">.</span><span class=\"token function\">jwtNotFound</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>verifyjwtOutboundPort<span class=\"token punctuation\">.</span><span class=\"token function\">excute</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> jwt<span class=\"token punctuation\">,</span> tokenType<span class=\"token operator\">:</span> <span class=\"token constant\">JWT_TYPE</span><span class=\"token punctuation\">.</span><span class=\"token constant\">ACCESS_TOKEN</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">return</span> payload<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ë•ë¶„ì— ê¸°ì¡´ì— ìˆë˜ JwtStrategyì—ì„œ ì§ì ‘ ì²˜ë¦¬ë¥¼ í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.<br>\nì „ì— <strong>passport-jwt</strong>ì‚¬ìš©í•  ë•ŒëŠ” ìƒì„±ìì—ë„ ì£¼ë ì£¼ë  ë§¤ë‹¬ì•„ì„œ ë³´ëƒˆì—ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n            jwtFromRequest<span class=\"token operator\">:</span> ExtractJwt<span class=\"token punctuation\">.</span><span class=\"token function\">fromExtractors</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">(</span>req<span class=\"token operator\">:</span> Request<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> req<span class=\"token punctuation\">.</span><span class=\"token function\">header</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"TestJwtKey\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            secretOrKey<span class=\"token operator\">:</span> key<span class=\"token punctuation\">,</span>\n            issuer<span class=\"token operator\">:</span> <span class=\"token function\">getJwtIssuer</span><span class=\"token punctuation\">(</span><span class=\"token constant\">JWT_TYPE</span><span class=\"token punctuation\">.</span><span class=\"token constant\">ACCESS_TOKEN</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            audience<span class=\"token operator\">:</span> <span class=\"token function\">getJwtAudience</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            ignoreExpiration<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n            passReqToCallback<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">as</span> StrategyOptions<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì´ì œëŠ” <strong>Strategy</strong>ì˜ì—­ì´ ì¢€ ê¹”ë”í•´ ì§„ ê²ƒ ê°™ë‹¤.</p>\n<p>ê·¸ë¦¬ê³  Nest.jsì—ì„œ ì œê³µí•˜ëŠ” <strong>JwtService</strong>ì˜ ê²½ìš° <strong>verify</strong>ë©”ì„œë“œë¡œ ê²€ì¦ì„ í•  ìˆ˜ ìˆëŠ”ë°,<br>\nì´ë•ŒëŠ” ìƒì„±í–ˆë˜ JWTì˜ ì†ì„±ì„ ë‹¤ ê°€ì§€ê³  ì™€ì•¼ í•œë‹¤.<br>\nì†ì„±ì€ <strong>issuer</strong> <strong>audience</strong> ë“±ì„ ì˜ë¯¸í•œë‹¤.</p>\n<p>ì‰½ê²Œ ìƒì„±í•  ë•Œì™€ ë§ì¶°ì£¼ë©´ ëœë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>jwtService<span class=\"token punctuation\">.</span><span class=\"token function\">sign</span><span class=\"token punctuation\">(</span>\n  <span class=\"token punctuation\">{</span> data<span class=\"token operator\">:</span> payload <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span>\n    secret<span class=\"token operator\">:</span> secretKey<span class=\"token punctuation\">,</span>\n    expiresIn<span class=\"token operator\">:</span> expiredTime<span class=\"token punctuation\">,</span>\n    audience<span class=\"token operator\">:</span> <span class=\"token function\">getJwtAudience</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    issuer<span class=\"token operator\">:</span> <span class=\"token function\">getJwtIssuer</span><span class=\"token punctuation\">(</span>params<span class=\"token punctuation\">.</span>jwtType<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ì´ë ‡ê²Œ ìƒì„±í•  ë•Œ <strong>issuer</strong> <strong>audience</strong>ë¥¼ ì „ë‹¬í–ˆë‹¤ë©´ ê²€ì¦í•  ë•Œë„ ê°™ì´ ë„£ì–´ì¤˜ì•¼ í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>jwtService<span class=\"token punctuation\">.</span><span class=\"token function\">verify</span><span class=\"token punctuation\">(</span>jwt<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  secret<span class=\"token punctuation\">,</span>\n  audience<span class=\"token operator\">:</span> <span class=\"token function\">getJwtAudience</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  issuer<span class=\"token operator\">:</span> <span class=\"token function\">getJwtIssuer</span><span class=\"token punctuation\">(</span><span class=\"token constant\">JWT_TYPE</span><span class=\"token punctuation\">.</span><span class=\"token constant\">ACCESS_TOKEN</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">as</span> JwtVerifyOptions<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ì´ëŸ° ì‹ìœ¼ë¡œ ì²˜ë¦¬í–ˆë‹¤.<br>\nì € <strong>JwtVerifyOptions</strong> íƒ€ì…ì„ íƒ€ê³  ë“¤ì–´ê°€ë©´ ì•„ë˜ì™€ ê°™ì€ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token generic-function\"><span class=\"token function\">verify</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> object <span class=\"token operator\">=</span> <span class=\"token builtin\">any</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>token<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> options<span class=\"token operator\">?</span><span class=\"token operator\">:</span> JwtVerifyOptions<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">;</span>\n\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">JwtVerifyOptions</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">jwt</span><span class=\"token punctuation\">.</span>VerifyOptions <span class=\"token punctuation\">{</span>\n    secret<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">|</span> Buffer<span class=\"token punctuation\">;</span>\n    publicKey<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">|</span> Buffer<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">VerifyOptions</span> <span class=\"token punctuation\">{</span>\n    algorithms<span class=\"token operator\">?</span><span class=\"token operator\">:</span> Algorithm<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">;</span>\n    audience<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">|</span> RegExp <span class=\"token operator\">|</span> <span class=\"token builtin\">Array</span><span class=\"token operator\">&lt;</span><span class=\"token builtin\">string</span> <span class=\"token operator\">|</span> RegExp<span class=\"token operator\">></span> <span class=\"token operator\">|</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">;</span>\n    clockTimestamp<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">;</span>\n    clockTolerance<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">/** return an object with the decoded `{ payload, header, signature }` instead of only the usual content of the payload. */</span>\n    complete<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">boolean</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">;</span>\n    issuer<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">|</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">;</span>\n    ignoreExpiration<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">boolean</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">;</span>\n    ignoreNotBefore<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">boolean</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">;</span>\n    jwtid<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">/**\n     * If you want to check `nonce` claim, provide a string value here.\n     * It is used on Open ID for the ID Tokens. ([Open ID implementation notes](https://openid.net/specs/openid-connect-core-1_0.html#NonceNotes))\n     */</span>\n    nonce<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">;</span>\n    subject<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">;</span>\n    maxAge<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">|</span> <span class=\"token builtin\">number</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br>\n<h2 id=\"ê¶ê¸ˆì \" style=\"position:relative;\"><a href=\"#%EA%B6%81%EA%B8%88%EC%A0%90\" aria-label=\"ê¶ê¸ˆì  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê¶ê¸ˆì </h2>\n<p>ê¸°ì¡´ì— <strong>AuthGuard</strong>ë¶€ë¶„ì—ì„œ ì¢€ ë” ì¡°ì‘í•˜ë©´ í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ì•˜ëŠ”ë° ë„ˆë¬´ ì‹œê°„ì„ ë¹¼ë¨¹ì–´ì„œ ì§„í–‰í•˜ì§€ ì•Šì•˜ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> ExecutionContext<span class=\"token punctuation\">,</span> Injectable <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@nestjs/common'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> AuthGuard <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@nestjs/passport'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Injectable</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AccessJwtAuthGuard</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">AuthGuard</span><span class=\"token punctuation\">(</span><span class=\"token string\">'accessJwt'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token generic-function\"><span class=\"token function\">handleRequest</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>TUser <span class=\"token operator\">=</span> <span class=\"token builtin\">any</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>err<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">,</span> user<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">,</span> info<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">,</span> context<span class=\"token operator\">:</span> ExecutionContext<span class=\"token punctuation\">,</span> status<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> TUser <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>info <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">JsonWebTokenError</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'errror = '</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token comment\">// return { \"data : \": \"test\" } as any;</span>\n      <span class=\"token keyword\">return</span> <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">handleRequest</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token string-property property\">'data : '</span><span class=\"token operator\">:</span> <span class=\"token string\">'test'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token string-property property\">'data : '</span><span class=\"token operator\">:</span> <span class=\"token string\">'aaaa'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> context<span class=\"token punctuation\">,</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">handleRequest</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">,</span> user<span class=\"token punctuation\">,</span> info<span class=\"token punctuation\">,</span> context<span class=\"token punctuation\">,</span> status<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ê¸°ì¡´ì—ëŠ” ìœ„ì™€ ê°™ì´ ì‘ì„±í–ˆëŠ”ë° ë§Œë£Œí•˜ëŠ” ì‹œì ì€ ì¡ì„ ìˆ˜ ìˆì—ˆì§€ë§Œ ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ë°”ë¡œ ì—ëŸ¬ ì‘ë‹µì„ í•´ë²„ë ¸ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Post</span></span><span class=\"token punctuation\">(</span><span class=\"token string\">\"test\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">UseGuards</span></span><span class=\"token punctuation\">(</span>AccessJwtAuthGuard<span class=\"token punctuation\">)</span>\n    <span class=\"token function\">testJwt</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> ok<span class=\"token operator\">:</span> <span class=\"token string\">\"ok\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì •ë…• <strong>passport-jwt</strong>ì—ì„œëŠ” ì•½ê°„ì˜ ì»¤ìŠ¤í…€ ì²˜ë¦¬ë¥¼ ëª»í•˜ëŠ” ê²ƒì¸ì§€â€¦<br>\nì´ ë¶€ë¶„ì€ ì‹œê°„ì´ ë‚˜ë©´ ë‹¤ì‹œ ì°¾ì•„ë´ì•¼ê² ë‹¤.</p>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#nestjs%EC%97%90%EC%84%9C-jwt-%EC%82%AC%EC%9A%A9%EC%8B%9C-error-%EC%BB%A4%EC%8A%A4%ED%85%80-%EC%B2%98%EB%A6%AC\">Nest.jsì—ì„œ JWT ì‚¬ìš©ì‹œ Error ì»¤ìŠ¤í…€ ì²˜ë¦¬</a></li>\n<li><a href=\"#%EA%B6%81%EA%B8%88%EC%A0%90\">ê¶ê¸ˆì </a></li>\n</ul>\n</div>","excerpt":"23ë…„ 2ì›” 13ì¼ TIL & ê°œë°œë…¸íŠ¸ (í‘ìš°ì§‘í•©ì†Œ) ê¸ˆì¼ í‘ìš°ì§‘í•©ì†Œë¥¼ ê°œë°œí•˜ë©° ë°°ìš´ ë‚´ìš© ë° ê²ªì€ ê³¼ì •ì„ ì •ë¦¬í•˜ì—¬ ì˜¬ë ¤ë³¸ë‹¤. ì˜¤ëŠ˜ì€ JWT ì¸ì¦ ë¶€ë¶„ì„ ì²˜ë¦¬í•˜ì˜€ë‹¤. Nest.jsì—ì„œ JWT ì‚¬ìš©ì‹œ Error ì»¤ìŠ¤í…€ ì²˜ë¦¬ Passport-JWTë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ë ¤ í–ˆëŠ”ë° Access Jwtì˜ í† í° ë§Œë£Œì‹œì—ë„ 401ì„ ë„ìš´ë‹¤. ë‚˜ëŠ” Access Tokenì— ëŒ€í•´ì„œëŠ” í† í° ë§Œë£Œ ì‹œ ì„œë²„ ë‚´ì—ì„œ ì €ì¥ëœ ë¦¬í”„ë ˆì‹œ í† í°ì„ í™•ì¸í•˜ê³  ê·¸ì— ë”°ë¥¸ ì¶”ê°€ ì‘ì—…ì„ í•˜ê¸° ì›í–ˆë‹¤. ë¬¼ë¡  try catchë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆì§€ë§Œ ì´ë ‡ê²Œ í•˜ë©´ AuthExceptionHandlerì²˜ë¦¬ ë¶€ë¶„ì´ ë„ˆë¬´ ì§€ì €ë¶„í•´ì§„ë‹¤. ê·¸ë˜ì„œ ì¢€ ì°¾ì•„ë³¸ ê²°ê³¼ passport-customì´ë€ ê²ƒìœ¼ë¡œ Strategyë¶€í„° ì»¤ìŠ¤í…€ ì²˜ë¦¬ë¥¼ í•  ìˆ˜ ìˆëŠ” ê²ƒì„ ì°¾ì•˜ë‹¤.(ì´ê±´ ë”°ë¡œ í¬ìŠ¤íŒ… ì˜ˆì •) íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•˜ê³  ì ìš©í•´ë´¤ë‹¤. ì¼ì¼íˆ JWTì— ëŒ€í•œ ì—ëŸ¬ë¥¼ í•¸ë“¤ë§ í•´ì•¼ í•˜ëŠ” ë¶€ë¶„ì´ ìˆì§€ë§Œ ì§ì ‘ í•¸ë“¤ë§ì„ í•  ìˆ˜ ìˆì–´ì„œ ë” ì¢‹ì€ ê²ƒ ê°™ë‹¤. ë•ë¶„ì— ê¸°ì¡´ì— ìˆë˜ â€¦","frontmatter":{"date":"2023.02.13","title":"23ë…„ 2ì›” 13ì¼ TIL & ê°œë°œë…¸íŠ¸ (í‘ìš°ì§‘í•©ì†Œ)","categories":"til","emoji":"ğŸ“œ"},"fields":{"slug":"/til/230119_til/"}},"next":{"id":"12d0116d-0a08-5854-9ab6-3d990c061488","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 52.222222222222214%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABeElEQVQoz5VSTUsCURT1X7TqY9O+VbRQIdpWizZCqxb1A4JWBS3cFAgtIspNiyCCoEVBRWJJQhqWFbop6GNg+nJSEccZ5+PNeyfm6ehIRnbgvHfhvXvu4d7rAQBGKacbjDFOd/wXbXicwIEliND2I+2F7cKu2Hl3//VwkVwe8nwIBV8AheFJFPwBkCeh1bFFWxL5TazarVTBTFJzaB/y4gqkXh+kHi9y3V4Ux2c47UK0okDd3IW2dwwzcw8jcQ395BzGVQba4RnIo4DK8gas14+mIJUrYFUNRjyFr4FRSP0jyHUNwkikQWUFcnAV+mmCF5YXQjBvstAjcZRng1y0srQOWizVe2jVbBupO6jhbZSm5iD1+ZEfmgARRDC1Cu0oBjOdhXF5C+0gCj2W5I5sUfLwDD16Aevtsy5Ia/0gLyLU8A6UtS0Ux6ZhJNMtze8EjaG4J2WJ76Bluf26UNaYtGPEWbkfa8M/EdKs5iT+gw3BX3eNtbrvBN9Ty+sRGu0ozQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/b7685b7a900370c34be4e657df3f862d/7c297/thumbnail_nestjs.webp 180w,\n/static/b7685b7a900370c34be4e657df3f862d/33ecc/thumbnail_nestjs.webp 360w,\n/static/b7685b7a900370c34be4e657df3f862d/84c6d/thumbnail_nestjs.webp 700w\"\n              sizes=\"(max-width: 700px) 100vw, 700px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/b7685b7a900370c34be4e657df3f862d/e9ea2/thumbnail_nestjs.png 180w,\n/static/b7685b7a900370c34be4e657df3f862d/53918/thumbnail_nestjs.png 360w,\n/static/b7685b7a900370c34be4e657df3f862d/a27c6/thumbnail_nestjs.png 700w\"\n            sizes=\"(max-width: 700px) 100vw, 700px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/b7685b7a900370c34be4e657df3f862d/a27c6/thumbnail_nestjs.png\"\n            alt=\"thumbnail\"\n            title=\"thumbnail\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<h1 id=\"ë¸”ë¡œê·¸ìš©-ì‘ì€-í”„ë¡œì íŠ¸ë¥¼-ë§Œë“¤ë‹¤ê°€\" style=\"position:relative;\"><a href=\"#%EB%B8%94%EB%A1%9C%EA%B7%B8%EC%9A%A9-%EC%9E%91%EC%9D%80-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8%EB%A5%BC-%EB%A7%8C%EB%93%A4%EB%8B%A4%EA%B0%80\" aria-label=\"ë¸”ë¡œê·¸ìš© ì‘ì€ í”„ë¡œì íŠ¸ë¥¼ ë§Œë“¤ë‹¤ê°€ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë¸”ë¡œê·¸ìš© ì‘ì€ í”„ë¡œì íŠ¸ë¥¼ ë§Œë“¤ë‹¤ê°€â€¦</h1>\n<p>ì´ë²ˆì— <strong>Nest.Js</strong>ì—ì„œ <strong>Jwt</strong>ì“°ê¸° ì£¼ì œë¡œ í¬ìŠ¤íŒ…ì„ ì¤€ë¹„ì¤‘ì´ë‹¤.<br>\nê·¼ë° ì²˜ìŒë¶€í„° ë‹¤ì‹œ ì„¤ì¹˜í•´ì„œ í•˜ë ¤ë‹ˆê¹Œ ëª‡ ê°€ì§€ ë§‰íˆëŠ” ë¶€ë¶„ì´ ìˆì—ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token comment\">//auth.module.ts</span>\n<span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Module</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    imports<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    JwtModule<span class=\"token punctuation\">.</span><span class=\"token function\">register</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      secret<span class=\"token operator\">:</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">JWT_KEY</span><span class=\"token punctuation\">,</span>\n      signOptions<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> expiresIn<span class=\"token operator\">:</span> <span class=\"token string\">'60s'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>ì´ëŸ° ì½”ë“œê°€ ìˆë‹¤.<br>\nê·¼ë° @Module ì•ˆì—ì„œ process.envë¡œ ì„¤ì •íŒŒì¼ì— ì ‘ê·¼í•˜ë ¤ í–ˆë‹¤.</p>\n<p>ê·¼ë° ì•„ë˜ì™€ ê°™ì´ ì—ëŸ¬ê°€ ë°œìƒí–ˆë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 20%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA2UlEQVQY0zWO6W6DMBCEeZpeSVtuaIOxDTFgczQlXOr7v8dUu1V/jGa0Gn07nhI1rpVD1d6gzMQulIMqKhilUEkJVdbQ4k/lRUNcKoRxgbfwE6f3DA8vIR5PEZ7OMbwglWjHHe2w4mpnNP2CbtzRDBsauo8HZ9MvMD117qjtzK7NhLwwCFOJ59eEoV6QCBg7w00HjLujGzfO3bDCjhuG2w8/a9zCzyhTv+6+IbRDlCnEuYafCPhxAY/otIxA/zD3dcBOO4syiWH9yk6w+EMjyiSCtMTZz3kh6Rfpo4884pD84gAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/24c9340c13f5d6f39177875192ad9bf3/7c297/img01.webp 180w,\n/static/24c9340c13f5d6f39177875192ad9bf3/33ecc/img01.webp 360w,\n/static/24c9340c13f5d6f39177875192ad9bf3/df77d/img01.webp 720w,\n/static/24c9340c13f5d6f39177875192ad9bf3/493ca/img01.webp 952w\"\n              sizes=\"(max-width: 720px) 100vw, 720px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/24c9340c13f5d6f39177875192ad9bf3/e9ea2/img01.png 180w,\n/static/24c9340c13f5d6f39177875192ad9bf3/53918/img01.png 360w,\n/static/24c9340c13f5d6f39177875192ad9bf3/242a6/img01.png 720w,\n/static/24c9340c13f5d6f39177875192ad9bf3/be2fd/img01.png 952w\"\n            sizes=\"(max-width: 720px) 100vw, 720px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/24c9340c13f5d6f39177875192ad9bf3/242a6/img01.png\"\n            alt=\"img01\"\n            title=\"img01\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<p>ì´ìœ ê°€ ë­˜ê¹Œ ì ê¹ ê³ ë¯¼í–ˆëŠ”ë°â€¦<br>\nê¸°ì¡´ í”„ë¡œì íŠ¸ëŠ” ì´ë¯¸ ë‹¤ ë˜ì–´ ìˆëŠ” ê²ƒì´ë¼ì„œ ë‚´ê°€ ë¹¼ ë¨¹ì€ ì„¤ì •ê³¼ íŒ¨í‚¤ì§€ê°€ ìˆì—ˆë‹¤.</p>\n<h2 id=\"nextjsì—ì„œ-config\" style=\"position:relative;\"><a href=\"#nextjs%EC%97%90%EC%84%9C-config\" aria-label=\"nextjsì—ì„œ config permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Next.jsì—ì„œ Config</h2>\n<p>ì´ìœ ëŠ” ê°„ë‹¨í–ˆë‹¤.<br>\në¨¼ì € <strong>Config</strong>ê´€ë ¨ íŒ¨í‚¤ì§€ë¥¼ ë¹¼ë¨¹ì—ˆì—ˆë‹¤.</p>\n<p>ë¨¼ì € ì•„ë˜ì˜ ëª…ë ¹ì–´ë¡œ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•´ì¤€ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">> yarn add @nestjs/config</code></pre></div>\n<p>ê·¸ë¦¬ê³  ëª¨ë“ˆì˜ ìµœìƒë‹¨ì¸ <strong>app.module</strong>ì„ ì—°ë‹¤.<br>\nì•„ë˜ì™€ ê°™ì´ ëª¨ë“ˆ íŒŒì¼ì„ ìˆ˜ì •í•´ì¤€ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Module <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@nestjs/common'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> ConfigModule <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@nestjs/config'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> AuthModule <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./domain/auth/auth.module'</span>\n\n<span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Module</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  imports<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>ConfigModule<span class=\"token punctuation\">.</span><span class=\"token function\">forRoot</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> AuthModule<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  controllers<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  providers<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AppModule</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>imports</strong> ë¶€ë¶„ì—ì„œ ì €ë ‡ê²Œ ì²˜ë¦¬í•˜ë©´ ëœë‹¤.</p>\n<p>ë§Œì•½ êµ¬ë™ í™˜ê²½ë§ˆë‹¤ ì„¤ì •íŒŒì¼ì„ ì¢€ ë‹¤ë¥´ê²Œ í•˜ê³  ì‹¶ë‹¤ë©´ ì•„ë˜ì™€ ê°™ì´ ì²˜ë¦¬ê°€ ê°€ëŠ¥í•˜ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\">ConfigModule<span class=\"token punctuation\">.</span><span class=\"token function\">forRoot</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    envFilePath<span class=\"token operator\">:</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">NODE_ENV</span> <span class=\"token operator\">===</span> <span class=\"token string\">\"prod\"</span> <span class=\"token operator\">?</span> <span class=\"token string\">\".production.env\"</span> <span class=\"token operator\">:</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">NODE_ENV</span> <span class=\"token operator\">===</span> <span class=\"token string\">\"stage-dev\"</span> <span class=\"token operator\">?</span> <span class=\"token string\">\".stagedev.env\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\".dev.env\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></code></pre></div>\n<p>NODE_ENVëŠ” ì‹¤í–‰ ì¸ìì—ì„œ ì „ë‹¬í•´ì£¼ëŠ” ê²ƒìœ¼ë¡œ ì²˜ë¦¬í–ˆë‹¤.<br>\nì´ë ‡ê²Œ í•˜ë©´ ê° êµ¬ë™ ì¸ìì— ë”°ë¼ ì„¤ì • íŒŒì¼ì„ ë‹¤ë¥´ê²Œ ë„£ì„ ìˆ˜ ìˆë‹¤.</p>\n<p>ê·¸ë¦¬ê³  ì•„ê¹Œ ì˜ˆì œë¥¼ ë‹¤ì‹œ ë³´ë©´â€¦<br>\nì•½ê°„ ì½”ë“œë¥¼ ë°”ê¿”ì•¼ í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token comment\">//auth.module.ts</span>\n<span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Module</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    imports<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    JwtModule<span class=\"token punctuation\">.</span><span class=\"token function\">registerAsync</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      <span class=\"token function-variable function\">useFactory</span><span class=\"token operator\">:</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        secret<span class=\"token operator\">:</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">JWT_KEY</span><span class=\"token punctuation\">,</span>\n        signOptions<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> expiresIn<span class=\"token operator\">:</span> <span class=\"token string\">'60s'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><strong>registerAsync</strong> ì´ê±¸ ì¨ì¤˜ì•¼ ì •ìƒì ìœ¼ë¡œ ê°’ì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆë‹¤.<br>\nì € ë¹„ë™ê¸° ë“±ë¡ì„ ì“°ëŠ” ì´ìœ ëŠ” ì•„ì§ configì—ì„œ envë¥¼ ê°€ì ¸ì™€ì„œ ë“±ë¡í•˜ê¸° ìœ„í•¨ì´ë‹¤.</p>\n<p>ë§Œì•½ ì¼ë°˜ì ìœ¼ë¡œ <strong>JwtModule.register</strong>ë¥¼ ì‚¬ìš©í•˜ë©´ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.<br>\nê·¸ë˜ì„œ ë¹„ë™ê¸° ë“±ë¡ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤.</p>\n<h2 id=\"ì •ë¦¬\" style=\"position:relative;\"><a href=\"#%EC%A0%95%EB%A6%AC\" aria-label=\"ì •ë¦¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì •ë¦¬</h2>\n<p>ì•„ì£¼ ê°„ë‹¨í•œ ë¬¸ì œì˜€ëŠ”ë° ë•ë¶„ì— í•˜ë‚˜ ë°°ì› ë‹¤.<br>\ní•­ìƒ ê¸°ì¡´ í‹€ì„ ì´ìš©í•´ì„œ ê·¸ëŒ€ë¡œ ì§„í–‰í•˜ë‹ˆ ì´ëŸ° ë¶€ë¶„ì—ì„œ ë¬¸ì œê°€ ìƒê¸°ëŠ” ê²ƒ ê°™ë‹¤.</p>\n<p>í‹€ì—ì„œ ë²—ì–´ë‚˜ ë³¸ì§ˆì„ ì´í•´í•´ì•¼ í•˜ëŠ”ë° ì´ ë¶€ë¶„ì´ ë¶€ì¡±í–ˆë˜ ê²ƒ ê°™ë‹¤â€¦</p>\n<br>\n<p><a href=\"https://stackoverflow.com/questions/63285055/nestjs-how-to-use-env-variables-in-main-app-module-file-for-database-connecti\">ì°¸ê³  Stackoverflow</a><br>\n<a href=\"https://docs.nestjs.com/techniques/configuration\">ê³µì‹ Next.js confing ë¬¸ì„œ</a></p>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#nextjs%EC%97%90%EC%84%9C-config\">Next.jsì—ì„œ Config</a></li>\n<li><a href=\"#%EC%A0%95%EB%A6%AC\">ì •ë¦¬</a></li>\n</ul>\n</div>","frontmatter":{"date":"2023.02.13","title":"Nest.Jsì—ì„œ @Moduleì˜ ì†ì„±ì—ì„œ process.env ì‚¬ìš©í•˜ê¸°","categories":"nest_js","emoji":"ğŸ“œ"},"fields":{"slug":"/nest_js/230213_nestjs_module_config_load/"}},"prev":{"id":"433d1180-7b35-5de3-b36b-383ad8fb814f","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABMElEQVQoz42S0Y6CMBBFW6Cl0GmhxYorrJpAsolP+v8fdzetrqtmxX24GToZztxOhzHGcC+vCEOzwqA9drTCJ3XYmRX2NuDQrJN647A2LYzSeP6fPSciQBTir8KknGegvESTqwRXolwGRmdK/haFEDBNE7bDAOf9Q+26btCWehkYryfy4nbWWmMcxwQmopTjjF+aVRauomVgnFWeZQ85znnSc21XEnxtl4FxLnFOPyApZXJpjEFd18jumnmp0Wn7D4dXYLziPM84Ho84n844n06pwc2hJHS6eePQBpTi8srRTV4UYJwl5fLx9Z3UCNQuA3tlMbuPtIss42grwtZ22BiHnlz6vpw9Dm2PWqpl4A1cWXyFEVRWqLmAzmQSpShSLHnxfrH5NZJQmNzm5YK/0jegveteJRG0qAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/39caabbd44b8d6bf6560fecef746ecb3/7c297/thumbnail_til.webp 180w,\n/static/39caabbd44b8d6bf6560fecef746ecb3/33ecc/thumbnail_til.webp 360w,\n/static/39caabbd44b8d6bf6560fecef746ecb3/df77d/thumbnail_til.webp 720w,\n/static/39caabbd44b8d6bf6560fecef746ecb3/dd3ab/thumbnail_til.webp 895w\"\n              sizes=\"(max-width: 720px) 100vw, 720px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/39caabbd44b8d6bf6560fecef746ecb3/e9ea2/thumbnail_til.png 180w,\n/static/39caabbd44b8d6bf6560fecef746ecb3/53918/thumbnail_til.png 360w,\n/static/39caabbd44b8d6bf6560fecef746ecb3/242a6/thumbnail_til.png 720w,\n/static/39caabbd44b8d6bf6560fecef746ecb3/b002d/thumbnail_til.png 895w\"\n            sizes=\"(max-width: 720px) 100vw, 720px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/39caabbd44b8d6bf6560fecef746ecb3/242a6/thumbnail_til.png\"\n            alt=\"thumbnail\"\n            title=\"thumbnail\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<h1 id=\"23ë…„-2ì›”-13ì¼-til\" style=\"position:relative;\"><a href=\"#23%EB%85%84-2%EC%9B%94-13%EC%9D%BC-til\" aria-label=\"23ë…„ 2ì›” 13ì¼ til permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>23ë…„ 2ì›” 13ì¼ TIL</h1>\n<p>ê¸ˆì¼ í‘ìš°ì§‘í•©ì†Œë¥¼ ê°œë°œí•˜ë©° ë°°ìš´ ë‚´ìš© ë° ê²ªì€ ê³¼ì •ì„ ì •ë¦¬í•˜ì—¬ ì˜¬ë ¤ë³¸ë‹¤.<br>\nì˜¤ëŠ˜ì€ ê¹”ë”í•œ ì½”ë“œ ì‘ì„±ì— ëŒ€í•´ ê³ ë¯¼í•œ ë¶€ë¶„ì„ ì •ë¦¬í•˜ì—¬ ì˜¬ë ¤ë³¸ë‹¤.</p>\n<p>ì–´ì œ ì‘ì—…í•˜ë˜ JWT ë¶€ë¶„ì— ëŒ€í•´ ë§¤ë“­ì„ ì§€ë ¤ê³  í–ˆë‹¤.<br>\nì¼ë¶€ë¶„ì€ <strong>Ports And Adapters Architecture</strong> ë°©ì‹ìœ¼ë¡œ ì‘ì„±í•´ë³´ë ¤ê³  ë…¸ë ¥ì¤‘ì´ë‹¤.</p>\n<p>ê·¼ë° í™•ì‹¤íˆ ë ˆì´ì–´ë“œ ì•„í‚¤í…ì³ë³´ë‹¤ ë” ë‚˜ì€ ê²ƒ ê°™ë‹¤.<br>\nì´ìœ ëŠ” í¬ê²Œ ì„¸ ê°€ì§€ë‹¤.</p>\n<ol>\n<li>í•˜ë‚˜ì˜ ì½”ë“œ íŒŒì¼ì˜ ê°€ë…ì„± ì¦ê°€</li>\n<li>ë ˆì´ì–´ë“œ ë³´ë‹¤ ë” ì„¸ë¶„í™” ê°€ëŠ¥</li>\n<li>ê¹”ë”í•œ íŒŒì¼ ê´€ë¦¬</li>\n</ol>\n<p>ê°œì¸ì  ì‚¬ê²¬ì´ ë§ì´ ë…¹ì—¬ ìˆì–´ì„œ ë‹¤ë¥¸ ì‚¬ëŒì€ ê³µê° ëª»í•  ìˆ˜ ìˆë‹¤.<br>\në ˆì´ì–´ë“œ ì•„í‚¤í…ì³ë¡œë„ ì¶©ë¶„íˆ êµ¬í˜„ ê°€ëŠ¥í•˜ì§€ë§Œ, ì´ ì•„í‚¤í…ì³ë¡œ ì¸í•´ ëª…í™•í•˜ê²Œ ê° ì—­í• ì´ ë‚˜ëˆ ì§€ëŠ” ê²ƒì„ ì±„ê°í–ˆë‹¤.</p>\n<p>ì´ê²ƒì€ ì°¨í›„ì— ë‹¤ë£¨ê³ â€¦<br>\nì˜¤ëŠ˜ í–ˆë˜ ê³ ë¯¼ì€ ì•„ë˜ì™€ ê°™ë‹¤.</p>\n<br>\n<h2 id=\"ê³ ë¯¼-í¬ì¸íŠ¸\" style=\"position:relative;\"><a href=\"#%EA%B3%A0%EB%AF%BC-%ED%8F%AC%EC%9D%B8%ED%8A%B8\" aria-label=\"ê³ ë¯¼ í¬ì¸íŠ¸ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê³ ë¯¼ í¬ì¸íŠ¸</h2>\n<p>ë¨¼ì € ë‚´ê°€ jwtë¥¼ ê²€ì¦í•˜ëŠ” Inbound ì˜ì—­ì˜ ì„œë¹„ìŠ¤ ë¡œì§ì´ ìˆë‹¤.<br>\nì½”ë“œëŠ” ì•„ë˜ì™€ ê°™ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">VerifyJwtService</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">VerifyJwtOutboundPort</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">readonly</span> jwtService<span class=\"token operator\">:</span> JwtService<span class=\"token punctuation\">,</span>\n    <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Inject</span></span><span class=\"token punctuation\">(</span><span class=\"token constant\">DECODE_JWT_OUTBOUND_PORT</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">readonly</span> decodJwtOutboundPort<span class=\"token operator\">:</span> DecodeJwtOutboundPort<span class=\"token punctuation\">,</span>\n    <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Inject</span></span><span class=\"token punctuation\">(</span><span class=\"token constant\">FIND_ACCOUNT_EMAIL_JOIN_TYPE_OUTBOUND_PORT</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">readonly</span> findAccountEmailJoinTypeOutboundPort<span class=\"token operator\">:</span> FindAccountEmainJoinTypeOutboundPort<span class=\"token punctuation\">,</span>\n    <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Inject</span></span><span class=\"token punctuation\">(</span><span class=\"token constant\">LOGOUT_ACCOUNT_INBOUND_PORT</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">readonly</span> logoutAccountInboundPort<span class=\"token operator\">:</span> LogoutAccountInboundPort<span class=\"token punctuation\">,</span>\n    <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Inject</span></span><span class=\"token punctuation\">(</span><span class=\"token constant\">CREATE_JWT_OUTBOUND_PORT</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">readonly</span> createJwtOutboundPort<span class=\"token operator\">:</span> CreateJwtOutboundPort<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">async</span> <span class=\"token function\">excute</span><span class=\"token punctuation\">(</span>params<span class=\"token operator\">:</span> VerifyJwtInputDto<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n      params<span class=\"token punctuation\">.</span>tokenType <span class=\"token operator\">===</span> <span class=\"token constant\">JWT_TYPE</span><span class=\"token punctuation\">.</span><span class=\"token constant\">ACCESS_TOKEN</span>\n        <span class=\"token operator\">?</span> <span class=\"token keyword\">await</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">verifyAccessJwt</span><span class=\"token punctuation\">(</span>params<span class=\"token punctuation\">.</span>jwt<span class=\"token punctuation\">)</span>\n        <span class=\"token operator\">:</span> <span class=\"token keyword\">await</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">verifyRefreshJwt</span><span class=\"token punctuation\">(</span>params<span class=\"token punctuation\">.</span>jwt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">throw</span> e<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">private</span> <span class=\"token keyword\">async</span> <span class=\"token function\">verifyAccessJwt</span><span class=\"token punctuation\">(</span>jwt<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>jwtService<span class=\"token punctuation\">.</span><span class=\"token function\">verify</span><span class=\"token punctuation\">(</span>jwt<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n        secret<span class=\"token operator\">:</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">JWT_ACCESS_SECRET_KEY</span><span class=\"token punctuation\">,</span>\n        audience<span class=\"token operator\">:</span> <span class=\"token function\">getJwtAudience</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        issuer<span class=\"token operator\">:</span> <span class=\"token function\">getJwtIssuer</span><span class=\"token punctuation\">(</span><span class=\"token constant\">JWT_TYPE</span><span class=\"token punctuation\">.</span><span class=\"token constant\">ACCESS_TOKEN</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">as</span> JwtVerifyOptions<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> validResult <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">tokenExceptionHandler</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">,</span> jwt<span class=\"token punctuation\">,</span> <span class=\"token constant\">JWT_TYPE</span><span class=\"token punctuation\">.</span><span class=\"token constant\">ACCESS_TOKEN</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>validResult <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">AuthException</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">throw</span> validResult<span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n\n      <span class=\"token comment\">//ê³ ë¯¼ í¬ì¸íŠ¸ 01</span>\n      <span class=\"token comment\">//ì•¡ì„¸ìŠ¤ í† í°ì—ì„œ ë§Œë£Œê°€ ë˜ë©´ ë¦¬í”„ë˜ì‹œ í† í°ì„ ê²€ì¦í•œë‹¤.</span>\n      <span class=\"token comment\">//í° ë¬¸ì œ ì—†ë‹¤ë©´ AccessTokenì„ ë‹¤ì‹œ ì „ë‹¬í•œë‹¤.</span>\n      <span class=\"token comment\">//ì´ ë¶€ë¶„ì—ëŠ” ê±°ì˜ 10~20ì¤„ ì§œë¦¬ ì½”ë“œ ë¡œì§ì´ ë“¤ì–´ê°”ì—ˆë‹¤.</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">/**\n   * ë¦¬í”„ë ˆì‹œ í† í° ê²€ì¦  ê³ ë¯¼í¬ì¸íŠ¸ 02\n   * @param jwt\n   */</span>\n  <span class=\"token keyword\">private</span> <span class=\"token keyword\">async</span> <span class=\"token function\">verifyRefreshJwt</span><span class=\"token punctuation\">(</span>jwt<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>jwtService<span class=\"token punctuation\">.</span><span class=\"token function\">verify</span><span class=\"token punctuation\">(</span>jwt<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n        secret<span class=\"token operator\">:</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">JWT_REFRESH_SECRET_KEY</span><span class=\"token punctuation\">,</span>\n        audience<span class=\"token operator\">:</span> <span class=\"token function\">getJwtAudience</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        issuer<span class=\"token operator\">:</span> <span class=\"token function\">getJwtIssuer</span><span class=\"token punctuation\">(</span><span class=\"token constant\">JWT_TYPE</span><span class=\"token punctuation\">.</span><span class=\"token constant\">REFRESH_TOKEN</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">as</span> JwtVerifyOptions<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">//ê³ ë¯¼ í¬ì¸íŠ¸ 03</span>\n      <span class=\"token comment\">//ë¦¬í”„ë ˆì‹œ ë§Œë£Œì‹œì— ëŒ€í•œ ì²˜ë¦¬ ë¡œì§</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">/**\n   * í† í° ì˜ˆì™¸ ê³µí†µ ì²˜ë¦¬ í•¸ë“¤ëŸ¬\n   * @param e\n   * @param jwt\n   * @param tokenType\n   * @returns\n   */</span>\n  <span class=\"token keyword\">private</span> <span class=\"token function\">tokenExceptionHandler</span><span class=\"token punctuation\">(</span>e<span class=\"token operator\">:</span> Error<span class=\"token punctuation\">,</span> jwt<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> tokenType<span class=\"token operator\">:</span> JwtType<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">boolean</span> <span class=\"token operator\">|</span> AuthException <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">//í† í° ë§Œë£Œ ì‹œ</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>e <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">TokenExpiredError</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'[tokenExceptionHandler] : TokenExpiredError'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token comment\">// return true;</span>\n      <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">AuthException</span><span class=\"token punctuation\">(</span>AuthJwtErrorCode<span class=\"token punctuation\">.</span><span class=\"token function\">jwtExpired</span><span class=\"token punctuation\">(</span>jwt<span class=\"token punctuation\">,</span> tokenType<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token comment\">// payloadê°€ ì˜ ëª» ë˜ì—ˆì„ ë•Œ (base64 decodeê°€ ì•ˆë˜ëŠ” ê²½ìš° ë“±)</span>\n    <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>e <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">SyntaxError</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'[tokenExceptionHandler] : Syntax'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token comment\">// throw new AuthException(AuthJwtErrorCode.jwtInvalid(jwt, tokenType));</span>\n      <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">AuthException</span><span class=\"token punctuation\">(</span>AuthJwtErrorCode<span class=\"token punctuation\">.</span><span class=\"token function\">jwtInvalid</span><span class=\"token punctuation\">(</span>jwt<span class=\"token punctuation\">,</span> tokenType<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">// JwtWebTokenError should be later than TokenExpiredError</span>\n    <span class=\"token comment\">//ë³´í†µ í† í°ì˜ ì‹œí¬ë¦¿ ì½”ë“œê°€ ë³€ê²½ë˜ì—ˆëŠ”ë° êµ¬í˜• í‚¤ ê°’ì„ ì‚¬ìš©í•˜ì—¬ ë§Œë“¤ì–´ì§„ JWTë¥¼ ì‚¬ìš©í•  ê²½ìš° ë°œìƒ</span>\n    <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>e <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">JsonWebTokenError</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'[tokenExceptionHandler] : JsonWebTokenError'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token comment\">// throw new AuthException(AuthJwtErrorCode.invalidTokenOrInvalidSignature(jwt));</span>\n      <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">AuthException</span><span class=\"token punctuation\">(</span>AuthJwtErrorCode<span class=\"token punctuation\">.</span><span class=\"token function\">invalidTokenOrInvalidSignature</span><span class=\"token punctuation\">(</span>jwt<span class=\"token punctuation\">,</span> tokenType<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">//ê·¸ ì™¸ ê¸°íƒ€ ì—ëŸ¬</span>\n    <span class=\"token comment\">//ê¸°íƒ€ ì—ëŸ¬</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">AuthException</span><span class=\"token punctuation\">(</span>AuthJwtErrorCode<span class=\"token punctuation\">.</span><span class=\"token function\">jwtEtcError</span><span class=\"token punctuation\">(</span>jwt<span class=\"token punctuation\">,</span> tokenType<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ë”± ë´ë„ ì½”ë“œì˜ ë¬¸ì œê°€ ë³´ì¸ë‹¤. (ê³ ë¯¼ í¬ì¸íŠ¸ëŠ” ì•„ë˜ì„œ ì§‘ì–´ë³¼ ì˜ˆì •)<br>\nì¼ë‹¨ ê°€ì¥ í° ë¬¸ì œëŠ” ì½”ë“œì˜ ë³µì¡ë„ê°€ ë†’ë‹¤ëŠ” ê²ƒì´ë‹¤.</p>\n<p>ë‚´ê°€ ìµœê·¼ ì—°ìŠµí•˜ê³  ìˆëŠ” ë°©ë²•ì€ <strong>í•˜ë‚˜ì˜ ì„œë¹„ìŠ¤ëŠ” í•˜ë‚˜ì˜ ê¸°ëŠ¥ë§Œ ë‹´ë‹¹í•œë‹¤</strong> ì´ë‹¤.<br>\nì´ê²Œ ìƒê°ë³´ë‹¤ ì–´ë µë‹¤.</p>\n<p>ëª…í™•í•˜ê²Œ ë‚˜ëˆ ì§€ëŠ”ê±´ ì‰½ê²Œ ìë¥¼ ìˆ˜ ìˆì§€ë§Œ ìœ„ì²˜ëŸ¼ Jwtë¥¼ êµ¬í˜„í•  ë•Œ Accessì™€ Refreshë¥¼ ê°™ì´ ì“´ë‹¤.<br>\nì´ ê²½ìš° ì•„ë˜ì™€ ê°™ì´ ìƒê°í•  ìˆ˜ ìˆë‹¤.</p>\n<br>\n<ol>\n<li>ë¨¼ì € í•œ ë©”ì„œë“œë¥¼ í†µí•´ JWTì™€ íƒ€ì…ì„ ë°›ê³  ë‚´ë¶€ í”„ë¼ì´ë¹— ë©”ì„œë“œì—ì„œ ë‚˜ëˆ ì„œ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•</li>\n<li>ê²€ì¦ ìì²´ ëª©ì ì— ì§‘ì¤‘í•˜ëŠ” ì„œë¹„ìŠ¤ ë¡œì§ê³¼ Accessì™€ Refresh ê°ê°ì„ ë‹´ë‹¹í•˜ëŠ” ì„œë¹„ìŠ¤ë¡œ ë‚˜ëˆ ì„œ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•</li>\n<li>ê²€ì¦ì´ë¼ëŠ” ëª©ì ì— ì§‘ì¤‘í•˜ì—¬ Accessì™€ Refresh ê²€ì¦ë§Œ í•˜ê³  ê·¸ ì™¸ ì˜ˆì™¸ ë°œìƒ ì‹œ í˜¸ì¶œ ì˜ì—­ìœ¼ë¡œ ì „ê°€ì‹œí‚¤ê¸°</li>\n</ol>\n<br>\n<p>ë§¨ ì²˜ìŒ ë‚´ê°€ êµ¬í˜„í•œ ë°©ë²•ì€ 1ë²ˆ ë°©ì‹ì´ì—ˆê³ â€¦<br>\nê²°êµ­ ìœ„ ì½”ë“œì²˜ëŸ¼ ë³µì¡ë„ê°€ ë§¤ìš° ë§ì´ ìƒìŠ¹í•˜ê²Œ ë˜ì—ˆë‹¤.</p>\n<p>ê·¸ëŸ¼ 2ë²ˆìœ¼ë¡œ í•  ê²ƒì¸ê°€â€¦<br>\nì´ ë¶€ë¶„ë„ ì˜ ìƒê°í•´ì•¼ í•˜ëŠ”ê²Œ ë‚˜ëˆ„ê³  ìë¥´ëŠ”ê²Œ ì¢‹ì§€ë§Œ ë„ˆë¬´ ë‚˜ëˆŒ ê²½ìš° ê·¸ê²ƒ ìì²´ë¡œ ì¸í•´ ê¸°ëŠ¥ì´ ë„ˆë¬´ ì‚°ì¬ë˜ì–´ ê²°êµ­ ì½”ë“œ íŒ”ë¡œìš°ê°€ í˜ë“¤ ê²ƒì´ë‹¤.</p>\n<p>ê·¸ë˜ì„œ 3ë²ˆì˜ ë°©ë²•ì„ ì„ íƒí•˜ê²Œ ë˜ì—ˆë‹¤.<br>\nì´ë ‡ê²Œ í•˜ë©´ì„œ ê° ê³ ë¯¼ í¬ì¸íŠ¸ë¥¼ ê³ ë¯¼í•˜ê³  í•´ê²°í•˜ì˜€ë‹¤.</p>\n<br>\n<h3 id=\"ê³ ë¯¼-í¬ì¸íŠ¸-01\" style=\"position:relative;\"><a href=\"#%EA%B3%A0%EB%AF%BC-%ED%8F%AC%EC%9D%B8%ED%8A%B8-01\" aria-label=\"ê³ ë¯¼ í¬ì¸íŠ¸ 01 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê³ ë¯¼ í¬ì¸íŠ¸ 01</h3>\n<p>Access JWTë¥¼ ê²€ì¦í•˜ê³  catch í•˜ëŠ” ë¶€ë¶„ì—ì„œ ì˜ˆì™¸ì— ëŒ€í•˜ì—¬ ì§ì ‘ ì²˜ë¦¬í•˜ë ¤ í–ˆë”ë‹ˆ catct ë¶€ë¶„ì´ ë³µì¡í•´ì¡Œë‹¤.<br>\nì´ë¡œ ì¸í•´ Refresh JWT ë¶€ë¶„ì˜ catchë„ ê°™ì€ ë¬¸ì œê°€ ìƒê¸°ê²Œ ë˜ì—ˆë‹¤.</p>\n<p>ì´ ë¶€ë¶„ì€ ìœ„ì—ì„œ ì–¸ê¸‰í•œ 3ë²ˆ ë°©ë²•ìœ¼ë¡œ í•´ê²°í•˜ê²Œ ë˜ì—ˆë‹¤.</p>\n<p>JWTë¥¼ ê²€ì¦í•˜ëŠ” ë¡œì§ì—ì„œ <strong>AuthException</strong> ì´ë¼ëŠ” ì˜ˆì™¸ë¥¼ ì§ì ‘ í•¸ë“¤ë§í•˜ê³ ,<br>\nì´ ë¶€ë¶„ì—ì„œ ë‚´ê°€ ì˜ë„í•œ ì˜ˆì™¸(Accessì˜ Expired ê°™ì€)ëŠ” ë”°ë¡œ ì •ìƒ ì²˜ë¦¬ë¥¼ í•˜ê³ ,<br>\nê·¸ ì™¸ì˜ ì˜ˆì™¸ëŠ” í˜¸ì¶œ ì§€ì ìœ¼ë¡œ ì˜¬ë ¤ì„œ Controller ë‹¨ì˜ <strong>ExceptionHandler</strong>ë¡œ íë¥´ê²Œë” ì²˜ë¦¬í–ˆë‹¤.</p>\n<p>ê·¸ë˜ì„œ ì´ ë¶€ë¶„ì€ í•´ê²°í•  ìˆ˜ ìˆì—ˆë‹¤.</p>\n<br>\n<h3 id=\"ê³ ë¯¼-í¬ì¸íŠ¸-02\" style=\"position:relative;\"><a href=\"#%EA%B3%A0%EB%AF%BC-%ED%8F%AC%EC%9D%B8%ED%8A%B8-02\" aria-label=\"ê³ ë¯¼ í¬ì¸íŠ¸ 02 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê³ ë¯¼ í¬ì¸íŠ¸ 02</h3>\n<p>ê²€ì¦ ë¡œì§ì—ì„œ Access ì™€ Refreshë¥¼ ê°ê° ë‚˜ëˆ ì„œ ë³„ë„ì˜ íŒŒì¼ë¡œ ê´€ë¦¬í•  ê²ƒì¸ê°€ë¥¼ ê³ ë¯¼í–ˆì—ˆë‹¤.<br>\nê·¼ë° ì´ê²ƒë„ ìœ„ì—ì„œ ì–¸ê¸‰í•œ ë°”ì™€ ê°™ì´ ì •ë‹µì´ ì•„ë‹ˆì—ˆë‹¤.</p>\n<p>í˜¹ì‹œ ë³„ë„ì˜ JWTê°€ ì¶”ê°€ë˜ë©´ ê³„ì† ì½”ë“œ íŒŒì¼ì´ ëŠ˜ì–´ë‚˜ê¸° ë•Œë¬¸ì´ë‹¤.<br>\nê·¸ë˜ì„œ ì´ ë¶€ë¶„ì€ 1ë²ˆ í¬ì¸íŠ¸ì™€ ê°™ì´ ê²€ì¦ ëª©ì ì— ì§‘ì¤‘í•˜ê¸°ë¡œ í–ˆë‹¤.</p>\n<p>ê²°êµ­ ì‹ ê²½ ì“¸ ë¶€ë¶„ì€ Refreshê°€ ë§Œë£Œëœ ì‹œì ì— ì‚¬ìš©ì ë¡œê·¸ì•„ì›ƒ ì²˜ë¦¬ì˜€ë‹¤.<br>\nì´ ë¶€ë¶„ì€ ê²€ì¦ ë¡œì§ì—ì„œ ì‹ ê²½ ì“¸ ê²ƒì´ ì•„ë‹Œ í˜¸ì¶œ ì§€ì ì—ì„œ ì²˜ë¦¬í•  ë¬¸ì œì˜€ë‹¤.</p>\n<br>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Injectable</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AccessJwtStrategy</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">PassportStrategy</span><span class=\"token punctuation\">(</span>Strategy<span class=\"token punctuation\">,</span> <span class=\"token string\">'jwt'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span>\n    <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Inject</span></span><span class=\"token punctuation\">(</span><span class=\"token constant\">VERIFY_JWT_OUTBOUND_PORT</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">readonly</span> verifyjwtOutboundPort<span class=\"token operator\">:</span> VerifyJwtOutboundPort<span class=\"token punctuation\">,</span>\n    <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Inject</span></span><span class=\"token punctuation\">(</span><span class=\"token constant\">DECODE_JWT_OUTBOUND_PORT</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">readonly</span> decodJwtOutboundPort<span class=\"token operator\">:</span> DecodeJwtOutboundPort<span class=\"token punctuation\">,</span>\n    <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Inject</span></span><span class=\"token punctuation\">(</span><span class=\"token constant\">CREATE_JWT_OUTBOUND_PORT</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">readonly</span> createJwtOutboundPort<span class=\"token operator\">:</span> CreateJwtOutboundPort<span class=\"token punctuation\">,</span>\n    <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Inject</span></span><span class=\"token punctuation\">(</span><span class=\"token constant\">FIND_ACCOUNT_EMAIL_JOIN_TYPE_OUTBOUND_PORT</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">readonly</span> findAccountEmailJoinTypeOutboundPort<span class=\"token operator\">:</span> FindAccountEmainJoinTypeOutboundPort<span class=\"token punctuation\">,</span>\n    <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Inject</span></span><span class=\"token punctuation\">(</span><span class=\"token constant\">LOGOUT_ACCOUNT_INBOUND_PORT</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">readonly</span> logoutAccountInboundPort<span class=\"token operator\">:</span> LogoutAccountInboundPort<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">async</span> <span class=\"token function\">validate</span><span class=\"token punctuation\">(</span>req<span class=\"token operator\">:</span> Request<span class=\"token punctuation\">,</span> payload<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> jwt <span class=\"token operator\">=</span> req<span class=\"token punctuation\">.</span><span class=\"token function\">header</span><span class=\"token punctuation\">(</span><span class=\"token string\">'testAuth'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>jwt<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">AuthException</span><span class=\"token punctuation\">(</span>AuthJwtErrorCode<span class=\"token punctuation\">.</span><span class=\"token function\">jwtNotFound</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">await</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>verifyjwtOutboundPort<span class=\"token punctuation\">.</span><span class=\"token function\">excute</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        jwt<span class=\"token punctuation\">,</span>\n        tokenType<span class=\"token operator\">:</span> <span class=\"token constant\">JWT_TYPE</span><span class=\"token punctuation\">.</span><span class=\"token constant\">ACCESS_TOKEN</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>e <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">AuthException</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">//Access Jwt ë§Œë£Œëœ ê²½ìš°</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>errorCode <span class=\"token operator\">===</span> <span class=\"token constant\">ERROR_CODE_JWT_EXPIRED</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">const</span> validResult<span class=\"token operator\">:</span> <span class=\"token builtin\">boolean</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">validRefreshJwt</span><span class=\"token punctuation\">(</span>account<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          <span class=\"token comment\">//ì´í›„ ë¡œì§ ì²˜ë¦¬</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">throw</span> e<span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> payload<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ìœ„ ì½”ë“œëŠ” <strong>Strategy</strong> íŒŒì¼ì´ë‹¤.<br>\nNest.jsì—ì„œ ì‚¬ìš©í•˜ëŠ” ì „ëµ íŒŒì¼ì˜ ì¼ì¢…ì´ê³ , ì´ê±´ Access Jwtì˜ ì²˜ë¦¬ë¥¼ ë‹´ë‹¹í•˜ëŠ” Strategyë‹¤.</p>\n<p>ì´ ë¶€ë¶„ì—ì„œ í† í° ê²€ì¦ ì´í›„ ë§Œë£Œëœ í† í°ì— ëŒ€í•œ ì²˜ë¦¬, ê°±ì‹  ê°€ëŠ¥í•˜ë©´ ê°±ì‹  ì²˜ë¦¬, ê°ì¢… Jwtì˜ ì˜ˆì™¸ì²˜ë¦¬ë¥¼ ë‹´ë‹¹í–ˆë‹¤.<br>\nìœ„ ì½”ë“œëŠ” ìƒ˜í”Œìš©ì´ë¼ ì •í™•í•˜ì§€ ì•Šì§€ë§Œâ€¦</p>\n<p>ë‚´ê°€ ì§€ê¸ˆ í™•ì¸í•´ë³´ë‹ˆ ì´ StrategyëŠ” importì™€ ëª‡ ì£¼ì„ì„ ë¹¼ë©´ 100ì¤„ë„ ì•ˆë˜ëŠ” ì½”ë“œë¡œ ë³€í–ˆë‹¤.<br>\nê¸°ì¡´ì— verifyì— ëª°ì•„ì„œ ì§¤ ë•ŒëŠ” ì•½ 300ì¤„ì´ ë„˜ì–´ê°”ë‹¤ -_-;;</p>\n<p>ê·¸ë˜ì„œ <strong>ëª©ì ì— ì§‘ì¤‘í•œ ì½”ë“œ</strong> ë•ë¶„ì— í•œê²° ë‚˜ì•„ì§„ ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆì—ˆë‹¤.</p>\n<br>\n<h3 id=\"ê³ ë¯¼-í¬ì¸íŠ¸-03\" style=\"position:relative;\"><a href=\"#%EA%B3%A0%EB%AF%BC-%ED%8F%AC%EC%9D%B8%ED%8A%B8-03\" aria-label=\"ê³ ë¯¼ í¬ì¸íŠ¸ 03 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê³ ë¯¼ í¬ì¸íŠ¸ 03</h3>\n<p>ì´ ë¶€ë¶„ë„ 01, 02ì™€ ì—°ê³„ë˜ì–´ ìˆëŠ”ë°, ê²°êµ­ Refreshê°€ ë§Œë£Œë˜ì—ˆì„ ë•Œì— ëŒ€í•œ ì²˜ë¦¬ ë¹¼ê³¤ Accessì™€ ë™ì¼í–ˆë‹¤.<br>\nê·¸ë˜ì„œ ë³„ë„ ë¶„ë¦¬ë¥¼ í•˜ì§€ ì•Šê³ , verifyì—ì„œ ì˜ˆì™¸ë¥¼ í˜¸ì¶œë‹¨ìœ¼ë¡œ ë„˜ê¸°ê³  ì²˜ë¦¬ëŠ” í˜¸ì¶œì ì—ì„œ ë‹´ë‹¹í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ í•´ê²°í–ˆë‹¤.</p>\n<br>\n<h2 id=\"ì •ë¦¬\" style=\"position:relative;\"><a href=\"#%EC%A0%95%EB%A6%AC\" aria-label=\"ì •ë¦¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì •ë¦¬</h2>\n<p>ì˜¤ëŠ˜ë„ ì½”ë“œë¥¼ ì‘ì„±í•˜ë©´ì„œ ì¢€ ë” ê¹”ë”í•˜ê³ , ìœ ì§€ë³´ìˆ˜ê°€ ì‰¬ìš´ ì½”ë“œë¡œ ì‘ì„±í•˜ëŠ” ì—°ìŠµì„ í•˜ë©´ì„œ í•˜ë‹ˆâ€¦<br>\nì‚¬ì‹¤ ì‹œê°„ì€ ì¢€ ë°°ë¡œ ê±¸ë¦¬ëŠ” ê²ƒ ê°™ë‹¤.</p>\n<p>ì‹¤í–‰ ëª©ì ì— ì§‘ì¤‘í•˜ì—¬ ë§‰ ì§œë©´ ê²°ê³¼ëŠ” ì‚¬ì‹¤ ê¸ˆë°© ë‚˜ì˜¨ë‹¤.<br>\nê·¸ë¦¬ê³  ì´ë ‡ê²Œ ë¸”ë¡œê·¸ë¡œ ë‚¨ê¸¸ê±° ìƒê° ì•ˆí•˜ë©´ ë” ë¹ ë¥´ê³ â€¦</p>\n<p>ê·¼ë° ì´ë ‡ê²Œ í•˜ì—¬ ì™„ì„±í•˜ê³  ë‚˜ë©´ ê²°êµ­ ê·¸ ë’¤ê°€ ë¬¸ì œë‹¤.<br>\nì§€ê¸ˆ ë‚´ê°€ ë§Œë“  <strong>MyMe.Link</strong>ê°€ ê·¸ë ‡ë‹¤.</p>\n<p>ì •ë§ ì½”ë“œê°€ íŒíƒ€ìŠ¤í‹±í•˜ë‹¤.<br>\nì‚¬ì‹¤ ìœ ì§€ë³´ìˆ˜ í•´ì•¼ í•˜ëŠ”ë° ì •ë§ í° ì¼ì´ ëœê±° ê°™ì•„ì„œ í°ì¼ì´ë‹¤â€¦<br>\nì°¨ë¼ë¦¬ ë‹¤ì‹œ ì§œëŠ”ê²Œ ë‚˜ì„ ê²ƒ ê°™ê¸°ë„ í•  ì •ë„ë‹ˆ ë§ì´ë‹¤.</p>\n<p>ì´ë²ˆ í‘ìš°ì§‘í•©ì†ŒëŠ” ê·¸ëŸ° ì „ì² ì„ ì•ˆë°Ÿê²Œ í•˜ë ¤ê³  í•˜ëŠ”ë° ì´ê²Œ ë§ëŠ”ê±´ì§€ë„ ì‚¬ì‹¤ ì˜ ëª¨ë¥´ê² ë‹¤.<br>\nì •ë‹µì€ ì—†ê¸°ì—â€¦</p>\n<p>ì¼ë‹¨ ì´ê²Œ ìµœì„ ì˜ ë°©ë²•ì¸ ê²ƒ ê°™ê³  í•˜ë©´ì„œ ë” ë‚˜ì€ ì½”ë“œë¥¼ ì§œëŠ” ë°©ë²•ì„ ì°¾ëŠ”ê²Œ ëª©ì ì´ ë˜ì—ˆë‹¤.</p>\n<p>ì¤‘ê°„ì— ê°œë°œì—… ë‚´ë ¤ë†¨ë‹¤ ì™”ì§€ë§Œ ë‚˜ë¦„ 5ë…„ì°¨ ë°±ì—”ë“œ ê°œë°œìë‹¤.<br>\në¬¼ë¡  ì•½ 3ë…„ íœ´ì‹ + ì „ì— ì•½ê°„ ì„ì¸ ë¬¼ê²½ë ¥ì´ ë¬¸ì œê¸´ í•˜ì§€ë§Œâ€¦</p>\n<p>ë‚˜ë¦„ ìŒ“ì—¬ìˆëŠ” ê²½í—˜ì¹˜ ë•ë¶„ì— í˜¼ìì„œë„ ì´ë ‡ê²Œ ì˜(?) í•´ë‚¼ ìˆ˜ ìˆë˜ ê²ƒ ê°™ë‹¤.</p>\n<p>ì´ì œëŠ” ë‹¤ë¥¸ ì‚¬ëŒê³¼ í•¨ê»˜ ì¼í•´ë³´ê³  ì‹¶ë‹¤.<br>\nê·¼ë° ì¼ë‹¨ ë§¤ë“­ì€ ì§“ê³  ë‹¤ì‹œâ€¦</p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#%EA%B3%A0%EB%AF%BC-%ED%8F%AC%EC%9D%B8%ED%8A%B8\">ê³ ë¯¼ í¬ì¸íŠ¸</a></p>\n<ul>\n<li><a href=\"#%EA%B3%A0%EB%AF%BC-%ED%8F%AC%EC%9D%B8%ED%8A%B8-01\">ê³ ë¯¼ í¬ì¸íŠ¸ 01</a></li>\n<li><a href=\"#%EA%B3%A0%EB%AF%BC-%ED%8F%AC%EC%9D%B8%ED%8A%B8-02\">ê³ ë¯¼ í¬ì¸íŠ¸ 02</a></li>\n<li><a href=\"#%EA%B3%A0%EB%AF%BC-%ED%8F%AC%EC%9D%B8%ED%8A%B8-03\">ê³ ë¯¼ í¬ì¸íŠ¸ 03</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%A0%95%EB%A6%AC\">ì •ë¦¬</a></p>\n</li>\n</ul>\n</div>","frontmatter":{"date":"2023.02.14","title":"23ë…„ 2ì›” 14ì¼ TIL & ê°œë°œë…¸íŠ¸ (ê¹”ë”í•œ ì½”ë“œì— ëŒ€í•œ ê³ ë¯¼)","categories":"til","emoji":"ğŸ“œ"},"fields":{"slug":"/til/230214_til/"}},"site":{"siteMetadata":{"siteUrl":"https://elfinlas.github.io","comments":{"utterances":{"repo":"elfinlas/blog_utterances"}},"projects":[{"title":"ë§ˆì™€ì…€(ì›¹) - ì™€ì¸ ê°€ê²© ë¹„êµ","description":"ì™€ì¸ ê°€ê²© ë¹„êµ ì„œë¹„ìŠ¤","techStack":["Typescript","React","Next.Js","Nest.Js"],"thumbnailUrl":"myc_icon.png","links":{"post":"https://blog.naver.com/wisseraph/223393940649","github":"","web":"https://appmyc.info","googlePlay":"","appStore":""}},{"title":"ë§ˆì™€ì…€(ì—¡) - ì™€ì¸ê³¼ ì…€ëŸ¬ ê´€ë¦¬, ì‹œìŒë…¸íŠ¸","description":"ë³´ìœ í•œ ì™€ì¸ì˜ ê´€ë¦¬, ì‹œìŒë…¸íŠ¸ ì‘ì„±, ë³´ìœ  ì™€ì¸ ì…€ëŸ¬ì˜ ê´€ë¦¬ ì–´í”Œë¦¬ì¼€ì´ì…˜","techStack":["Dart","Flutter","hive","provider"],"thumbnailUrl":"myc_icon.png","links":{"post":"https://blog.naver.com/wisseraph/223531933037","github":"","web":"","googlePlay":"https://play.google.com/store/apps/details?id=dev.mhlab.myc","appStore":"https://itunes.apple.com/kr/app/apple-store/6474965246"}},{"title":"í‘ìš°ì§‘í•©ì†Œ(ì›¹) - ë¡œë˜ë²ˆí˜¸ ì¶”ì²œ ì„œë¹„ìŠ¤","description":"ë¡œë˜ë²ˆí˜¸ ì¶”ì²œ ì„œë¹„ìŠ¤","techStack":["Typescript","React","Next.Js","Nest.Js"],"thumbnailUrl":"bcow_icon.png","links":{"post":"https://blog.naver.com/wisseraph/223059966682","github":"","web":"https://bcow.world/","googlePlay":"","appStore":""}},{"title":"í‘ìš°ì§‘í•©ì†Œ(ì•±) - ë¡œë˜ë²ˆí˜¸ ì¶”ì²œ ì„œë¹„ìŠ¤","description":"ë¡œë˜ë²ˆí˜¸ ì¶”ì²œ ì„œë¹„ìŠ¤","techStack":["Dart","Flutter","drift","provider"],"thumbnailUrl":"bcow_icon.png","links":{"post":"https://blog.naver.com/wisseraph/223232966579","github":"","web":"","googlePlay":"https://play.google.com/store/apps/details?id=dev.mhlab.bcow_world","appStore":"https://itunes.apple.com/kr/app/apple-store/6470312130"}}]}}},"pageContext":{"slug":"/til/230119_til/","nextSlug":"/nest_js/230213_nestjs_module_config_load/","prevSlug":"/til/230214_til/"}},"staticQueryHashes":["1186322783","1321405810","3649515864"]}