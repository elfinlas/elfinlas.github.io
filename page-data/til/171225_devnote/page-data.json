{"componentChunkName":"component---src-templates-post-template-index-tsx","path":"/til/171225_devnote/","result":{"data":{"cur":{"id":"dccaee76-418a-5143-bb55-27b4dd88b7b3","html":"<h1 id=\"주의\" style=\"position:relative;\"><a href=\"#%EC%A3%BC%EC%9D%98\" aria-label=\"주의 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>주의</h1>\n<h3 id=\"이-문건은-과거-hexo-블로그-2017-12-25-에서-이동된-문서입니다\" style=\"position:relative;\"><a href=\"#%EC%9D%B4-%EB%AC%B8%EA%B1%B4%EC%9D%80-%EA%B3%BC%EA%B1%B0-hexo-%EB%B8%94%EB%A1%9C%EA%B7%B8-2017-12-25-%EC%97%90%EC%84%9C-%EC%9D%B4%EB%8F%99%EB%90%9C-%EB%AC%B8%EC%84%9C%EC%9E%85%EB%8B%88%EB%8B%A4\" aria-label=\"이 문건은 과거 hexo 블로그 2017 12 25 에서 이동된 문서입니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이 문건은 과거 Hexo 블로그 (2017-12-25) 에서 이동된 문서입니다.</h3>\n<h4 id=\"시간이-지남에-따라-최신-기술과-다를-수-있으니-주의-바랍니다\" style=\"position:relative;\"><a href=\"#%EC%8B%9C%EA%B0%84%EC%9D%B4-%EC%A7%80%EB%82%A8%EC%97%90-%EB%94%B0%EB%9D%BC-%EC%B5%9C%EC%8B%A0-%EA%B8%B0%EC%88%A0%EA%B3%BC-%EB%8B%A4%EB%A5%BC-%EC%88%98-%EC%9E%88%EC%9C%BC%EB%8B%88-%EC%A3%BC%EC%9D%98-%EB%B0%94%EB%9E%8D%EB%8B%88%EB%8B%A4\" aria-label=\"시간이 지남에 따라 최신 기술과 다를 수 있으니 주의 바랍니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>시간이 지남에 따라 최신 기술과 다를 수 있으니 주의 바랍니다.</h4>\n<hr>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABMElEQVQoz42S0Y6CMBBFW6Cl0GmhxYorrJpAsolP+v8fdzetrqtmxX24GToZztxOhzHGcC+vCEOzwqA9drTCJ3XYmRX2NuDQrJN647A2LYzSeP6fPSciQBTir8KknGegvESTqwRXolwGRmdK/haFEDBNE7bDAOf9Q+26btCWehkYryfy4nbWWmMcxwQmopTjjF+aVRauomVgnFWeZQ85znnSc21XEnxtl4FxLnFOPyApZXJpjEFd18jumnmp0Wn7D4dXYLziPM84Ho84n844n06pwc2hJHS6eePQBpTi8srRTV4UYJwl5fLx9Z3UCNQuA3tlMbuPtIss42grwtZ22BiHnlz6vpw9Dm2PWqpl4A1cWXyFEVRWqLmAzmQSpShSLHnxfrH5NZJQmNzm5YK/0jegveteJRG0qAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/39caabbd44b8d6bf6560fecef746ecb3/7c297/thumbnail_til.webp 180w,\n/static/39caabbd44b8d6bf6560fecef746ecb3/33ecc/thumbnail_til.webp 360w,\n/static/39caabbd44b8d6bf6560fecef746ecb3/df77d/thumbnail_til.webp 720w,\n/static/39caabbd44b8d6bf6560fecef746ecb3/dd3ab/thumbnail_til.webp 895w\"\n              sizes=\"(max-width: 720px) 100vw, 720px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/39caabbd44b8d6bf6560fecef746ecb3/e9ea2/thumbnail_til.png 180w,\n/static/39caabbd44b8d6bf6560fecef746ecb3/53918/thumbnail_til.png 360w,\n/static/39caabbd44b8d6bf6560fecef746ecb3/242a6/thumbnail_til.png 720w,\n/static/39caabbd44b8d6bf6560fecef746ecb3/b002d/thumbnail_til.png 895w\"\n            sizes=\"(max-width: 720px) 100vw, 720px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/39caabbd44b8d6bf6560fecef746ecb3/242a6/thumbnail_til.png\"\n            alt=\"thumbnail\"\n            title=\"thumbnail\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<br>\n<h1 id=\"html에서-table-요소-처리\" style=\"position:relative;\"><a href=\"#html%EC%97%90%EC%84%9C-table-%EC%9A%94%EC%86%8C-%EC%B2%98%EB%A6%AC\" aria-label=\"html에서 table 요소 처리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>HTML에서 Table 요소 처리</h1>\n<p>이번에 제가 만드는 사내정보시스템을 이번에 저희 회사에도 도입을 하게 되면서, 회사에 특화된 기능을 개발하게 되었습니다.</p>\n<p>그런데 이번에 Html의 테이블 요소를 다루게 되면서 생긴 문제점과 해결 방안에 대해서 포스팅을 해보려 합니다.</p>\n<p>프로젝트를 진행한 환경은 Spring Boot의 <strong>Thymeleaf</strong> 템플릿 엔진을 사용하였으며, 코드 전체는 공개가 불가하여, 일부만 공개합니다.</p>\n<p>또한 테이블 요소를 처리하기 위하여 <strong>jQuery v3.2.1</strong>를 사용하였습니다.</p>\n<br>\n<h2 id=\"어떤-문제점이-있었는가\" style=\"position:relative;\"><a href=\"#%EC%96%B4%EB%96%A4-%EB%AC%B8%EC%A0%9C%EC%A0%90%EC%9D%B4-%EC%9E%88%EC%97%88%EB%8A%94%EA%B0%80\" aria-label=\"어떤 문제점이 있었는가 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>어떤 문제점이 있었는가?</h2>\n<p>구현을 하고 싶은 기능은 다음과 같았습니다.</p>\n<ul>\n<li>테이블의 행을 동적으로 추가 또는 삭제하기</li>\n<li>서버로 데이터 전송 시 입력된 테이블의 행 데이터 모두 가져오기</li>\n</ul>\n<p>사실 첫 번째 기능은 검색하면 많이 찾아 볼 수 있는 기능이지만, 두 번째 기능은 찾기 어려웠습니다.<br>\n그래서 이번 포스팅에서는 저 두 가지를 해결한 방법을 공유하고자 합니다.</p>\n<br>\n<h2 id=\"table의-행을-동적으로-처리하기\" style=\"position:relative;\"><a href=\"#table%EC%9D%98-%ED%96%89%EC%9D%84-%EB%8F%99%EC%A0%81%EC%9C%BC%EB%A1%9C-%EC%B2%98%EB%A6%AC%ED%95%98%EA%B8%B0\" aria-label=\"table의 행을 동적으로 처리하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Table의 행을 동적으로 처리하기</h2>\n<p>제가 구현하려는 최종 목적은 Table의 행 요소를 제 마음대로 제어하는게 목표입니다.<br>\n행을 동적으로 한 행씩 추가를 하고, 추가된 행을 하나씩 삭제하는 것입니다.<br>\n먼저 기본적으로 구현할 화면은 아래와 같습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 13.333333333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAcUlEQVQI11VOMQ7DQAi7/3+vS4aunXO9IckBxhWEqIklhGRs48aCu+cEzIyqyj9O3gECeHABlO/1WdmuIBGhiKah984xRgoBTy48xzG5bfsZkuF1D10VaKiv0WpOodYOs1ndbpp4fHFWXHTe3wv12/kDkr7sm5Uim0kAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/0bd5a822d6f26da298c8440c624d8c8f/7c297/img_01.webp 180w,\n/static/0bd5a822d6f26da298c8440c624d8c8f/33ecc/img_01.webp 360w,\n/static/0bd5a822d6f26da298c8440c624d8c8f/df77d/img_01.webp 720w,\n/static/0bd5a822d6f26da298c8440c624d8c8f/5c666/img_01.webp 1080w,\n/static/0bd5a822d6f26da298c8440c624d8c8f/95f20/img_01.webp 1440w,\n/static/0bd5a822d6f26da298c8440c624d8c8f/72bc7/img_01.webp 1607w\"\n              sizes=\"(max-width: 720px) 100vw, 720px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/0bd5a822d6f26da298c8440c624d8c8f/e9ea2/img_01.png 180w,\n/static/0bd5a822d6f26da298c8440c624d8c8f/53918/img_01.png 360w,\n/static/0bd5a822d6f26da298c8440c624d8c8f/242a6/img_01.png 720w,\n/static/0bd5a822d6f26da298c8440c624d8c8f/b4ad3/img_01.png 1080w,\n/static/0bd5a822d6f26da298c8440c624d8c8f/89066/img_01.png 1440w,\n/static/0bd5a822d6f26da298c8440c624d8c8f/6f602/img_01.png 1607w\"\n            sizes=\"(max-width: 720px) 100vw, 720px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/0bd5a822d6f26da298c8440c624d8c8f/242a6/img_01.png\"\n            alt=\"img 01\"\n            title=\"img 01\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<p><strong>기계 추가</strong>라는 버튼을 터치하면 행이 하나씩 추가가 되고, <b>-</b> 버튼을 터치하면 해당 행을 삭제하는 기능을 가졌습니다.</p>\n<p>먼저 테이블을 정의하는 HTML 코드를 보겠습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>table</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>factory_table<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>table<span class=\"token punctuation\">\"</span></span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">margin-top</span><span class=\"token punctuation\">:</span> 20px<span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>colgroup</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>col</span> <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>20%<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>col</span> <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>10%<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>col</span> <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>30%<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>col</span> <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>30%<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>col</span> <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>10%<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>colgroup</span><span class=\"token punctuation\">></span></span>\n\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>thead</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>tr</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>th</span><span class=\"token punctuation\">></span></span>이름(설비)<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>th</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>th</span><span class=\"token punctuation\">></span></span>대수<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>th</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>th</span><span class=\"token punctuation\">></span></span>기계 및 컨트롤러 정보<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>th</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>th</span><span class=\"token punctuation\">></span></span>공정명<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>th</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>th</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>th</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>tr</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>thead</span><span class=\"token punctuation\">></span></span>\n\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>tbody</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>factory_tbody<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>tr</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>form-control<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">placeholder</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>설비명<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span>\n          <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>number<span class=\"token punctuation\">\"</span></span>\n          <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>form-control<span class=\"token punctuation\">\"</span></span>\n          <span class=\"token attr-name\">placeholder</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>설치 대수<span class=\"token punctuation\">\"</span></span>\n          <span class=\"token attr-name\">onkeypress</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>return event.charCode >= 48 &amp;&amp; event.charCode &lt;= 57<span class=\"token punctuation\">\"</span></span>\n        <span class=\"token punctuation\">/></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>form-control<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">placeholder</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>기계 및 컨트롤러 정보<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>form-control<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">placeholder</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>공정명<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>tr</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>tbody</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>table</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<blockquote>\n<p>설치 대수의 onkeypress 이벤트는 특정 브라우저에서 input의 number타입이 사용이 안될 때를 처리하기 위함입니다.<br>\n보통은 number만 적용해도 됩니다.</p>\n</blockquote>\n<p>테이블에 행을 추가하는 방법, 그리고 행을 삭제하는 방법에 대해 알아보도록 하겠습니다.</p>\n<br>\n<h3 id=\"table-행-추가하기\" style=\"position:relative;\"><a href=\"#table-%ED%96%89-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0\" aria-label=\"table 행 추가하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Table 행 추가하기</h3>\n<p>테이블을 추가하는 버튼을 하나 만들고 행을 추가하는 함수를 만들었다는 가정 하에 추가하는 기능에 대해 집중하여 설명하도록 하겠습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> rowItem <span class=\"token operator\">=</span> <span class=\"token string\">'&lt;tr>'</span><span class=\"token punctuation\">;</span>\nrowItem <span class=\"token operator\">+=</span> <span class=\"token string\">\"&lt;td> &lt;input type='text' class='form-control' placeholder='설비명'> &lt;/td>\"</span><span class=\"token punctuation\">;</span>\nrowItem <span class=\"token operator\">+=</span>\n  <span class=\"token string\">\"&lt;td> &lt;input type='number' class='form-control' placeholder='설치 대수' onkeypress='return event.charCode >= 48 &amp;&amp; event.charCode &lt;= 57'> &lt;/td>\"</span><span class=\"token punctuation\">;</span>\nrowItem <span class=\"token operator\">+=</span> <span class=\"token string\">\"&lt;td> &lt;input type='email' class='form-control' placeholder='기계 및 컨트롤러 정보'> &lt;/td>\"</span><span class=\"token punctuation\">;</span>\nrowItem <span class=\"token operator\">+=</span> <span class=\"token string\">\"&lt;td> &lt;input type='text' class='form-control' placeholder='공정명'> &lt;/td>\"</span><span class=\"token punctuation\">;</span>\nrowItem <span class=\"token operator\">+=</span> <span class=\"token string\">\"&lt;td> &lt;button type='button' class='btn btn-danger'> &lt;i class='fa fa-minus'>&lt;/i> &lt;/button> &lt;/td>\"</span><span class=\"token punctuation\">;</span>\nrowItem <span class=\"token operator\">+=</span> <span class=\"token string\">'&lt;/tr>'</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#factory_table'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span>rowItem<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>사실 추가하는 기능은 어렵지 않습니다.<br>\n아이템을 추가할 행을 하나 만들어주고, 기존의 행과 동일한 양식으로 만들어 줍니다.<br>\n그리고 마지막 jQuery에서 html 테이블의 요소에 <strong>append</strong>를 이용하여 행을 추가해 줍니다.</p>\n<br>\n<h3 id=\"table-행-삭제하기\" style=\"position:relative;\"><a href=\"#table-%ED%96%89-%EC%82%AD%EC%A0%9C%ED%95%98%EA%B8%B0\" aria-label=\"table 행 삭제하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Table 행 삭제하기</h3>\n<p>테이블을 삭제하는 방법도 어렵지 않습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#factory_table'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'button'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">closest</span><span class=\"token punctuation\">(</span><span class=\"token string\">'tr'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>jQuery를 활용하여 동적으로 추가한 행에서 삭제 버튼을 호출하게 되면 어렵지 않습니다.</p>\n<br>\n<h3 id=\"입력된-table-행-데이터-가져오기\" style=\"position:relative;\"><a href=\"#%EC%9E%85%EB%A0%A5%EB%90%9C-table-%ED%96%89-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EA%B0%80%EC%A0%B8%EC%98%A4%EA%B8%B0\" aria-label=\"입력된 table 행 데이터 가져오기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>입력된 Table 행 데이터 가져오기</h3>\n<p>아래의 코드를 보면서 설명하겠습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#factory_tbody tr'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">each</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> cellItem <span class=\"token operator\">=</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token string\">':input'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> itemObj <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Object</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  itemObj<span class=\"token punctuation\">.</span>title <span class=\"token operator\">=</span> cellItem<span class=\"token punctuation\">.</span><span class=\"token function\">eq</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">val</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  itemObj<span class=\"token punctuation\">.</span>count <span class=\"token operator\">=</span> cellItem<span class=\"token punctuation\">.</span><span class=\"token function\">eq</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">val</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  itemObj<span class=\"token punctuation\">.</span>info <span class=\"token operator\">=</span> cellItem<span class=\"token punctuation\">.</span><span class=\"token function\">eq</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">val</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  itemObj<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> cellItem<span class=\"token punctuation\">.</span><span class=\"token function\">eq</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">val</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>먼저 jQuery 선택자로 해당 테이블, 그리고 각 행을 배열로 가져오고 순차로 조회합니다.</p>\n<p><code class=\"language-text\">var cellItem = $(this).find(\":input\")</code></p>\n<p>행에서는 현재 조회한 행에서 input을 찾아서 가져옵니다.<br>\n예제에서는 input은 총 4개를 가지고 있습니다.<br>\n따라서 위 예제에서 처럼 각 요소에 접근을 할 때는 아래와 같이 접근합니다.</p>\n<p><code class=\"language-text\">cellItem.eq(인덱스).val()</code></p>\n<p>여기서 인덱스는 input이 저장된 갯수를 의미합니다.</p>\n<h2 id=\"정리\" style=\"position:relative;\"><a href=\"#%EC%A0%95%EB%A6%AC\" aria-label=\"정리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>정리</h2>\n<p>위에서 소개한 세 가지의 기능을 활용한다면, Html 테이블의 행을 동적으로 생성 또는 삭제,<br>\n그리고 기본 행과 더불어 동적 생성된 행의 입력된 데이터를 가져와서 알아보는 방법에 대해서 알아보았습니다.</p>\n<p>행 데이터를 가져오는 기능을 활용한다면, 서버로 데이터를 보내기 전 데이터 검증을 하는 로직도 응용하여 만들어 볼 수 있습니다.</p>\n<p>포스팅을 읽어주셔서 감사합니다.</p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<ul>\n<li>\n<p><a href=\"#%EC%9D%B4-%EB%AC%B8%EA%B1%B4%EC%9D%80-%EA%B3%BC%EA%B1%B0-hexo-%EB%B8%94%EB%A1%9C%EA%B7%B8-2017-12-25-%EC%97%90%EC%84%9C-%EC%9D%B4%EB%8F%99%EB%90%9C-%EB%AC%B8%EC%84%9C%EC%9E%85%EB%8B%88%EB%8B%A4\">이 문건은 과거 Hexo 블로그 (2017-12-25) 에서 이동된 문서입니다.</a></p>\n<ul>\n<li><a href=\"#%EC%8B%9C%EA%B0%84%EC%9D%B4-%EC%A7%80%EB%82%A8%EC%97%90-%EB%94%B0%EB%9D%BC-%EC%B5%9C%EC%8B%A0-%EA%B8%B0%EC%88%A0%EA%B3%BC-%EB%8B%A4%EB%A5%BC-%EC%88%98-%EC%9E%88%EC%9C%BC%EB%8B%88-%EC%A3%BC%EC%9D%98-%EB%B0%94%EB%9E%8D%EB%8B%88%EB%8B%A4\">시간이 지남에 따라 최신 기술과 다를 수 있으니 주의 바랍니다.</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%96%B4%EB%96%A4-%EB%AC%B8%EC%A0%9C%EC%A0%90%EC%9D%B4-%EC%9E%88%EC%97%88%EB%8A%94%EA%B0%80\">어떤 문제점이 있었는가?</a></p>\n</li>\n<li>\n<p><a href=\"#table%EC%9D%98-%ED%96%89%EC%9D%84-%EB%8F%99%EC%A0%81%EC%9C%BC%EB%A1%9C-%EC%B2%98%EB%A6%AC%ED%95%98%EA%B8%B0\">Table의 행을 동적으로 처리하기</a></p>\n<ul>\n<li><a href=\"#table-%ED%96%89-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0\">Table 행 추가하기</a></li>\n<li><a href=\"#table-%ED%96%89-%EC%82%AD%EC%A0%9C%ED%95%98%EA%B8%B0\">Table 행 삭제하기</a></li>\n<li><a href=\"#%EC%9E%85%EB%A0%A5%EB%90%9C-table-%ED%96%89-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EA%B0%80%EC%A0%B8%EC%98%A4%EA%B8%B0\">입력된 Table 행 데이터 가져오기</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%A0%95%EB%A6%AC\">정리</a></p>\n</li>\n</ul>\n</div>","excerpt":"주의 이 문건은 과거 Hexo 블로그 (2017-12-25) 에서 이동된 문서입니다. 시간이 지남에 따라 최신 기술과 다를 수 있으니 주의 바랍니다.  HTML에서 Table 요소 처리 이번에 제가 만드는 사내정보시스템을 이번에 저희 회사에도 도입을 하게 되면서, 회사에 특화된 기능을 개발하게 되었습니다. 그런데 이번에 Html의 테이블 요소를 다루게 되면서 생긴 문제점과 해결 방안에 대해서 포스팅을 해보려 합니다. 프로젝트를 진행한 환경은 Spring Boot의 Thymeleaf 템플릿 엔진을 사용하였으며, 코드 전체는 공개가 불가하여, 일부만 공개합니다. 또한 테이블 요소를 처리하기 위하여 jQuery v3.2.1를 사용하였습니다. 어떤 문제점이 있었는가? 구현을 하고 싶은 기능은 다음과 같았습니다. 테이블의 행을 동적으로 추가 또는 삭제하기 서버로 데이터 전송 시 입력된 테이블의 행 데이터 모두 가져오기 사실 첫 번째 기능은 검색하면 많이 찾아 볼 수 있는 기능이지만, 두 번…","frontmatter":{"date":"2017.12.25","title":"<개발일지> 12월 18일 TIL (HTML Table의 행을 동적으로 처리하기 with jQuery)","categories":"til","emoji":"📜"},"fields":{"slug":"/til/171225_devnote/"}},"next":{"id":"c9124397-dc8b-5211-9212-6ee9eae9b767","html":"<h1 id=\"주의\" style=\"position:relative;\"><a href=\"#%EC%A3%BC%EC%9D%98\" aria-label=\"주의 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>주의</h1>\n<h3 id=\"이-문건은-과거-hexo-블로그-2017-12-21-에서-이동된-문서입니다\" style=\"position:relative;\"><a href=\"#%EC%9D%B4-%EB%AC%B8%EA%B1%B4%EC%9D%80-%EA%B3%BC%EA%B1%B0-hexo-%EB%B8%94%EB%A1%9C%EA%B7%B8-2017-12-21-%EC%97%90%EC%84%9C-%EC%9D%B4%EB%8F%99%EB%90%9C-%EB%AC%B8%EC%84%9C%EC%9E%85%EB%8B%88%EB%8B%A4\" aria-label=\"이 문건은 과거 hexo 블로그 2017 12 21 에서 이동된 문서입니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이 문건은 과거 Hexo 블로그 (2017-12-21) 에서 이동된 문서입니다.</h3>\n<h4 id=\"시간이-지남에-따라-최신-기술과-다를-수-있으니-주의-바랍니다\" style=\"position:relative;\"><a href=\"#%EC%8B%9C%EA%B0%84%EC%9D%B4-%EC%A7%80%EB%82%A8%EC%97%90-%EB%94%B0%EB%9D%BC-%EC%B5%9C%EC%8B%A0-%EA%B8%B0%EC%88%A0%EA%B3%BC-%EB%8B%A4%EB%A5%BC-%EC%88%98-%EC%9E%88%EC%9C%BC%EB%8B%88-%EC%A3%BC%EC%9D%98-%EB%B0%94%EB%9E%8D%EB%8B%88%EB%8B%A4\" aria-label=\"시간이 지남에 따라 최신 기술과 다를 수 있으니 주의 바랍니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>시간이 지남에 따라 최신 기술과 다를 수 있으니 주의 바랍니다.</h4>\n<hr>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 39.44444444444444%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABh0lEQVQY03WQ7ysDcQDG70+SkmQbOz9eKFJeUEvCxNnuRu3FRm1eMbzYCxR74dVqJWt29x2ZC1tuMjHaD3Fik5iabSys7e771e5qiTx9Xjxvnp76YBTA/2PC1zriqXde2BBCAhQQgqgSCKFcEEaBFgrgJKM2gJafUAA3gNZRT0M0HUIIiVCsbqrBdIxKOmkbp5WEt5HwKghaQXgbKYDrthWzRwMCKomi8FUqCGK5LJaK5c9CMSeIZQhFzML2BpMeW0BrYXsXgqN2jrJz5GJwzLzf1bNYM2LU5LJ5+np15djIpRj21sWlmMCd2887b18vMVtg2B1btrJ9jvDUZmxp/czqOJ3e413zocFOU622nziPhx0R0+zB4EbUHnk65DORZO4q8/H0XsxieqZ5LjBk3u0mGfWkr11Hq3S00rjTQYLmGVbzknlGCEXTnJ93Pr7x0TQXfzl5yN9UvCGIUQAnaIWeaZK1VVVrPXVbiTVJlYD+RDIujWW3vyCB+j6XkD1LCFAqUEK2/Q16Qk3zLTqZWgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/0e32bfff29f0372fb45d54216e2f659f/7c297/thumbnail_spring.webp 180w,\n/static/0e32bfff29f0372fb45d54216e2f659f/33ecc/thumbnail_spring.webp 360w,\n/static/0e32bfff29f0372fb45d54216e2f659f/84c6d/thumbnail_spring.webp 700w\"\n              sizes=\"(max-width: 700px) 100vw, 700px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/0e32bfff29f0372fb45d54216e2f659f/e9ea2/thumbnail_spring.png 180w,\n/static/0e32bfff29f0372fb45d54216e2f659f/53918/thumbnail_spring.png 360w,\n/static/0e32bfff29f0372fb45d54216e2f659f/a27c6/thumbnail_spring.png 700w\"\n            sizes=\"(max-width: 700px) 100vw, 700px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/0e32bfff29f0372fb45d54216e2f659f/a27c6/thumbnail_spring.png\"\n            alt=\"thumbnail\"\n            title=\"thumbnail\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<br>\n<h1 id=\"spring에서-설정파일을-감추고-싶다\" style=\"position:relative;\"><a href=\"#spring%EC%97%90%EC%84%9C-%EC%84%A4%EC%A0%95%ED%8C%8C%EC%9D%BC%EC%9D%84-%EA%B0%90%EC%B6%94%EA%B3%A0-%EC%8B%B6%EB%8B%A4\" aria-label=\"spring에서 설정파일을 감추고 싶다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Spring에서 설정파일을 감추고 싶다…</h1>\n<p>Spring Framework를 이용하여 프로젝트를 진행할 때 데이터베이스 정보나 기타 민간함 정보를 설정파일에 작성하게 됩니다.<br>\n물론 Java Config를 사용하게 된다면 상관 없지만, 저는 주로 application.yml(또는 application.properties)을(를) 사용합니다.</p>\n<p>문제는 이 설정파일의 경우 배포 시 노출이 되어 보안에 문제가 생길 수 있습니다. (물론 Java Config도 100% 안전한 것은 아니지만…)</p>\n<p>그래서 이런 고민을 해결해 줄 라이브러리를 하나 소개하려 합니다.</p>\n<br>\n<h2 id=\"jsayptjava-simplified-encryption-를-써보자\" style=\"position:relative;\"><a href=\"#jsayptjava-simplified-encryption-%EB%A5%BC-%EC%8D%A8%EB%B3%B4%EC%9E%90\" aria-label=\"jsayptjava simplified encryption 를 써보자 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Jsaypt(Java Simplified Encryption) 를 써보자</h2>\n<p>Jasypt는 위에서 언급했던 문제를 해결해주는 자바 라이브러리입니다.<br>\n좀 더 자세한 내용은 <a href=\"http://www.jasypt.org/\">Jasypt</a> 공식 문서를 확인해주세요.</p>\n<p>그럼 이제 <strong>Jsaypt</strong>를 사용하는 법에 대하여 알아보도록 하겠습니다.<br>\n이번 예제에 사용하는 Spring은 <strong>Spring Boot 1.5.8.RELEASE</strong> 이고, <strong>gradle</strong>을 사용합니다.</p>\n<br>\n<h3 id=\"1-jsaypt를-gradle에-추가하기\" style=\"position:relative;\"><a href=\"#1-jsaypt%EB%A5%BC-gradle%EC%97%90-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0\" aria-label=\"1 jsaypt를 gradle에 추가하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. Jsaypt를 gradle에 추가하기</h3>\n<p>Spring boot에서 jasypt를 사용하기 위해서는 아래의 의존성을 gradle을 추가해줍니다.</p>\n<h4 id=\"11-spring-boot-starter-용\" style=\"position:relative;\"><a href=\"#11-spring-boot-starter-%EC%9A%A9\" aria-label=\"11 spring boot starter 용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1.1 spring-boot-starter 용</h4>\n<div class=\"gatsby-highlight\" data-language=\"gradle\"><pre class=\"language-gradle\"><code class=\"language-gradle\">compile <span class=\"token interpolation-string\"><span class=\"token string\">\"com.github.ulisesbocchio:jasypt-spring-boot-starter:1.17\"</span></span></code></pre></div>\n<br>\n<h4 id=\"12-springbootapplication-또는-enableautoconfiguration-를-사용하지-않는-경우\" style=\"position:relative;\"><a href=\"#12-springbootapplication-%EB%98%90%EB%8A%94-enableautoconfiguration-%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EC%A7%80-%EC%95%8A%EB%8A%94-%EA%B2%BD%EC%9A%B0\" aria-label=\"12 springbootapplication 또는 enableautoconfiguration 를 사용하지 않는 경우 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1.2 @SpringBootApplication 또는 @EnableAutoConfiguration 를 사용하지 않는 경우</h4>\n<div class=\"gatsby-highlight\" data-language=\"gradle\"><pre class=\"language-gradle\"><code class=\"language-gradle\">compile <span class=\"token interpolation-string\"><span class=\"token string\">\"com.github.ulisesbocchio:jasypt-spring-boot:1.17\"</span></span></code></pre></div>\n<p>1.2 항목에서는 위 gradle을 추가한 이후 <strong>Configuration</strong>클래스에 <strong>@EnableEncryptableProperties</strong>를 추가해줍니다.</p>\n<blockquote>\n<p>좀 더 자세한 내용은 <a href=\"https://github.com/ulisesbocchio/jasypt-spring-boot\">ulisesbocchio Github</a>를 참고하세요.</p>\n</blockquote>\n<br>\n<h3 id=\"2-config-클래스-작성\" style=\"position:relative;\"><a href=\"#2-config-%ED%81%B4%EB%9E%98%EC%8A%A4-%EC%9E%91%EC%84%B1\" aria-label=\"2 config 클래스 작성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Config 클래스 작성</h3>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Configuration</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">JasyptConfig</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Bean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"jasyptStringEncryptor\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">StringEncryptor</span> <span class=\"token function\">stringEncryptor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">PooledPBEStringEncryptor</span> encryptor <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">PooledPBEStringEncryptor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">SimpleStringPBEConfig</span> config <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">SimpleStringPBEConfig</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        config<span class=\"token punctuation\">.</span><span class=\"token function\">setPassword</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"test\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//암호화에 사용할 키 -> 중요</span>\n        config<span class=\"token punctuation\">.</span><span class=\"token function\">setAlgorithm</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"PBEWithMD5AndDES\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//사용할 알고리즘</span>\n        config<span class=\"token punctuation\">.</span><span class=\"token function\">setKeyObtentionIterations</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"1000\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        config<span class=\"token punctuation\">.</span><span class=\"token function\">setPoolSize</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        config<span class=\"token punctuation\">.</span><span class=\"token function\">setProviderName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"SunJCE\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        config<span class=\"token punctuation\">.</span><span class=\"token function\">setSaltGeneratorClassName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"org.jasypt.salt.RandomSaltGenerator\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        config<span class=\"token punctuation\">.</span><span class=\"token function\">setStringOutputType</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"base64\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        encryptor<span class=\"token punctuation\">.</span><span class=\"token function\">setConfig</span><span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> encryptor<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>설정 클래스를 하나 만들고 위와 같이 작성을 하여 <strong>jasyptStringEncryptor</strong> 빈을 만들어줍니다.</p>\n<br>\n<h3 id=\"3-설정파일에-추가-applicationyml또는-applicationproperties\" style=\"position:relative;\"><a href=\"#3-%EC%84%A4%EC%A0%95%ED%8C%8C%EC%9D%BC%EC%97%90-%EC%B6%94%EA%B0%80-applicationyml%EB%98%90%EB%8A%94-applicationproperties\" aria-label=\"3 설정파일에 추가 applicationyml또는 applicationproperties permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 설정파일에 추가 [application.yml(또는 application.properties)]</h3>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">jasypt</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">encryptor</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">bean</span><span class=\"token punctuation\">:</span> jasyptStringEncryptor</code></pre></div>\n<p>설정파일에 위 항목을 추가해줍니다.\nbean에는 2번에서 작성한 bean의 이름을 작성합니다.</p>\n<br>\n<h3 id=\"4-암호화-할-내용을-작성\" style=\"position:relative;\"><a href=\"#4-%EC%95%94%ED%98%B8%ED%99%94-%ED%95%A0-%EB%82%B4%EC%9A%A9%EC%9D%84-%EC%9E%91%EC%84%B1\" aria-label=\"4 암호화 할 내용을 작성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. 암호화 할 내용을 작성</h3>\n<p>이제 암호화 할 데이터를 암호화 해야 합니다.<br>\n다양한 방법이 있지만 일단 간편하게 빠르게 쓰기 위해서 <strong>Application</strong>에 <strong>CommandLineRunner</strong>를 활용하는 방법을 사용하겠습니다.</p>\n<blockquote>\n<p><a href=\"http://www.jasypt.org/download.html\">jasypt</a>에서 다운로드 후 java로 직접 실행하는 방법도 있습니다.</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">(</span>다른 설정 어노테이션<span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@SpringBootApplication</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Application</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">CommandLineRunner</span> <span class=\"token punctuation\">{</span>\n\n\t<span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">SpringApplication</span><span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Application</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"=========== Server Start ===========\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\n\t<span class=\"token annotation punctuation\">@Override</span>\n   <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> args<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token class-name\">StandardPBEStringEncryptor</span> pbeEnc <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">StandardPBEStringEncryptor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\tpbeEnc<span class=\"token punctuation\">.</span><span class=\"token function\">setAlgorithm</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"PBEWithMD5AndDES\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\tpbeEnc<span class=\"token punctuation\">.</span><span class=\"token function\">setPassword</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"test\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//2번 설정의 암호화 키를 입력</span>\n\n\t\t<span class=\"token class-name\">String</span> enc <span class=\"token operator\">=</span> pbeEnc<span class=\"token punctuation\">.</span><span class=\"token function\">encrypt</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"1234\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//암호화 할 내용</span>\n\t\t<span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"enc = \"</span> <span class=\"token operator\">+</span> enc<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//암호화 한 내용을 출력</span>\n\n\t\t<span class=\"token comment\">//테스트용 복호화</span>\n\t\t<span class=\"token class-name\">String</span> des <span class=\"token operator\">=</span> pbeEnc<span class=\"token punctuation\">.</span><span class=\"token function\">decrypt</span><span class=\"token punctuation\">(</span>enc<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"des = \"</span> <span class=\"token operator\">+</span> des<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>위와 같이 진행할 경우 암호화 한다면 <strong>ENC(fncHYmDe1oSFNFV8FcAEDa==)</strong> 와 같은 값이 나오고 복호화 시 <strong>1234</strong>가 정상적으로 출력됩니다.</p>\n<p>이렇게 암호화 할 내용을 만든 후 다음과 같이 설정파일에 작성을 해줍니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">spring</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">datasource</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">sql-script-encoding</span><span class=\"token punctuation\">:</span> UTF<span class=\"token punctuation\">-</span><span class=\"token number\">8</span>\n    <span class=\"token key atrule\">driver-class-name</span><span class=\"token punctuation\">:</span> org.mariadb.jdbc.Driver\n    <span class=\"token key atrule\">url</span><span class=\"token punctuation\">:</span> ENC(fAcHYhDi1oSaAF8FcAEDQ==)\n    <span class=\"token key atrule\">username</span><span class=\"token punctuation\">:</span> ENC(fncHYmDe8oSFAFV8FcAEDQ==)\n    <span class=\"token key atrule\">password</span><span class=\"token punctuation\">:</span> ENC(Aqh1BctIkm9uBNolQ5xlSg==)</code></pre></div>\n<p>그리고 다시 서버를 실행해보면 정상적으로 실행됩니다.</p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<ul>\n<li>\n<p><a href=\"#%EC%9D%B4-%EB%AC%B8%EA%B1%B4%EC%9D%80-%EA%B3%BC%EA%B1%B0-hexo-%EB%B8%94%EB%A1%9C%EA%B7%B8-2017-12-21-%EC%97%90%EC%84%9C-%EC%9D%B4%EB%8F%99%EB%90%9C-%EB%AC%B8%EC%84%9C%EC%9E%85%EB%8B%88%EB%8B%A4\">이 문건은 과거 Hexo 블로그 (2017-12-21) 에서 이동된 문서입니다.</a></p>\n<ul>\n<li><a href=\"#%EC%8B%9C%EA%B0%84%EC%9D%B4-%EC%A7%80%EB%82%A8%EC%97%90-%EB%94%B0%EB%9D%BC-%EC%B5%9C%EC%8B%A0-%EA%B8%B0%EC%88%A0%EA%B3%BC-%EB%8B%A4%EB%A5%BC-%EC%88%98-%EC%9E%88%EC%9C%BC%EB%8B%88-%EC%A3%BC%EC%9D%98-%EB%B0%94%EB%9E%8D%EB%8B%88%EB%8B%A4\">시간이 지남에 따라 최신 기술과 다를 수 있으니 주의 바랍니다.</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#jsayptjava-simplified-encryption-%EB%A5%BC-%EC%8D%A8%EB%B3%B4%EC%9E%90\">Jsaypt(Java Simplified Encryption) 를 써보자</a></p>\n<ul>\n<li>\n<p><a href=\"#1-jsaypt%EB%A5%BC-gradle%EC%97%90-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0\">1. Jsaypt를 gradle에 추가하기</a></p>\n<ul>\n<li><a href=\"#11-spring-boot-starter-%EC%9A%A9\">1.1 spring-boot-starter 용</a></li>\n<li><a href=\"#12-springbootapplication-%EB%98%90%EB%8A%94-enableautoconfiguration-%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EC%A7%80-%EC%95%8A%EB%8A%94-%EA%B2%BD%EC%9A%B0\">1.2 @SpringBootApplication 또는 @EnableAutoConfiguration 를 사용하지 않는 경우</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#2-config-%ED%81%B4%EB%9E%98%EC%8A%A4-%EC%9E%91%EC%84%B1\">2. Config 클래스 작성</a></p>\n</li>\n<li>\n<p><a href=\"#3-%EC%84%A4%EC%A0%95%ED%8C%8C%EC%9D%BC%EC%97%90-%EC%B6%94%EA%B0%80-applicationyml%EB%98%90%EB%8A%94-applicationproperties\">3. 설정파일에 추가 [application.yml(또는 application.properties)]</a></p>\n</li>\n<li>\n<p><a href=\"#4-%EC%95%94%ED%98%B8%ED%99%94-%ED%95%A0-%EB%82%B4%EC%9A%A9%EC%9D%84-%EC%9E%91%EC%84%B1\">4. 암호화 할 내용을 작성</a></p>\n</li>\n</ul>\n</li>\n</ul>\n</div>","frontmatter":{"date":"2017.12.21","title":"Spring에서 설정파일(properties) 암호화 하기 (with jasypt)","categories":"spring_spring-boot","emoji":"📜"},"fields":{"slug":"/spring_spring-boot/171221_jsaypt/"}},"prev":{"id":"b9672002-d580-516b-8ed8-7d2f936f5544","html":"<h1 id=\"주의\" style=\"position:relative;\"><a href=\"#%EC%A3%BC%EC%9D%98\" aria-label=\"주의 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>주의</h1>\n<h3 id=\"이-문건은-과거-hexo-블로그-2017-12-25-에서-이동된-문서입니다\" style=\"position:relative;\"><a href=\"#%EC%9D%B4-%EB%AC%B8%EA%B1%B4%EC%9D%80-%EA%B3%BC%EA%B1%B0-hexo-%EB%B8%94%EB%A1%9C%EA%B7%B8-2017-12-25-%EC%97%90%EC%84%9C-%EC%9D%B4%EB%8F%99%EB%90%9C-%EB%AC%B8%EC%84%9C%EC%9E%85%EB%8B%88%EB%8B%A4\" aria-label=\"이 문건은 과거 hexo 블로그 2017 12 25 에서 이동된 문서입니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이 문건은 과거 Hexo 블로그 (2017-12-25) 에서 이동된 문서입니다.</h3>\n<h4 id=\"시간이-지남에-따라-최신-기술과-다를-수-있으니-주의-바랍니다\" style=\"position:relative;\"><a href=\"#%EC%8B%9C%EA%B0%84%EC%9D%B4-%EC%A7%80%EB%82%A8%EC%97%90-%EB%94%B0%EB%9D%BC-%EC%B5%9C%EC%8B%A0-%EA%B8%B0%EC%88%A0%EA%B3%BC-%EB%8B%A4%EB%A5%BC-%EC%88%98-%EC%9E%88%EC%9C%BC%EB%8B%88-%EC%A3%BC%EC%9D%98-%EB%B0%94%EB%9E%8D%EB%8B%88%EB%8B%A4\" aria-label=\"시간이 지남에 따라 최신 기술과 다를 수 있으니 주의 바랍니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>시간이 지남에 따라 최신 기술과 다를 수 있으니 주의 바랍니다.</h4>\n<hr>\n<h1 id=\"android에서-푸시-알림을-구현하려면\" style=\"position:relative;\"><a href=\"#android%EC%97%90%EC%84%9C-%ED%91%B8%EC%8B%9C-%EC%95%8C%EB%A6%BC%EC%9D%84-%EA%B5%AC%ED%98%84%ED%95%98%EB%A0%A4%EB%A9%B4\" aria-label=\"android에서 푸시 알림을 구현하려면 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Android에서 푸시 알림을 구현하려면?</h1>\n<p>전에 하던 프로젝트에서 안드로이드와 서버간의 푸시 알림을 구현하였습니다.<br>\n이걸 한번 정리해서 문서화 해야 했지만 시간이 없어서 정리를 못하다가 이번 기회를 통해 포스팅을 하여 정리하려 합니다.</p>\n<br>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 400px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 123.88888888888889%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAZCAYAAAAxFw7TAAAACXBIWXMAAAsTAAALEwEAmpwYAAADqUlEQVQ4y42USW8cVRSF+ycgsUREYoXEhn/BD0AIwTJILGBBEEEoy2xZRmKFWCCQWASbEMUSQQIb293YDulIbpt0udyT00P1VNU1z/U+9KoH3C0PudLVq3rv1qlzzz1VBYRAZAlwVQqEECRpClmW3y+lyPIzWVMYOhEbFY07fw24+bjPR481bv6m8fHvfT75Y8CtrQFmmCGyFNswKHUHfHnU4qujFneOW9w+avGwpeEYBmEUU4iSFMP22WwarCk66ydyNfhFMfjpeMy6ohMkGXGakJoT3n1a45WtKm8WVW5sK9zYUXi7dMJE14nimEKaZURhSOJaZJ4DoQuRC6Ez27NydnGS4kwMnvQG3Ko0+aLS5HalyaeHDTbONNzJjGGWCZIkwbJMHNtiOHGo9S1aA5P20EQbm2TpFNCbGPxQ7/Jeuc4H5TofPmvwfrnB10oby5gxFPlQshzgnzOb9WOHR//aVNsTlLZOs28iBxclCZE54bPDJq9uPef1bYW3iie8saPwzsHptOUoohDHCZ7nYtouhu3heD6+6xAGPq7n4zp2XpimKcZ4RGes86DVY63e5kFL435LQx2OsScGcZJQGI/HVCoVTlWVU/WE2ukp7XYHVVVRFIVavU673UZGT9M4qVZ5oTxHq9cYNBv0GzVqSpVOt5vXFFgJKYEM27ZwXXexn+X+g06nQ/PsRX6dZIJUSnbu2amGqzkrkAxlB/Po9/vUarXFC1afyxkubczAROLnh0EQEUXhAtD3/VzL1W6WAJfazT9ByA6/gfLnuJ5Ovd5kLIfR6WCaZp66ri+A50DzKJx/2xwwPbwLu69hjRTUWou9vb/Z3d1lf3+fYrFIqVQiDMPrAf9vWQdfyQ0vNRyNRgyHw1zDbrdLr9fLz64EZPbvYGVqMufayWu5SrDz+l3e8pLI2eLeMIzc3JdZbFp/UcuzVbKQOfeetIplWdOBCbHI66e8Qn8ecrIXMbx+KDPDlopFNjf/xA+CXD+ZuQ9jwUEnYa+TsH2WoOrp5QznG3EU8uRZhf1yhfFohOVFDAwbRIoVCqqjFM3JMAOBF4vrAaW/vn/q8F05RBvq/HiUcu8gIEmzHODbcsi9g5C7OwEbarzQ9VLAIAjpjUyGpkd/OMKNQXeT/J9phXBmCpwIBq7Ajl6CYRzHPHr4K2s/30c3DHzPwZwYU0A/pjEO6Jkh7UmI4cVXA8435RBc11sMaZoCz/PwXBdHpuMufX4X2mbVBpfZ6Crb/AdMu21aPnaLpAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/475605cd9b0f3dd1ef339fd54ee60cfd/7c297/img_01.webp 180w,\n/static/475605cd9b0f3dd1ef339fd54ee60cfd/33ecc/img_01.webp 360w,\n/static/475605cd9b0f3dd1ef339fd54ee60cfd/2276a/img_01.webp 400w\"\n              sizes=\"(max-width: 400px) 100vw, 400px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/475605cd9b0f3dd1ef339fd54ee60cfd/e9ea2/img_01.png 180w,\n/static/475605cd9b0f3dd1ef339fd54ee60cfd/53918/img_01.png 360w,\n/static/475605cd9b0f3dd1ef339fd54ee60cfd/d9f49/img_01.png 400w\"\n            sizes=\"(max-width: 400px) 100vw, 400px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/475605cd9b0f3dd1ef339fd54ee60cfd/d9f49/img_01.png\"\n            alt=\"img 01\"\n            title=\"img 01\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<p>위 이미지는 FCM 사이트에서 가져온 것인데, 이미지에서 보는 것처럼 푸시 서비스를 구현하려면 <strong>모바일측</strong> 구현과<br>\n<strong>푸시 메세지를 관리하는 서버 측</strong> 두 가지를 구현해야 합니다. (GUI는 제외하도록 하겠습니다.)</p>\n<p>이번 포스팅에서는 FCM을 안드로이드에 적용하는 방법에 대해서 알아보도록 하겠습니다.</p>\n<br>\n<h2 id=\"안드로이드에서-fcm-설정하기\" style=\"position:relative;\"><a href=\"#%EC%95%88%EB%93%9C%EB%A1%9C%EC%9D%B4%EB%93%9C%EC%97%90%EC%84%9C-fcm-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0\" aria-label=\"안드로이드에서 fcm 설정하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>안드로이드에서 FCM 설정하기</h2>\n<p>설정하는 것은 <a href=\"https://firebase.google.com/docs/cloud-messaging/android/client?hl=ko\">공식문서</a>를 참고하면 되지만, 이 포스팅에서는 핵심만 집어서 정리하도록 하겠습니다.</p>\n<br>\n<h3 id=\"1-firebase-프로젝트-만들기\" style=\"position:relative;\"><a href=\"#1-firebase-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EB%A7%8C%EB%93%A4%EA%B8%B0\" aria-label=\"1 firebase 프로젝트 만들기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. Firebase 프로젝트 만들기</h3>\n<p>FCM을 적용할 프로젝트에 Firebase 프로젝트를 추가해야 하는데, <a href=\"https://console.firebase.google.com/?hl=ko&#x26;pli=1\">콘솔</a>사이트에서 프로젝트를 추가해야 합니다.<br>\n프로젝트가 미 추가 상태라면 위 콘솔 사이트에서 생성합니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 552px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 35.55555555555556%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABkklEQVQoz3XRz04TQQDH8X0STYmVypZSukK3pbRrKaYkYKLRKPFkjCcegDcAjeEmGI+8AEYSJUCICeXPxcTEa3vBpt3d1u526c7ShMMXdmsDMTjJJzNzmF9+MyNpuRRv5pNkZ17yZP41j569IjqW587wBHdHJglHVUKLm8jrFuGPv7m9WuXWh5uF1qpIsjKJkspwL/GAWLIQiMSzDMazREZzhIfTLHzaYeWHYGm/wfJBi3dHFm+vO7R4f2yzuNdEio5Nkco/RskUUbU5xnOzJLW5XmBCIzL1nNJ+CbouTtPgXDj8b5zYXaRek6tGff39QDTN7vdScKDjCryzLq7n0REC4Z3hCg/heYiOx6+qgyTfz1OYfYFWfMpQQgvezTf499qhIZVv23ucnjrouo5pmrRaLWzb7rFsbMfBMU74WdGR/BZKZgZlokhsvEBcfciIOh3w1wNyms9fvqLX61QqFcrlchDabrexLCsI9Wd/XzObSMFPxjKBfrvrQnKKjc0tnI5LzTAxGn+omw1qxr9M9MvAC3FGdJ47V2OOAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/4a1ff04e954f207cdcf348a894d6678e/7c297/img_02.webp 180w,\n/static/4a1ff04e954f207cdcf348a894d6678e/33ecc/img_02.webp 360w,\n/static/4a1ff04e954f207cdcf348a894d6678e/14bd4/img_02.webp 552w\"\n              sizes=\"(max-width: 552px) 100vw, 552px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/4a1ff04e954f207cdcf348a894d6678e/e9ea2/img_02.png 180w,\n/static/4a1ff04e954f207cdcf348a894d6678e/53918/img_02.png 360w,\n/static/4a1ff04e954f207cdcf348a894d6678e/d8a93/img_02.png 552w\"\n            sizes=\"(max-width: 552px) 100vw, 552px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/4a1ff04e954f207cdcf348a894d6678e/d8a93/img_02.png\"\n            alt=\"img 02\"\n            title=\"img 02\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<p>생성이 완료되면 위 사진처럼 설정 아이콘 클릭 후 프로젝트 설정을 클릭하면 아래 사진처럼 설정 화면으로 이동하게 됩니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 71.11111111111111%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB60lEQVQ4y5WSy4rUQBSG8zq6UnBcuPFxfAufQVcyDTrIPIK4d6Ewgtg9orNxoT19Gbs7Sd1zq8r5pU6SvowtYsHHf1Lnz5+qQ5JHr5e4O5rjzmnPaE9Hc+79D8nj8yUeni1wcrZgffAq6pJOmAXuvVzQ/UOwp3+QXC0Evsx2XM4Exj9TmkwzmlznGE/zdjzNQ680nvLeoAdEfyKVgrpFYQ2auoJvamqqEpHQ1PG59U0VId/Efq91xX1nLZJ1LrHPRii4oqCiKFsA8D5MGu/PiXARAm+BOoh2NS/tCiSpkEhziVQobHKJLAa6gqqqCsSv4C2Ap0T0gaidgOgzEWWxR91C74OJgRshOSgGDqFCaShjSRkLqW2Q2pZSGyW1yYUymdSmir3BM5BLvQvc7J9SKpKaw0hoi1xbKOugjIM0Xc09qdH7eD/bDxzCovoQeFT9TXhMZVWRr2tC46ksS2q7yQ3jO35l1lyi8X7rnNoKHzeG6xtn8H51jRjWZAbpm08gH7be44GiC2z7472bZ3h++YPrr3KNZ1cXHOC+L/HtyQuEov7HCYWMv8rWVBYOSgiuC+ewXq24rn0DqRVCu/Pav105Dllbx8SvRiPX1h2tB3Kl+//wVug6i4gtq0zw/vxmhdny166XigNf9PwG/Wf/ea/ELfgAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/72c5bc2879d3ed72b575215f58d82a0b/7c297/img_03.webp 180w,\n/static/72c5bc2879d3ed72b575215f58d82a0b/33ecc/img_03.webp 360w,\n/static/72c5bc2879d3ed72b575215f58d82a0b/df77d/img_03.webp 720w,\n/static/72c5bc2879d3ed72b575215f58d82a0b/cf465/img_03.webp 800w\"\n              sizes=\"(max-width: 720px) 100vw, 720px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/72c5bc2879d3ed72b575215f58d82a0b/e9ea2/img_03.png 180w,\n/static/72c5bc2879d3ed72b575215f58d82a0b/53918/img_03.png 360w,\n/static/72c5bc2879d3ed72b575215f58d82a0b/242a6/img_03.png 720w,\n/static/72c5bc2879d3ed72b575215f58d82a0b/78d47/img_03.png 800w\"\n            sizes=\"(max-width: 720px) 100vw, 720px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/72c5bc2879d3ed72b575215f58d82a0b/242a6/img_03.png\"\n            alt=\"img 03\"\n            title=\"img 03\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<br>\n<p>이곳에서 <strong>Android 앱에 Firebase 추가</strong>를 클릭하면 앱 등록 화면이 뜹니다.</p>\n<table>\n<thead>\n<tr>\n<th align=\"center\">앱 등록</th>\n<th align=\"center\">구성 파일 다운로드</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"center\"><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 713px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 85.55555555555556%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAACcElEQVQ4y5WSS08TURTH54Ng8B21lCaCpi7UAH4YP0TFJTtDpO9HQkwMxMSVC3docUOiEiN2piK003aavqgz0+m8Z/o397YD01JiaPLLOfd07m/OmXuZhbUdhNOHeBAvIJxgEU6yeBhnsRArIPi6gDvrv3D3vxwgsFFEcC0P5lnsK5beSVjZamFpq42V7Q6Wtzt4/LaNxc0WAtkG5nLNIVkfOX9sILh5gqfxH2CWN/ZwO9NEIFVFIC3gXkrA848d3M/VMZcWEMrVEUpVhmTrCGUFzGcEhBJlGmmeqSGQbeJJ9DuY8Ks9zMSbuBarYjZWw/WEgEdvGriREHAlWsPNpID5bJ1yKyngaqx2up7L1Ol6NlrFTLyBxfV9MJH3+4jsyojsdBD5dIIXn7uUyAiSr+ZHjNYv80NIjT5P9u3KWP3AguH/FAFbhdMX4aoSYCgA7EtigfzaQgXMQYGFqFloSSrasoqmqKCrGJANF7LuDDFG6DY0w4Tug6xV3YDtDnBcKoNhOQ6qbqIryvgr9aBoOjTDorVJyGbLsiimeZYbhoHBYACe58FwHAdD1yFLEnqyjL6iwLYsuK4D1xnHse0zkWnSnOAJy+UyGK5YhOu6UDWN/qFpGn3Itu0RzjA6w2j6RJPC41IJDMtytCCKIiTSZa9Hc1mWad0bz8Mb0w+pE2GJCjmOFoiAyBRFOY3T6Pf756InpCMTIemECCdl3kv8L/Lnuq6PjczTb8gV6R2aHG/aaNNOmGLb1MFX+PPCCzdN1El35ABJt+S6tDttHP0+HBdOO8FpeHfPk1YqFdSbDbBfvl3c4WVGVlUVhmXi6CeHfxkCsqmJopl0AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/289be68efeabd2a9c06a4ef6cb635ec5/7c297/img_04.webp 180w,\n/static/289be68efeabd2a9c06a4ef6cb635ec5/33ecc/img_04.webp 360w,\n/static/289be68efeabd2a9c06a4ef6cb635ec5/e185d/img_04.webp 713w\"\n              sizes=\"(max-width: 713px) 100vw, 713px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/289be68efeabd2a9c06a4ef6cb635ec5/e9ea2/img_04.png 180w,\n/static/289be68efeabd2a9c06a4ef6cb635ec5/53918/img_04.png 360w,\n/static/289be68efeabd2a9c06a4ef6cb635ec5/61d11/img_04.png 713w\"\n            sizes=\"(max-width: 713px) 100vw, 713px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/289be68efeabd2a9c06a4ef6cb635ec5/61d11/img_04.png\"\n            alt=\"img 04\"\n            title=\"img 04\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></td>\n<td align=\"center\"><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 714px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 97.22222222222223%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAAD1klEQVQ4y3WTW28bVRSF/VNAamggKUUgJB5QH6gQUBAiaamEVB6LeOAn8AsQEojSxrm0BXFJlOYCEgHRBwIpSkhL2rpxbMfxLfF4PGPH9dzsuc+H5thJo0gcaWnvM+fM0l5n7Z147co6b85rnJtVeWO2wblbDd6ea3J2usHL3yoMTcoMTvRwaqrO8JTcR70PmaHJGqe/aXLm6gMSZ6+sMTilMjxRZXhCYmhC4tmrZZGfnqoxmJR4a0bhnVmFk8mq+BbfGR4ri3hqUuL5ySrPTSmc+XqDxKtfrvFUUmHg2h4nrlV5Jinx4lSVk+MSJ8YkEc9OK7w+rTA4LvXOb8i8dL3KC9drDCQlBsaqPJ1UeOWrDRKXbt5l9GedCwsNRheajMypvL+g8t4thXdnFUbmFM7Pq1zoI95fXFC5uKiKODrf4PycwsjCPpe+S5FIbaaR5DqlchmltodjGRD6EHiHCH2Pju3ScVy6jnuYmx2bx22NutalZYfsFEskMpkMoe+itDRub7dYLuqsVCxWKiZ3KhbLZYsHcgfPc3HdHrw+XNfB7nYxuzZuEImiEulMlngVGhaXl5pcXmpweUnl498afLSk8uFPdT77uwmhB1FAFEVAJGIYxvsQ34vPIsoxYSaTJb5imgaNukxTqYsoS3sijyvaN20yTZc/UhWW79xj9e4md/9N8WirwP1UFrWxL4oqlUo9wngZhkkulyOfz5PP71CpVNA0Dcv2qGk2G7LD4moKqbzJw/urSHIR3VBoazKmqfVUFotPCB3HodPpCJimiet6BEFI4PtEsTmRT1Ot4bkWilQScg9W/JbxExSPErbbbbLZLIVCgWw2RzqdZnt7m9i0TqeL4/nIdYUwDGmpVTqWJf6LieJi4tiXnBEHlmWxs7ODoig4to1jdzEMA0PX8T1XtJLxeJ8wgqpco1Su4PmB2Nt2j/DQlAPJvu8Lt9ZTWzzM5onCUFTWMB3SSpeZVJOZdZ3vb+e4+UuWW3/VWFxrUa5bfVOOEXZtW+TjM4t8+kVS5E3Todq2UQ2HgqLR0jvUanVabZO20UE3bboHFR512bZtwiDg/laOaz/O8/mNH1i590DIj/rTQuAT+J64F8R54OP7niAMge1/Hj4hjPstdm63Vme7tEtht0q+vIvtOLiedzglR+G4br8D3F7bbGyS2MpkRItoui560XUciEIxDTG8Ppl3jDQmi+e8uN9lNq3xa9EmlSuQ2NzKIOkORaVNSzewTFPIP/jpKFkcD3LbcUVv/lnU+WC+xie/77P2KH9UsidcjnGc4P8gnkm8rSvUVCpl/gN4jEFfhspBxAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/2a3888cda0afac685a5be00df0a53a0a/7c297/img_05.webp 180w,\n/static/2a3888cda0afac685a5be00df0a53a0a/33ecc/img_05.webp 360w,\n/static/2a3888cda0afac685a5be00df0a53a0a/b2596/img_05.webp 714w\"\n              sizes=\"(max-width: 714px) 100vw, 714px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/2a3888cda0afac685a5be00df0a53a0a/e9ea2/img_05.png 180w,\n/static/2a3888cda0afac685a5be00df0a53a0a/53918/img_05.png 360w,\n/static/2a3888cda0afac685a5be00df0a53a0a/f91ec/img_05.png 714w\"\n            sizes=\"(max-width: 714px) 100vw, 714px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/2a3888cda0afac685a5be00df0a53a0a/f91ec/img_05.png\"\n            alt=\"img 05\"\n            title=\"img 05\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></td>\n</tr>\n</tbody>\n</table>\n<p><strong>앱 등록</strong>화면에서는 안드로이드 패키지 이름(build.gradle의 android{ applicationId }에 선언된 것)을 등록 후,<br>\n다음 화면인 <strong>구성 파일 다운로드</strong>에서 설명에 나온 대로 json 파일을 프로젝트에 추가합니다.</p>\n<p>이후는 아래의 사진처럼 작업을 진행합니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 707px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 106.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAADyUlEQVQ4y4WU249TVRjF+3+YqHhJYBxA4g28PBjwzb/EP8B3EwM+GmQ6DGUIJkbUxFdDokYTRm2noM50ht6B9tyvbWd67m1/Zu/TUkZibLLynbO7u7611rd3C699scO5zYecK3V4e7PLW6UuZ0tdXr/W4WSxzcqVNitr8/qfaLF6tceZz36l8E6pzYVvXc7fsiTe/9riwi2Ld7+yePWGwSslndXrT+PUprF8L2ms3vT44EqZwhvrDY5f01nZUFjZUDlxVeHE2gNWSyqnSiqnr2uc3njEqY0epzc1uX72ps5Ht11OLvaUFE5s2py//AeFlcsNnlvXOVZUeH5N4eWrKmduaLxQVHn2isLxa5okOnND56V1lRfXVd68qXP2S12uHyuqHFvr80zR4r3PyxQ+/ekRF7d8Lt5xubTl5/jNP/r8f9jyuFQ+5JPvqxR8S8PR+gQDB5gCGTA5ilkC0wRm6RFMwxFxcMBgHCE+tT+3KXT7OjXVp97t0Wy1aHe6NNttWp0OjVabZquNphsYtovt+tiej+MNsBwPVdNRNB3DcsimUNnepmBZFgfDIaZpIJ5t25bVdV1835cIw5AwjAijiCzLjmAyyUjTVCqsVqsUXM8jSRJ0w5BkmqahKAqWbeP5Pp7nYzsOpmXjuC5BEDyFw/GY6XSaKxSbRAdVVen1epLMNM0nFHqPlYpnz3Xld47jSAECYr9wUalUloRicbe2R6V6l/37df7e3eV+vSEzrDeasrbaHdqdDg8fPkLXjcfEpmXlhEKhOycUuZmmhWGasquu6yiKKiMQ6kUVsYh1wzClgIVCwzCk9TxD1yWOY9nJlXYcaW84GjE6OGA4HDIYDuX78IkqCMbjcZ7h4SGTyWRJKOSKjqKTUCJi8AcD+WMxGNfz8fxBPqQ5hIgFoihiNptRvVvNMxTjF3YUVUPTdfqKSl9R6PcVWVXRxLZxnNyicCMiWkBaDgOq5UquUBybnVqN2t6+RKf7gJ3aHvv1Oo1mSw5HHHixLgaynHoO13FIZhPufPfDcsoyN5HXYMBgMGQ0OiCKYhlHHEUkcUyWpnLvv5HEiTzYv9/+JVcogrUsA9PUsW0TXVdlNQwxWZW+pmHYDkEUkyapdLRAnCSEUcwMKMtz6HhkWYhhlCVsu4ppVtC0MqNRnWza4IHV5n63ieLqpGlGOieTV07+UeQKt+VNcRx5H5MkIE1DkmSJOBYIGEcB4zAgjKPc4pxM1HtawM/dQzqDjHvblQXhhERayXE0o4xsjgXJglBY/fhHiw+/USneO6BZ+4t/AE5CxzoYVbVXAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/d42c33e0aa98a7a61f9823fdb47ab937/7c297/img_06.webp 180w,\n/static/d42c33e0aa98a7a61f9823fdb47ab937/33ecc/img_06.webp 360w,\n/static/d42c33e0aa98a7a61f9823fdb47ab937/36466/img_06.webp 707w\"\n              sizes=\"(max-width: 707px) 100vw, 707px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/d42c33e0aa98a7a61f9823fdb47ab937/e9ea2/img_06.png 180w,\n/static/d42c33e0aa98a7a61f9823fdb47ab937/53918/img_06.png 360w,\n/static/d42c33e0aa98a7a61f9823fdb47ab937/e9ffe/img_06.png 707w\"\n            sizes=\"(max-width: 707px) 100vw, 707px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/d42c33e0aa98a7a61f9823fdb47ab937/e9ffe/img_06.png\"\n            alt=\"img 06\"\n            title=\"img 06\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<br>\n<h3 id=\"2-dependencies-설정하기\" style=\"position:relative;\"><a href=\"#2-dependencies-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0\" aria-label=\"2 dependencies 설정하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Dependencies 설정하기</h3>\n<p>아래의 의존성을 추가해줍니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"gradle\"><pre class=\"language-gradle\"><code class=\"language-gradle\"><span class=\"token keyword\">dependencies</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token punctuation\">...</span>\n\tompile <span class=\"token string\">'com.google.firebase:firebase-messaging:11.0.4'</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br>\n<h3 id=\"4-fcm-처리를-위한-서비스-클래스-작성\" style=\"position:relative;\"><a href=\"#4-fcm-%EC%B2%98%EB%A6%AC%EB%A5%BC-%EC%9C%84%ED%95%9C-%EC%84%9C%EB%B9%84%EC%8A%A4-%ED%81%B4%EB%9E%98%EC%8A%A4-%EC%9E%91%EC%84%B1\" aria-label=\"4 fcm 처리를 위한 서비스 클래스 작성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. FCM 처리를 위한 서비스 클래스 작성</h3>\n<p>Android Studio에서 서비스를 구현할 클래스를 만들어줍니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 255px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 102.77777777777777%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEIklEQVQ4y32UW4/bVBDH823gpdtN4yS2z/HxJXacxEkc369JNpfdVbcLZVtEn3jjqeKphQoJgRAVrzzzVtQLLwgBEl+Az7Hq+SN7s92tWvHw04xn7DkzPjPTiD+y4G9DZKvPUGzvId/cg+muYEwP0JteSNNdYxAeYpbfxiy7jXF8hHFyjKC8g2hxikGwhZudgGg2GsNkiL7vwp4uYLs5hl4JdRCB2eFbaIMI1jiFWZOg56SwJhnsaVb7DCeFpBhojBwfXlIiX+U4PjxCFMdoixJEQiHKtJayooIwFbLCav0NlEGibOfX0Gp30aCqDi8MMAom6BeH3A0iONMZ98KYT2Y+dyZTzvQeJ0zjVNXfC2E6VzSDCx2R1wGHzhjUHEE6+Jg7fow0L3mYpOdxVp4naXau9cxzmWnnVNXfC9n5hI74uiEzDTPPh+5MIW3uw0tLHscJdLOPjkTqkqpyqoMrealfp7ZpxlXJFbo1wCCZv3bjHEm5+FfVe3cVzTiroKr+BsK0t553tvuKZpzcand+rgNWP1XrWbD79uuJHyFfHf3TbAl7HYk0ZUVtypQ1RZk2Jao2qao3CdOaRL0G01paz/rgltB52CDsKu0uUTAaT7hh9THf3kZSLpEVJYrlqpaqbvx/yZ0uGuTScJEpHzgTmPaQB9mc+3HGgyjm1mDEKxvTjWs3e3Hr5FLXDN7qdHmDqD1UUK0Hiel8OJ7BHDg8WWx4mM15deNMt3hbpLxLVC5SjRO19w5UM3mrahuFCFBIGwptg0gtOCMLlqkiLXOEkY/QdzCbOUiTAHnmI0tc6KoIKu++I21Q0gajbQhCCw0h+QZC9Ajt+DFa4WNoiydg5deY3Pke4dlTxPd+gn/3KdzTHzE4+gFs+R266RMI0WO04692PEI7+xZNFqFx8/B37G9eYH/zCnvrV1BPfwU9eQ7/wS+IPn+J+Rd/4uTLv3H88C9Yn/yGD8tn2Fs9x/7mJfZWL3Dj4DluLJ/hxvYP3DQO0SCaBaKZNVQzITELktqHrBgQhxG66weQbQPDWYQwnSPO5rVMyzXScoXi4BBJvkSx3EJWNDQoU/EOqgpKKehwAuXgFKyvwHFdBFEELwzhBSH8MIYXRojTDJ4fIMlyKKq+a5trXPSWAaow0NEMdH0GNlAx9nyESYYgTuBHKcIkR5yXKBYrREmG1eaoHtc6IL02o5erSJJkyEMX8vZTEIti6gdYrrcoFgfIixJRmtXZpUWJfL6EPRxh/5ZwFfCy46tTVMPEwJnCnPow8zXs6RATz4frBdVqQ9X8tjOuBqDWK1vPsi+Ww/WAVXbOxK1fLNbHCNMCURihKOdI8hIyVdAUOhDJ1WKtpEiUOhmhI74dsHKO3Rns0RhhsYSf5IiSFM7UQ17O6/9VzhfQDPOdmVZ2s/wf2xkAnHVgVy8AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/4227e6751a62204001b93016480fbbf3/7c297/img_07.webp 180w,\n/static/4227e6751a62204001b93016480fbbf3/a12a6/img_07.webp 255w\"\n              sizes=\"(max-width: 255px) 100vw, 255px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/4227e6751a62204001b93016480fbbf3/e9ea2/img_07.png 180w,\n/static/4227e6751a62204001b93016480fbbf3/18417/img_07.png 255w\"\n            sizes=\"(max-width: 255px) 100vw, 255px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/4227e6751a62204001b93016480fbbf3/18417/img_07.png\"\n            alt=\"img 07\"\n            title=\"img 07\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<p>위 사진은 그냥 참고용이며, 저 같은 경우 패키지를 하나 만들고 그곳에 생성하였습니다.<br>\n2개의 클래스를 생성해야 하는데, <strong>FirebaseMessagingService</strong>를 상속받은 클래스와 <strong>FirebaseInstanceIdService</strong>를 상속받은 클래스를 만들어줍니다.</p>\n<p>아래는 예시로 만든 클래스들입니다.\n먼저 <strong>FirebaseMessagingService</strong>을 상속받은 클래스를 하나 만들어줍니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">android<span class=\"token punctuation\">.</span>app<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">NotificationManager</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">android<span class=\"token punctuation\">.</span>app<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">PendingIntent</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">android<span class=\"token punctuation\">.</span>content<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Context</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">android<span class=\"token punctuation\">.</span>content<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Intent</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">android<span class=\"token punctuation\">.</span>graphics<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Color</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">android<span class=\"token punctuation\">.</span>media<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">RingtoneManager</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">android<span class=\"token punctuation\">.</span>net<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Uri</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">android<span class=\"token punctuation\">.</span>os<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">PowerManager</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">android<span class=\"token punctuation\">.</span>support<span class=\"token punctuation\">.</span>v4<span class=\"token punctuation\">.</span>app<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">NotificationCompat</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">com<span class=\"token punctuation\">.</span>google<span class=\"token punctuation\">.</span>firebase<span class=\"token punctuation\">.</span>messaging<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">FirebaseMessagingService</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">com<span class=\"token punctuation\">.</span>google<span class=\"token punctuation\">.</span>firebase<span class=\"token punctuation\">.</span>messaging<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">RemoteMessage</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Date</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Map</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">CustomFirebaseMessagingService</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">FirebaseMessagingService</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token comment\">/**\n     * Called when message is received.\n     *\n     * @param remoteMessage Object representing the message received from Firebase Cloud Messaging.\n     */</span>\n    <span class=\"token comment\">// [START receive_message]</span>\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">onMessageReceived</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RemoteMessage</span> remoteMessage<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">Map</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> pushDataMap <span class=\"token operator\">=</span> remoteMessage<span class=\"token punctuation\">.</span><span class=\"token function\">getData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">sendNotification</span><span class=\"token punctuation\">(</span>pushDataMap<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">void</span> <span class=\"token function\">sendNotification</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Map</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> dataMap<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">Intent</span> intent <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Intent</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">MachineListActivity</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        intent<span class=\"token punctuation\">.</span><span class=\"token function\">addFlags</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Intent</span><span class=\"token punctuation\">.</span><span class=\"token constant\">FLAG_ACTIVITY_CLEAR_TOP</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token class-name\">PendingIntent</span> contentIntent <span class=\"token operator\">=</span> <span class=\"token class-name\">PendingIntent</span><span class=\"token punctuation\">.</span><span class=\"token function\">getActivity</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> intent<span class=\"token punctuation\">,</span> <span class=\"token class-name\">PendingIntent</span><span class=\"token punctuation\">.</span><span class=\"token constant\">FLAG_ONE_SHOT</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">Uri</span> defaultSoundUri<span class=\"token operator\">=</span> <span class=\"token class-name\">RingtoneManager</span><span class=\"token punctuation\">.</span><span class=\"token function\">getDefaultUri</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RingtoneManager</span><span class=\"token punctuation\">.</span><span class=\"token constant\">TYPE_NOTIFICATION</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token class-name\">NotificationCompat<span class=\"token punctuation\">.</span>Builder</span> nBuilder <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">NotificationCompat<span class=\"token punctuation\">.</span>Builder</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">setSmallIcon</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">R</span><span class=\"token punctuation\">.</span>mipmap<span class=\"token punctuation\">.</span>ic_launcher<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">setContentTitle</span><span class=\"token punctuation\">(</span>dataMap<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"title\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">setContentText</span><span class=\"token punctuation\">(</span>dataMap<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"msg\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">setAutoCancel</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">setSound</span><span class=\"token punctuation\">(</span>defaultSoundUri<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">setVibrate</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token keyword\">long</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">{</span><span class=\"token number\">1000</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">setLights</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Color</span><span class=\"token punctuation\">.</span><span class=\"token constant\">WHITE</span><span class=\"token punctuation\">,</span><span class=\"token number\">1500</span><span class=\"token punctuation\">,</span><span class=\"token number\">1500</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">setContentIntent</span><span class=\"token punctuation\">(</span>contentIntent<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token class-name\">NotificationManager</span> nManager <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">NotificationManager</span><span class=\"token punctuation\">)</span> <span class=\"token function\">getSystemService</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Context</span><span class=\"token punctuation\">.</span><span class=\"token constant\">NOTIFICATION_SERVICE</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        nManager<span class=\"token punctuation\">.</span><span class=\"token function\">notify</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span> <span class=\"token comment\">/* ID of notification */</span><span class=\"token punctuation\">,</span> nBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p>이 서비스 클래스는 푸시 메세지를 받아서 처리하는 것을 구현합니다.<br>\n<strong>onMessageReceived</strong> 메서드에서는 푸시 메세지를 수신했을 때 호출이 되며, <strong>pushDataMap</strong>에는 푸시 메세지 내용이 담기게 됩니다.<br>\n<strong>sendNotification</strong> 메서드는 푸시 메세지를 알림으로 표현하는 처리를 담당하게 됩니다.<br>\n해당 메서드는 자신의 로직에 맞게끔 구현하면 되며, 위는 예로 구현을 한 것입니다.</p>\n<p>다음은 <strong>FirebaseInstanceIdService</strong>를 상속받은 클래스 예시입니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">com<span class=\"token punctuation\">.</span>google<span class=\"token punctuation\">.</span>firebase<span class=\"token punctuation\">.</span>iid<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">FirebaseInstanceId</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">com<span class=\"token punctuation\">.</span>google<span class=\"token punctuation\">.</span>firebase<span class=\"token punctuation\">.</span>iid<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">FirebaseInstanceIdService</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">CustomFirebaseInstanceIdService</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">FirebaseInstanceIdService</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token comment\">/**\n     * Called if InstanceID token is updated. This may occur if the security of\n     * the previous token had been compromised. Note that this is called when the InstanceID token\n     * is initially generated so this is where you would retrieve the token.\n     */</span>\n    <span class=\"token comment\">// [START refresh_token]</span>\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">onTokenRefresh</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">String</span> refreshedToken <span class=\"token operator\">=</span> <span class=\"token class-name\">FirebaseInstanceId</span><span class=\"token punctuation\">.</span><span class=\"token function\">getInstance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getToken</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">sendRegistrationToServer</span><span class=\"token punctuation\">(</span>refreshedToken<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token comment\">// [END refresh_token]</span>\n\n\n    <span class=\"token comment\">/**\n     * Persist token to third-party servers.\n     *\n     * Modify this method to associate the user's FCM InstanceID token with any server-side account\n     * maintained by your application.\n     *\n     * @param token The new token.\n     */</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">void</span> <span class=\"token function\">sendRegistrationToServer</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> token<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token comment\">//FCM 토큰 갱신</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>이 클래스는 어플리케이션이 처음 설치되거나 가끔 토큰이 갱신될 때 <strong>onTokenRefresh</strong> 메서드를 통해 FCM Token을 하나 생성이 되어집니다.<br>\n그리고 이 토큰이 생성되거나 갱신된 경우 서버에 보내주는 메서드인 <strong>sendRegistrationToServer</strong>를 호출하게 됩니다.</p>\n<p>이 FCM 토큰을 통해 해당 기기로 서버에서 푸시 메세지를 보내게 해주는 고유 값입니다.<br>\n이 부분은 향후에 서버 측 구현 시 FCM 토큰이 갱신되는 부분을 개발해야 합니다.</p>\n<blockquote>\n<p>사실 다른 블로그들에서는 여기까지만 대부분 설명을 하게 됩니다.<br>\n그런데 사실 이런 정보를 찾으시는 분들은 요구사항에 맞는 내용을 구현하기 위해 내용을 찾게 됩니다.<br>\n전부 다 커버할 수는 없지만 두 가지 예시 사항을 보고 어떤식으로 로직을 풀어나가야 할지를 알아보겠습니다.</p>\n</blockquote>\n<h4 id=\"알림-수신-여부\" style=\"position:relative;\"><a href=\"#%EC%95%8C%EB%A6%BC-%EC%88%98%EC%8B%A0-%EC%97%AC%EB%B6%80\" aria-label=\"알림 수신 여부 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>알림 수신 여부</h4>\n<p>예를 들어 알림 수신 시간을 제한하는 기능을 구현해야 한다고 해봅시다.<br>\n그럼 아래와 같은 로직을 생각해 볼 수 있겠습니다.</p>\n<ol>\n<li>사용자로부터 알림 수신을 제외할 시간을 입력받습니다.</li>\n<li>1번의 데이터를 Sharedpreference 등에 저장을 해둡니다.</li>\n<li><strong>FirebaseMessagingService</strong>를 구현한 클래스의 <strong>onMessageReceived</strong>메서드에서 푸시 알림 수신을 하였을 때 2번의 저장된 데이터를 읽어와서 해당 시간이 푸시 알림이 가능할 경우에만 <strong>sendNotification()</strong> 메서드를 호출.</li>\n</ol>\n<p>저 같은 경우 아래와 같은 메서드를 하나 만들고 로직을 구현하였습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">private</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">isCanReceivePush</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> pushMsg<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token comment\">//시간 체크 로직</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>그래서 <strong>onMessageReceived</strong> 메서드에서 저 메서드를 호출하여 true 값을 받을 경우에만 메세지를 수신하는 처리를 하였습니다.</p>\n<br>\n<h4 id=\"토큰-생성-및-갱신-부분\" style=\"position:relative;\"><a href=\"#%ED%86%A0%ED%81%B0-%EC%83%9D%EC%84%B1-%EB%B0%8F-%EA%B0%B1%EC%8B%A0-%EB%B6%80%EB%B6%84\" aria-label=\"토큰 생성 및 갱신 부분 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>토큰 생성 및 갱신 부분</h4>\n<p>위에서 설명드린 것처럼 어플리케이션을 처음 설치할 때나 FCM 토큰을 갱신할 경우엔 Sharedpreference에 토큰 값을 저장해두는 게 좋습니다.<br>\n그래서 <strong>onTokenRefresh()</strong> 메서드에서 호출 시 아래와 같이 응용할 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">onTokenRefresh</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">String</span> refreshedToken <span class=\"token operator\">=</span> <span class=\"token class-name\">FirebaseInstanceId</span><span class=\"token punctuation\">.</span><span class=\"token function\">getInstance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getToken</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">isValidString</span><span class=\"token punctuation\">(</span>refreshedToken<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">//토큰이 널이거나 빈 문자열이 아닌 경우</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token function\">isValidString</span><span class=\"token punctuation\">(</span><span class=\"token function\">getSharedPreferencesStringData</span><span class=\"token punctuation\">(</span><span class=\"token function\">getApplicationContext</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">AD_FCM_TOKEN</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">//토큰에 데이터가 없는 경우에만 저장</span>\n                <span class=\"token function\">setSharedPreferencesStringData</span><span class=\"token punctuation\">(</span><span class=\"token function\">getApplicationContext</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">AD_FCM_TOKEN</span><span class=\"token punctuation\">,</span> refreshedToken<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">isValidString</span><span class=\"token punctuation\">(</span><span class=\"token function\">getSharedPreferencesStringData</span><span class=\"token punctuation\">(</span><span class=\"token function\">getApplicationContext</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">AD_LOGIN_ID</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">//로그인 상태일 경우에는 서버로 보낸다.</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>refreshedToken<span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span><span class=\"token function\">getSharedPreferencesStringData</span><span class=\"token punctuation\">(</span><span class=\"token function\">getApplicationContext</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">AD_FCM_TOKEN</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">//기존에 저장된 토큰과 비교하여 다를 경우에만 서버 업데이트</span>\n                    <span class=\"token function\">setSharedPreferencesStringData</span><span class=\"token punctuation\">(</span><span class=\"token function\">getApplicationContext</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">AD_FCM_TOKEN</span><span class=\"token punctuation\">,</span> refreshedToken<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token function\">sendRegistrationToServer</span><span class=\"token punctuation\">(</span>refreshedToken<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p>제가 개발했던 구형 로직을 그대로 가져와서 약간 지저분해 보일 수 있습니다만 일단 참고 및 설명용임을 감안해주시기 바랍니다.<br>\n일단 저 같은 경우 아래의 로직으로 구현하였습니다.</p>\n<ol>\n<li>갱신된 토큰이 정상인지 체크</li>\n<li>Sharedpreference에 저장된 FCM 토큰 값이 없는 경우에만 저장.</li>\n<li>만약 로그인 상태일 경우 Sharedpreference에 갱신된 토큰을 저장하고 서버로 갱신된 토큰을 전송하는 메서드를 호출.</li>\n</ol>\n<blockquote>\n<p>간단하게 두 가지의 예시만 설명을 드렸습니다.<br>\n다른 요구사항이 있다면 위에서 안내드린 것처럼 로직을 풀어보고 그에 맞춰서 구현을 하면 푸시는 어렵지 않게 구현을 하실 수 있습니다.</p>\n</blockquote>\n<br>\n<h3 id=\"5-manifest-파일-수정\" style=\"position:relative;\"><a href=\"#5-manifest-%ED%8C%8C%EC%9D%BC-%EC%88%98%EC%A0%95\" aria-label=\"5 manifest 파일 수정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. Manifest 파일 수정</h3>\n<p>위에서 생성한 서비스 클래스를 매니페스트에 등록합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\">\t\t<span class=\"token comment\">&lt;!-- Firebase Service --></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>service</span>\n\t\t\t<span class=\"token attr-name\"><span class=\"token namespace\">android:</span>name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>.firebase.CustomFirebaseMessagingService<span class=\"token punctuation\">\"</span></span>\n\t\t\t<span class=\"token attr-name\"><span class=\"token namespace\">android:</span>enabled</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span>\n\t\t\t<span class=\"token attr-name\"><span class=\"token namespace\">android:</span>exported</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n\t\t\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>intent-filter</span><span class=\"token punctuation\">></span></span>\n\t\t\t\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>action</span> <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>com.google.firebase.MESSAGING_EVENT<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n\t\t\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>intent-filter</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>service</span><span class=\"token punctuation\">></span></span>\n\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>service</span>\n           <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>.firebase.CustomFirebaseInstanceIdService<span class=\"token punctuation\">\"</span></span>\n           <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>enabled</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span>\n           <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>exported</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n           \t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>intent-filter</span><span class=\"token punctuation\">></span></span>\n\t\t\t\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>action</span> <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>com.google.firebase.INSTANCE_ID_EVENT<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n             <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>intent-filter</span><span class=\"token punctuation\">></span></span>\n       <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>service</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>위 작업을 다 마칠 경우 푸시를 수신할 수 있게 됩니다.</p>\n<br>\n<h2 id=\"정리\" style=\"position:relative;\"><a href=\"#%EC%A0%95%EB%A6%AC\" aria-label=\"정리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>정리</h2>\n<p>사실 이 포스트 하나만으로는 푸시 서비스를 구현했다 할 수 없습니다.<br>\n개인적으로 푸시 서비스를 구현하려면 <strong>서버 측</strong>의 구현이 제일 중요한 것 같습니다.<br>\n이 포스트와 짝을 이룰 서버 측 구현 포스팅은 곧 작성하여 업데이트 하도록 하겠습니다.<br>\n또한 1:1 푸시 말고 구독 값을 이용하여 푸시를 받는 내용도 포스팅할 예정입니다.</p>\n<p>업데이트를 기다려주세요.</p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<ul>\n<li>\n<p><a href=\"#%EC%9D%B4-%EB%AC%B8%EA%B1%B4%EC%9D%80-%EA%B3%BC%EA%B1%B0-hexo-%EB%B8%94%EB%A1%9C%EA%B7%B8-2017-12-25-%EC%97%90%EC%84%9C-%EC%9D%B4%EB%8F%99%EB%90%9C-%EB%AC%B8%EC%84%9C%EC%9E%85%EB%8B%88%EB%8B%A4\">이 문건은 과거 Hexo 블로그 (2017-12-25) 에서 이동된 문서입니다.</a></p>\n<ul>\n<li><a href=\"#%EC%8B%9C%EA%B0%84%EC%9D%B4-%EC%A7%80%EB%82%A8%EC%97%90-%EB%94%B0%EB%9D%BC-%EC%B5%9C%EC%8B%A0-%EA%B8%B0%EC%88%A0%EA%B3%BC-%EB%8B%A4%EB%A5%BC-%EC%88%98-%EC%9E%88%EC%9C%BC%EB%8B%88-%EC%A3%BC%EC%9D%98-%EB%B0%94%EB%9E%8D%EB%8B%88%EB%8B%A4\">시간이 지남에 따라 최신 기술과 다를 수 있으니 주의 바랍니다.</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%95%88%EB%93%9C%EB%A1%9C%EC%9D%B4%EB%93%9C%EC%97%90%EC%84%9C-fcm-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0\">안드로이드에서 FCM 설정하기</a></p>\n<ul>\n<li>\n<p><a href=\"#1-firebase-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EB%A7%8C%EB%93%A4%EA%B8%B0\">1. Firebase 프로젝트 만들기</a></p>\n</li>\n<li>\n<p><a href=\"#2-dependencies-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0\">2. Dependencies 설정하기</a></p>\n</li>\n<li>\n<p><a href=\"#4-fcm-%EC%B2%98%EB%A6%AC%EB%A5%BC-%EC%9C%84%ED%95%9C-%EC%84%9C%EB%B9%84%EC%8A%A4-%ED%81%B4%EB%9E%98%EC%8A%A4-%EC%9E%91%EC%84%B1\">4. FCM 처리를 위한 서비스 클래스 작성</a></p>\n<ul>\n<li><a href=\"#%EC%95%8C%EB%A6%BC-%EC%88%98%EC%8B%A0-%EC%97%AC%EB%B6%80\">알림 수신 여부</a></li>\n<li><a href=\"#%ED%86%A0%ED%81%B0-%EC%83%9D%EC%84%B1-%EB%B0%8F-%EA%B0%B1%EC%8B%A0-%EB%B6%80%EB%B6%84\">토큰 생성 및 갱신 부분</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#5-manifest-%ED%8C%8C%EC%9D%BC-%EC%88%98%EC%A0%95\">5. Manifest 파일 수정</a></p>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%A0%95%EB%A6%AC\">정리</a></p>\n</li>\n</ul>\n</div>","frontmatter":{"date":"2017.12.25","title":"Android에서 FCM 푸시 사용하기","categories":"android","emoji":"📜"},"fields":{"slug":"/android/171225_android_fcm/"}},"site":{"siteMetadata":{"siteUrl":"https://elfinlas.github.io","comments":{"utterances":{"repo":"elfinlas/blog_utterances"}},"projects":[{"title":"마와셀(웹) - 와인 가격 비교","description":"와인 가격 비교 서비스","techStack":["Typescript","React","Next.Js","Nest.Js"],"thumbnailUrl":"myc_icon.png","links":{"post":"https://blog.naver.com/wisseraph/223393940649","github":"","web":"https://appmyc.info","googlePlay":"","appStore":""}},{"title":"마와셀(엡) - 와인과 셀러 관리, 시음노트","description":"보유한 와인의 관리, 시음노트 작성, 보유 와인 셀러의 관리 어플리케이션","techStack":["Dart","Flutter","hive","provider"],"thumbnailUrl":"myc_icon.png","links":{"post":"https://blog.naver.com/wisseraph/223531933037","github":"","web":"","googlePlay":"https://play.google.com/store/apps/details?id=dev.mhlab.myc","appStore":"https://itunes.apple.com/kr/app/apple-store/6474965246"}},{"title":"흑우집합소(웹) - 로또번호 추천 서비스","description":"로또번호 추천 서비스","techStack":["Typescript","React","Next.Js","Nest.Js"],"thumbnailUrl":"bcow_icon.png","links":{"post":"https://blog.naver.com/wisseraph/223059966682","github":"","web":"https://bcow.world/","googlePlay":"","appStore":""}},{"title":"흑우집합소(앱) - 로또번호 추천 서비스","description":"로또번호 추천 서비스","techStack":["Dart","Flutter","drift","provider"],"thumbnailUrl":"bcow_icon.png","links":{"post":"https://blog.naver.com/wisseraph/223232966579","github":"","web":"","googlePlay":"https://play.google.com/store/apps/details?id=dev.mhlab.bcow_world","appStore":"https://itunes.apple.com/kr/app/apple-store/6470312130"}}]}}},"pageContext":{"slug":"/til/171225_devnote/","nextSlug":"/spring_spring-boot/171221_jsaypt/","prevSlug":"/android/171225_android_fcm/"}},"staticQueryHashes":["1186322783","1321405810","3649515864"]}