{"componentChunkName":"component---src-templates-blog-post-js","path":"/react/221230_clipboard/","result":{"data":{"site":{"siteMetadata":{"title":"MHLab blog","author":"MHLab","siteUrl":"https://elfinlas.github.io","comment":{"disqusShortName":"","utterances":"elfinlas/blog_utterances"},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"ef071d89-68a7-562f-8cd3-f3f6f39cfd6e","excerpt":"너무 오랜만에 쓰는 포스팅 너무 오랜만에 포스팅이다… 202…","html":"<h1 id=\"너무-오랜만에-쓰는-포스팅\" style=\"position:relative;\"><a href=\"#%EB%84%88%EB%AC%B4-%EC%98%A4%EB%9E%9C%EB%A7%8C%EC%97%90-%EC%93%B0%EB%8A%94-%ED%8F%AC%EC%8A%A4%ED%8C%85\" aria-label=\"너무 오랜만에 쓰는 포스팅 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>너무 오랜만에 쓰는 포스팅</h1>\n<p>너무 오랜만에 포스팅이다…<br>\n2022년에는 너무 많은 일이 있었다.<br>\n갤러리 구경, 고프로 사서 이것저것 찍기, 취미 사진 촬영, 와인, 취미 개발 등등..<br>\n게다가 연말엔 위메이드 &#x26; 코드스테이츠 주관 블록체인 개발자 인가 그거까지 진행하게 되어서 바쁘게 흘렀다.</p>\n<p>이렇게 보내다 보니 개발 블로그를 손을 놓게 되었다.<br>\n남들처럼 정상적인 삶(?)이 아니다 보니… 온라인에 시간을 할애하기가 어려웠다.<br>\n그래도 새해가 되어 다시 마음을 잡고자 한번 시간을 내어 포스팅을 해보자 라는 생각으로 글을 남기게 되었다.<br>\n각설하고…</p>\n<h2 id=\"클립보드를-react에서-활용하는-법\" style=\"position:relative;\"><a href=\"#%ED%81%B4%EB%A6%BD%EB%B3%B4%EB%93%9C%EB%A5%BC-react%EC%97%90%EC%84%9C-%ED%99%9C%EC%9A%A9%ED%95%98%EB%8A%94-%EB%B2%95\" aria-label=\"클립보드를 react에서 활용하는 법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>클립보드를 React에서 활용하는 법</h2>\n<p>클립보드를 사용하는 법은 두 가지가 있다.</p>\n<ol>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Navigator/clipboard\">Clipboard-Api</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document/queryCommandSupported\">Document.queryCommandSupported</a></li>\n</ol>\n<p>그런데 2번 방법은 이제 <strong>Deprecated</strong> 된다</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 830px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 62.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACP0lEQVQoz02T6VbiQBCF8xIj2RMw+wYCAWQLQhQwzKIcBwSdM0fH93+EO1WtMvPjO/fWreqmkzSS47p4PB6x2+/xeDjg+PyE++1W6Ge+e9wLPT4/4/B0xMvrK/68veH3ywt+7ndCf9zd4cvZGSRD0+AoGuqKigarrJKnTDdOatcU0Rc9wjqT4RomzjUdtqyIzNEMWLoOKbBsbP0M64sevuVDrFtdwarZxTJt45byVdZB1e5Tnot8fZFjSRn3OLtt9zC2HHi0qeSbNmZUlM0O1p0+VjRU5Zf42h+h6g2pzkV+2x0IX3XfexvqsYqM5udhBkf9OOHCcjGPW9hQo6KFVWeADS3kU1e8Wfud+1GB7XgmdENznPHMip5oRIdy+YSuaWFc9zEKE0zjTDAmPyEdBTGKpEV1KmA/+W9GzEUphn6Mtm7Te7UgNSwVk8BG3/YwaPgY1D1Bn+jRrzKDxr86N8+F59m+7Z7gNfyhJLeuokpMbLsT/FqscSyusRvOcJiW2I/nwu9HVwL2D4PpKWMVkP/ezOGr9MgObVg0LFw5Cdb05ZZJGzfxBa6jlvDMddgUcH5DeemnWPLMR14G9BpMF4Fh0z00dER0uWM/QOi45D0k5GPPFzVrGoQiY40/eqxZGIksOHdQp/tq8D00TROXl0NczecoZjPMFwuUZYlFucC0KJCk6Yk0SxHFMcIoQpwkaLZayJoZXM+DrMhQNRWSTruGQQCPwjAMT54JyCuKglqtBlmWT/oJ1wzPaPSPY/4CpMl7zCYX658AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img01\"\n        title=\"img01\"\n        src=\"/static/ab4128d14e9f69edb20fdeda1d27b5db/715a3/img01.png\"\n        srcset=\"/static/ab4128d14e9f69edb20fdeda1d27b5db/5a46d/img01.png 300w,\n/static/ab4128d14e9f69edb20fdeda1d27b5db/0a47e/img01.png 600w,\n/static/ab4128d14e9f69edb20fdeda1d27b5db/715a3/img01.png 830w\"\n        sizes=\"(max-width: 830px) 100vw, 830px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>그래서 1번 방법을 사용하는 것이 좋다.<br>\n나의 경우 UI에서 특정 버튼을 클릭하면 해당 텍스트를 클립보드로 변경시키는 것을 적용하였는데 코드는 아래와 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token comment\">//특정 UI</span>\n<span class=\"token operator\">...</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span>\n  <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>some class text<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">evnet4ClipCopy</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"복사할 테스트 값\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span>\n<span class=\"token punctuation\">></span></span><span class=\"token plain-text\">복사하기</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n<span class=\"token operator\">...</span>\n\n\n<span class=\"token comment\">//위에서 호출하는 함수</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">evnet4ClipCopy</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>text<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">ClipBoardCopy</span><span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>아래는 저 <strong>ClipBoardCopy</strong> 컴포넌트이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">import</span> Swal <span class=\"token keyword\">from</span> <span class=\"token string\">'sweetalert2'</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">ClipBoardCopy</span><span class=\"token punctuation\">(</span>text<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">showAlert</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>title<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> isError<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">boolean</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    Swal<span class=\"token punctuation\">.</span><span class=\"token function\">fire</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      title<span class=\"token operator\">:</span> title<span class=\"token punctuation\">,</span>\n      icon<span class=\"token operator\">:</span> isError <span class=\"token operator\">?</span> <span class=\"token string\">'error'</span> <span class=\"token operator\">:</span> <span class=\"token string\">'success'</span><span class=\"token punctuation\">,</span>\n      showConfirmButton<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n      timer<span class=\"token operator\">:</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// 흐음 1.</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>navigator<span class=\"token punctuation\">.</span>clipboard<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// (IE는 사용 못하고, 크롬은 66버전 이상일때 사용 가능합니다.)</span>\n    navigator<span class=\"token punctuation\">.</span>clipboard\n      <span class=\"token punctuation\">.</span><span class=\"token function\">writeText</span><span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">showAlert</span><span class=\"token punctuation\">(</span><span class=\"token string\">'클립보드에 복사되었습니다.'</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">showAlert</span><span class=\"token punctuation\">(</span><span class=\"token string\">'복사를 다시 시도해주세요.'</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 흐름 2.</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">queryCommandSupported</span><span class=\"token punctuation\">(</span><span class=\"token string\">'copy'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      Swal<span class=\"token punctuation\">.</span><span class=\"token function\">fire</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        icon<span class=\"token operator\">:</span> <span class=\"token string\">'error'</span><span class=\"token punctuation\">,</span>\n        title<span class=\"token operator\">:</span>\n          <span class=\"token string\">'복사하기가 지원되지 않는 &lt;br> 브라우저입니다. &lt;br> 하단 내용을 참고하세요.'</span><span class=\"token punctuation\">,</span>\n        footer<span class=\"token operator\">:</span> text<span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n      <span class=\"token keyword\">return</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">// 흐름 3.</span>\n    <span class=\"token keyword\">const</span> textarea <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'textarea'</span><span class=\"token punctuation\">)</span>\n    textarea<span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> text\n    textarea<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>top <span class=\"token operator\">=</span> <span class=\"token string\">'0'</span>\n    textarea<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>left <span class=\"token operator\">=</span> <span class=\"token string\">'0'</span>\n    textarea<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>position <span class=\"token operator\">=</span> <span class=\"token string\">'fixed'</span>\n\n    <span class=\"token comment\">// 흐름 4.</span>\n    document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>textarea<span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// focus() -> 사파리 브라우저 서포팅</span>\n    textarea<span class=\"token punctuation\">.</span><span class=\"token function\">focus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// select() -> 사용자가 입력한 내용을 영역을 설정할 때 필요</span>\n    textarea<span class=\"token punctuation\">.</span><span class=\"token function\">select</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// 흐름 5.</span>\n    document<span class=\"token punctuation\">.</span><span class=\"token function\">execCommand</span><span class=\"token punctuation\">(</span><span class=\"token string\">'copy'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// 흐름 6.</span>\n    document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">removeChild</span><span class=\"token punctuation\">(</span>textarea<span class=\"token punctuation\">)</span>\n    <span class=\"token function\">showAlert</span><span class=\"token punctuation\">(</span><span class=\"token string\">'클립보드에 복사되었습니다.'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>이렇게 구현을 하면 잘 동작한다.</p>\n<br>\n<h3 id=\"참고\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0\" aria-label=\"참고 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>참고</h3>\n<p>위 코드는 아래 블로그를 보고 참고하였다.<br>\n좋은 글을 남겨주신 블로거님께 감사 드리며…</p>\n<p><a href=\"https://kyounghwan01.github.io/blog/React/clipboard-copy/#%EC%98%88%EC%8B%9C-%EC%BD%94%EB%93%9C\">참고 블로그</a></p>","frontmatter":{"title":"React에서 클립보드로 텍스트 복사하기","date":"December 30, 2022"}}},"pageContext":{"slug":"/react/221230_clipboard/","previous":{"fields":{"slug":"/next-js/221106_nextjs-use-select-error-default-value/"},"frontmatter":{"title":"NextJs에서 Select 사용 시 에러 (Use the defaultValue ...)"}},"next":{"fields":{"slug":"/next-js/230107_zustand_module_not_found/"},"frontmatter":{"title":"NextJs에서 Zustand 사용시 Module not found 문제"}}}},"staticQueryHashes":["3128451518","903436796"]}