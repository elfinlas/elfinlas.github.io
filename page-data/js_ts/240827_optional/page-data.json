{"componentChunkName":"component---src-templates-post-jsx","path":"/js_ts/240827_optional/","result":{"data":{"site":{"siteMetadata":{"title":"MHLab blog","author":"MHLab"}},"markdownRemark":{"id":"c0d5fdab-57c1-56bb-ab26-54a5efa61204","excerpt":"Dart에서 자주 쓴 Optional 간만에 글을 남긴다. 최근 마와셀 앱 업데이트 후 와인 정보를 위해 웹쪽을 다시 개발하고 있다. 코로나 걸려서 잠시 쉬다가, 침대에서 빈둥거리기도 시간이 아까워서 누워있다가, 옵시디언에 정리해둔 내용을 올려둔다. 웹(Typescript…","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/95bf3555554f492f0636500f50d6e883/29007/thumbnail_jsts.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.44171779141104%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACTklEQVR42mMwrDwORFolR7VKQcig4phG8RHt0qNGYHE0ZFx1TKv0DBClT1167Fgmg0HFcZPqEyETLgT0ng/sPW9acyJ55hUgW6/8mBGqNt3yU2rF50K7N2zdW/zlns/3B14M+hXHLOtOLj369NXHH1N2Plx36sXuS29yF1zXrzhuBNOmX3FCtfica8uuhZsb3t4K+PHA882tACBiMKo6rlMG0n/yznvNkiMTtj84dP1dUN953bJjxlUgzUBtFrWHelb0Pboa/uuhx7vbAa9uBr277f/hjh8D0HigOueW02fvfbBtOOXQfHrBwaen7n7QrziqXnLWoOJE+bxZV88l/HnsAVT95nbQh7sBQAYEMQDNBnrPpuEU0M1AzzesvbPu1LO0ubdVik6nTFl+5FgW0JFAHz68GPDuTuCTiz4Pz3l/uoekGYgMKkGON6o6pllyUqXonFfrho27yz7f9fl23+v1zcD3dwI7G+02LXUpzrHqbrR7dd33410kzcBQMa4+qVZ83qV5z/xNze/vBP984AEMEqD3Ptzx//bQv7rEZuVc58QYizXzXT7f93sPsRloG9DbaqBQOdKxvP/hlcg/jzze3/aHhArQhhdXfZ9e9inNtdq33u3ETo+oMLOty11/Pwt4d8uPQaPkrF7FyZI5cy6dSQQG5sc7fkBtb8GB+f6235cH/ndOeeemW5XlW+/f6AYkCzItT+3y+P7IHyjLkDhp5YEjOd/BoQLU9uZWIDwwQfrv+AEd+fyyz6trvt8f+z887/Pssu83sM4Pd/wAaOyGjgiAZG0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"thumbnail\"\n        title=\"\"\n        src=\"/static/95bf3555554f492f0636500f50d6e883/a6d36/thumbnail_jsts.png\"\n        srcset=\"/static/95bf3555554f492f0636500f50d6e883/222b7/thumbnail_jsts.png 163w,\n/static/95bf3555554f492f0636500f50d6e883/ff46a/thumbnail_jsts.png 325w,\n/static/95bf3555554f492f0636500f50d6e883/a6d36/thumbnail_jsts.png 650w,\n/static/95bf3555554f492f0636500f50d6e883/e548f/thumbnail_jsts.png 975w,\n/static/95bf3555554f492f0636500f50d6e883/3c492/thumbnail_jsts.png 1300w,\n/static/95bf3555554f492f0636500f50d6e883/29007/thumbnail_jsts.png 1600w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h2 id=\"dart에서-자주-쓴-optional\" style=\"position:relative;\"><a href=\"#dart%EC%97%90%EC%84%9C-%EC%9E%90%EC%A3%BC-%EC%93%B4-optional\" aria-label=\"dart에서 자주 쓴 optional permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Dart에서 자주 쓴 Optional</h2>\n<p>간만에 글을 남긴다.<br>\n최근 마와셀 앱 업데이트 후 와인 정보를 위해 웹쪽을 다시 개발하고 있다.</p>\n<p>코로나 걸려서 잠시 쉬다가, 침대에서 빈둥거리기도 시간이 아까워서 누워있다가,<br>\n옵시디언에 정리해둔 내용을 올려둔다.</p>\n<p>웹(Typescript)을 개발하다가 앱(Dart)로 넘어갔을 때 Typescript와 매우 흡사해서 바로 사용하는데 큰 문제는 없었다.<br>\n그 중 Dart의 유용한 기능 중 하나가 옵셔널(Optional)이었다.</p>\n<p>Dart의 경우 버전이 올라가면서 Null-Safe한 특성이 추가되었는데,<br>\n아래와 같이 사용된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"dart\"><pre class=\"language-dart\"><code class=\"language-dart\"><span class=\"token class-name\">WineModel</span> <span class=\"token function\">getWineData</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token operator\">?</span> wineItemId<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>그렇다.<br>\n이 기능은 Typescript에도 존재하는 기능이다.</p>\n<p>Javascript를 사용할 때는 뭐 그냥 null이던 undefined던 타입 체킹을 안하고,<br>\n무식하게(?) 그냥 쓰기에 볼 일이 없지만, Typescript를 사용한다면 타입 명시가 중요하다.</p>\n<p>근데 사용하다 보면 특정 값의 속성이 있어도, 없어도 무관한 값이 있다.<br>\n그 경우 옵셔널(Optional)을 사용하게 된다.</p>\n<br>\n<h3 id=\"옵셔널-속성-optional-property\" style=\"position:relative;\"><a href=\"#%EC%98%B5%EC%85%94%EB%84%90-%EC%86%8D%EC%84%B1-optional-property\" aria-label=\"옵셔널 속성 optional property permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>옵셔널 속성 (Optional Property)</h3>\n<p>나같은 경우 타입을 지정할 때 인터페이스를 사용한다.<br>\n그 안의 속성에 옵셔널을 지정할 때 위에서 보인 Dart와 동일하게 <b>?</b>를 사용한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">WineryInfo</span> <span class=\"token punctuation\">{</span>\n  wineryName<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span>\n  description<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span>\n  country<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span>\n  address<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>이렇게 선언된 타입을 사용한다면 아래와 같이 사용된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">const</span> mollydookerWineryInfo<span class=\"token operator\">:</span> WineryInfo <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  wineryName<span class=\"token operator\">:</span> <span class=\"token string\">\"Mollydooker\"</span><span class=\"token punctuation\">,</span>\n  description<span class=\"token operator\">:</span> <span class=\"token string\">\"The best of australia winery.\"</span><span class=\"token punctuation\">,</span>\n  country<span class=\"token operator\">:</span> <span class=\"token string\">\"Australia\"</span><span class=\"token punctuation\">,</span>\n  address<span class=\"token operator\">:</span> <span class=\"token string\">\"McLaren Vale\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>몰리두커라고 내가 좋아하는 와이너리가 있는데 이렇게 표현할 수 있다.<br>\n근데 만약 Address 정보가 불명인 와이너리 정보가 있다고 가정해보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">const</span> krugWineryInfo<span class=\"token operator\">:</span> WineryInfo <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  wineryName<span class=\"token operator\">:</span> <span class=\"token string\">\"krug\"</span><span class=\"token punctuation\">,</span>\n  description<span class=\"token operator\">:</span>\n    <span class=\"token string\">\"The House of Krug was founded in Reims by Joseph Krug, a visionary non-conformist with an uncompromising philosophy. His dream was to go beyond the notion of vintage and craft the very best Champagne he could offer, every single year, regardless of climate variations\"</span><span class=\"token punctuation\">,</span>\n  country<span class=\"token operator\">:</span> <span class=\"token string\">\"France\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>샴페인의 끝판왕인 크룩 와이너리 정보다.<br>\n크룩 와이너리의 경우 주소(address) 속성이 없다.<br>\n하지만 address의 경우 옵셔널(Optional) 값이기에 없어도 무방하다.</p>\n<br>\n<h3 id=\"옵셔널-매개변수-optional-parameter\" style=\"position:relative;\"><a href=\"#%EC%98%B5%EC%85%94%EB%84%90-%EB%A7%A4%EA%B0%9C%EB%B3%80%EC%88%98-optional-parameter\" aria-label=\"옵셔널 매개변수 optional parameter permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>옵셔널 매개변수 (Optional Parameter)</h3>\n<p>함수나 메서드에 전달되는 매개변수(Parameter)에도 옵셔널을 사용할 수 있다.<br>\n이 경우 값이 없을 때 <strong>undefined</strong>로 처리된다.</p>\n<p>약간 억지스러운 예제이긴 한데.. -_-;;<br>\n와인 정보를 가져오는 함수가 있다고 하자.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">const</span> getWineInfo <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span>wineName<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> wineDes<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> WineInfo <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> wineData <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">getWineData</span><span class=\"token punctuation\">(</span>wineName<span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> wineData<span class=\"token punctuation\">,</span> description<span class=\"token operator\">:</span> wineDes <span class=\"token operator\">||</span> <span class=\"token string\">\"-\"</span> <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>저기서 보면 <strong>wineDes</strong>라는 파라메터가 옵셔널하여 주는 값에 따라 반환 값이 변한다.<br>\n만약 wineDes 값이 없다면 하이픈(-) 표시로 대체해서 적용된다.</p>\n<br>\n<h3 id=\"옵셔널-체이닝-optional-chaining\" style=\"position:relative;\"><a href=\"#%EC%98%B5%EC%85%94%EB%84%90-%EC%B2%B4%EC%9D%B4%EB%8B%9D-optional-chaining\" aria-label=\"옵셔널 체이닝 optional chaining permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>옵셔널 체이닝 (Optional Chaining)</h3>\n<p>이 문법은 Typescript 3.7 부터 도입되었다.<br>\n해당 객체의 속성 또는 함수(또는 메서드)가 없는 경우 <strong>undefined</strong>를 반환하는 방법을 제공한다.</p>\n<p>아래의 예제 코드를 보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">const</span> someWineData <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  itemId<span class=\"token operator\">:</span> <span class=\"token string\">\"france_wine_0000001\"</span><span class=\"token punctuation\">,</span>\n  wineName<span class=\"token operator\">:</span> <span class=\"token string\">\"Blanc d'Assemblage Brut Nature Champagne\"</span><span class=\"token punctuation\">,</span>\n  wineType<span class=\"token operator\">:</span> <span class=\"token string\">\"Champagne\"</span><span class=\"token punctuation\">,</span>\n  wineryInfo<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    wineryName<span class=\"token operator\">:</span> <span class=\"token string\">\"Chavost\"</span><span class=\"token punctuation\">,</span>\n    wineryDes<span class=\"token operator\">:</span>\n      <span class=\"token string\">\"Our Champagnes are singular and atypical wines, their own identity comes from a mastered vinification, and the absolute absence of added sulphites.\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> wineName <span class=\"token operator\">=</span> someWineData<span class=\"token punctuation\">.</span>wineName\n<span class=\"token keyword\">const</span> wineryAddress <span class=\"token operator\">=</span> someWineData<span class=\"token punctuation\">.</span>wineryInfo<span class=\"token punctuation\">.</span>address</code></pre></div>\n<p>여기서 <strong>wineName</strong>속성의 경우 값이 있어서 Blanc d'Assemblage Brut Nature Champagne 라는 값이 정상적으로 출력된다.</p>\n<p>하지만 <strong>wineryAddress</strong>속성의 경우 wineryInfo안에 address 값은 존재하지 않기에 undefined가 반환된다.</p>\n<p>옵셔널 체이닝은 다음과 같은 상황에서 유용하다.</p>\n<ul>\n<li>중첩된 객체의 속성에 접근할 때 해당 속성이 존재하는지 알 수 없는 경우</li>\n<li>함수(메서드)가 존재하지 않을 수 있는 객체에서 메서드를 호출할 때</li>\n</ul>\n<br>\n<h3 id=\"널-병합-연산자--nullish-coalescing-operator\" style=\"position:relative;\"><a href=\"#%EB%84%90-%EB%B3%91%ED%95%A9-%EC%97%B0%EC%82%B0%EC%9E%90--nullish-coalescing-operator\" aria-label=\"널 병합 연산자  nullish coalescing operator permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>널 병합 연산자 (??) (Nullish Coalescing Operator)</h3>\n<p>?를 하나만 사용하면 삼항연산자인데 하나 더 붙이면 널 병합 연산자가 된다.<br>\ndart에서 아주 잘 쓰고 있는 문법 중 하나인데 아래와 같이 사용할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">function</span> <span class=\"token function\">getWineInfo</span><span class=\"token punctuation\">(</span>wineModel<span class=\"token operator\">:</span> WineModel<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> WineInfo <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n    wineName<span class=\"token operator\">:</span> wineModel<span class=\"token punctuation\">.</span>wineName<span class=\"token punctuation\">,</span>\n    wineDes<span class=\"token operator\">:</span> wineModel<span class=\"token operator\">?.</span>wineDes <span class=\"token operator\">??</span> <span class=\"token string\">\"some wine.\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>저 함수를 보면 WineInfo라는 객체를 반환한다.<br>\n근데 <strong>wineDes</strong>속성의 경우 모델 값이 없다면 기본 값을 대신 넣어준다.</p>\n<br>\n<h3 id=\"옵셔널-반환-타입-optional-return-type\" style=\"position:relative;\"><a href=\"#%EC%98%B5%EC%85%94%EB%84%90-%EB%B0%98%ED%99%98-%ED%83%80%EC%9E%85-optional-return-type\" aria-label=\"옵셔널 반환 타입 optional return type permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>옵셔널 반환 타입 (Optional Return Type)</h3>\n<p>데이터베이스에서 값을 조회할 때 해당 값이 없을 수도 있다.<br>\nReact 예제를 가져올까 했는데 딱 떠오르는게 없고 해서 백엔드 쪽으로...<br>\n(이것도 약간 어거지 코드다.)</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MyWineFindWineNameRepository</span>\n  <span class=\"token keyword\">implements</span> <span class=\"token class-name\">MyWineFindWineNameOutboundPort</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span>\n    <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">InjectModel</span></span><span class=\"token punctuation\">(</span>MyWine<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">readonly</span> myWineEntity<span class=\"token operator\">:</span> Model<span class=\"token operator\">&lt;</span>MyWine<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">async</span> <span class=\"token function\">execute</span><span class=\"token punctuation\">(</span>\n    params<span class=\"token operator\">:</span> MyWineFindWineNameInputDto\n  <span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span>MyWineEntity <span class=\"token operator\">|</span> <span class=\"token keyword\">null</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>params<span class=\"token punctuation\">.</span>wineNameKr <span class=\"token operator\">!==</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>myWineEntity<span class=\"token punctuation\">.</span><span class=\"token function\">findOne</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> wineNameKr<span class=\"token operator\">:</span> params<span class=\"token punctuation\">.</span>wineNameKr <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">exec</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>myWineEntity<span class=\"token punctuation\">.</span><span class=\"token function\">findOne</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> wineNameEn<span class=\"token operator\">:</span> params<span class=\"token punctuation\">.</span>wineNameEn <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">exec</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">/// 기타 작업 후</span>\n<span class=\"token comment\">///...</span>\n\n<span class=\"token keyword\">const</span> wines <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>myWineFindWineNameRepository<span class=\"token punctuation\">.</span><span class=\"token function\">execute</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> wineNameEn <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>wines<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Found wines:\"</span><span class=\"token punctuation\">,</span> wines<span class=\"token punctuation\">.</span>wineNameEn<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Not found wine\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>약간 어거지 코드이긴 한데..<br>\n와인 이름을 검색해서 특정 조건에서 값을 찾을 수 없다면, 반환 타입에 undefined를 포함시킬 수 있다.</p>\n<p>사실 이렇게 안히고, Repository에서는 저렇게 반환하고,<br>\nInbound 서비스 단에서 와인 데이터 유무를 확인하여 처리할 수 있다.</p>\n<h2 id=\"요약\" style=\"position:relative;\"><a href=\"#%EC%9A%94%EC%95%BD\" aria-label=\"요약 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>요약</h2>\n<p>옵셔널을 요약하면 다음과 같다.</p>\n<ul>\n<li>?를 사용해 옵션 속성 또는 매개변수를 선언할 수 있다.</li>\n<li>옵셔널 체이닝(?.)으로 안전하게 객체의 속성에 접근할 수 있다.</li>\n<li>?? 연산자를 사용해 null 또는 undefined인 경우 기본값을 설정할 수 있다.</li>\n<li>옵셔널 속성이나 매개변수를 사용할 때 기본값 설정, 조건문, 옵셔널 체이닝 등을 활용해 안전하게 처리해야 한다.</li>\n</ul>\n<p>옵시디언에 썼던 자료에 살 붙이고 하니 글이 늘었다.<br>\n게다가 코로나 약 기운이 돌아서 나중에 다시 검수해야 할듯...</p>\n<div class=\"gatsby-highlight\" data-language=\"toc\"><pre class=\"language-toc\"><code class=\"language-toc\"></code></pre></div>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#dart%EC%97%90%EC%84%9C-%EC%9E%90%EC%A3%BC-%EC%93%B4-optional\">Dart에서 자주 쓴 Optional</a></p>\n<ul>\n<li><a href=\"#%EC%98%B5%EC%85%94%EB%84%90-%EC%86%8D%EC%84%B1-optional-property\">옵셔널 속성 (Optional Property)</a></li>\n<li><a href=\"#%EC%98%B5%EC%85%94%EB%84%90-%EB%A7%A4%EA%B0%9C%EB%B3%80%EC%88%98-optional-parameter\">옵셔널 매개변수 (Optional Parameter)</a></li>\n<li><a href=\"#%EC%98%B5%EC%85%94%EB%84%90-%EC%B2%B4%EC%9D%B4%EB%8B%9D-optional-chaining\">옵셔널 체이닝 (Optional Chaining)</a></li>\n<li><a href=\"#%EB%84%90-%EB%B3%91%ED%95%A9-%EC%97%B0%EC%82%B0%EC%9E%90--nullish-coalescing-operator\">널 병합 연산자 (??) (Nullish Coalescing Operator)</a></li>\n<li><a href=\"#%EC%98%B5%EC%85%94%EB%84%90-%EB%B0%98%ED%99%98-%ED%83%80%EC%9E%85-optional-return-type\">옵셔널 반환 타입 (Optional Return Type)</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%9A%94%EC%95%BD\">요약</a></p>\n</li>\n</ul>","frontmatter":{"title":"Typescript에서 옵셔널(Optional) 사용하기","description":null,"date":"August 27, 2024","tags":["Typescript","VSCode"],"series":"JS_TS","previewImage":"typescript_logo.png","isPrivate":null,"writer":null}},"previous":{"fields":{"slug":"/dart_flutter/240814_ios-photo/"},"frontmatter":{"title":"Flutter에서 이미지를 다룰 때 iOS의 경로 문제 (Stored image is missing)","isPrivate":null}},"next":{"fields":{"slug":"/default/about/"},"frontmatter":{"title":"About","isPrivate":null}}},"pageContext":{"id":"c0d5fdab-57c1-56bb-ab26-54a5efa61204","previousPostId":"302a4eb3-6b8c-56ee-8bc5-b5f43fd3914f","nextPostId":"a610d702-6834-5c7b-88d7-8b4283f2dabb"}},"staticQueryHashes":[],"slicesMap":{}}