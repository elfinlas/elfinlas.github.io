{"componentChunkName":"component---src-templates-post-template-index-tsx","path":"/letsencrypt/211105_renew-certbot/","result":{"data":{"cur":{"id":"2566194b-f6e1-5b49-a7af-29358ee6c811","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAECAwX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHt01Eg/8QAFxABAQEBAAAAAAAAAAAAAAAAAQIAIP/aAAgBAQABBQKlMVXP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGRAAAQUAAAAAAAAAAAAAAAAAIQABAhEg/9oACAEBAAY/Ag1oxz//xAAbEAABBAMAAAAAAAAAAAAAAAARAAEgIUFRkf/aAAgBAQABPyEAUn4szvUf/9oADAMBAAIAAwAAABAwD//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABoQAQEAAgMAAAAAAAAAAAAAAAERACEgMXH/2gAIAQEAAT8QCuYMTSdtxKAa1BD3fH//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/bb33e76bd9db94cffcc5ccf708664183/7c297/thumbnail.webp 180w,\n/static/bb33e76bd9db94cffcc5ccf708664183/33ecc/thumbnail.webp 360w,\n/static/bb33e76bd9db94cffcc5ccf708664183/df77d/thumbnail.webp 720w,\n/static/bb33e76bd9db94cffcc5ccf708664183/5c666/thumbnail.webp 1080w,\n/static/bb33e76bd9db94cffcc5ccf708664183/95f20/thumbnail.webp 1440w,\n/static/bb33e76bd9db94cffcc5ccf708664183/0b34d/thumbnail.webp 1920w\"\n              sizes=\"(max-width: 720px) 100vw, 720px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/bb33e76bd9db94cffcc5ccf708664183/98e5d/thumbnail.jpg 180w,\n/static/bb33e76bd9db94cffcc5ccf708664183/543cd/thumbnail.jpg 360w,\n/static/bb33e76bd9db94cffcc5ccf708664183/20801/thumbnail.jpg 720w,\n/static/bb33e76bd9db94cffcc5ccf708664183/b37e7/thumbnail.jpg 1080w,\n/static/bb33e76bd9db94cffcc5ccf708664183/33266/thumbnail.jpg 1440w,\n/static/bb33e76bd9db94cffcc5ccf708664183/aaf92/thumbnail.jpg 1920w\"\n            sizes=\"(max-width: 720px) 100vw, 720px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/bb33e76bd9db94cffcc5ccf708664183/20801/thumbnail.jpg\"\n            alt=\"thumbnail\"\n            title=\"thumbnail\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<h1 id=\"220925-ë‚´ìš©-ì¶”ê°€\" style=\"position:relative;\"><a href=\"#220925-%EB%82%B4%EC%9A%A9-%EC%B6%94%EA%B0%80\" aria-label=\"220925 ë‚´ìš© ì¶”ê°€ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>22.09.25 ë‚´ìš© ì¶”ê°€</h1>\n<p>ì—¬ê¸°ì„œ ì§„í–‰í•œ ë°©ì‹ì˜ ê²½ìš° <strong>standalone</strong> ë°©ì‹ì´ë‹¤.<br>\nì´ ë°©ì‹ì€ 80í¬íŠ¸ë¥¼ ê°•ì œë¡œ ë‚´ë ¤ì„œ ì¸ì¦ ëŒ€ìƒì´ ì§„ì§œ ì‚¬ìš©í•˜ëŠ” ì„œë¹„ìŠ¤ì¸ì§€ë¥¼ ì²´í¬í•˜ê¸°ì— ë§¤ìš° ë¹„íš¨ìœ¨ì ì¸ ë°©ì‹ì´ë‹¤.</p>\n<p>ìµœê·¼ ë°©ì‹ì˜ ê²½ìš° Webrootë‚˜ DNS ì¸ì¦ì„ ì‚¬ìš©í•˜ëŠ”ë°, ì´ë²ˆì— DNS ì¸ì¦ì— ëŒ€í•˜ì—¬ í¬ìŠ¤íŒ…ì„ ì§„í–‰í–ˆë‹¤.<br>\nWebrootë„ ì‚¬ìš©í•˜ì§€ë§Œ ì™€ì¼ë“œì¹´ë“œ(ex: *.api.com ë“±) ì¸ì¦ì´ ë¶ˆê°€í•˜ê¸° ë•Œë¬¸ì— DNS ì¸ì¦ì„ ì‚¬ìš©í•  ê²ƒì„ ì¶”ì²œí•œë‹¤.<br>\nDNS ì¸ì¦ ë°©ì‹ì´ í•„ìš”í•œ ê²½ìš° ì•„ë˜ í¬ìŠ¤íŒ…ì„ ì°¸ê³ í•˜ì.</p>\n<p><a href=\"https://elfinlas.github.io/letsencrypt/220923_use-letsencrypt\">LetsEncrypt ì ìš©ë²• (DNS ì¸ì¦ &#x26; AWS)</a></p>\n<br>\n<h2 id=\"letsencrypt-ìœ íš¨ê¸°ê°„\" style=\"position:relative;\"><a href=\"#letsencrypt-%EC%9C%A0%ED%9A%A8%EA%B8%B0%EA%B0%84\" aria-label=\"letsencrypt ìœ íš¨ê¸°ê°„ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Letâ€™sEncrypt ìœ íš¨ê¸°ê°„?</h2>\n<blockquote>\n<p>í˜¹ì‹œ ì•„ì§ Letâ€™sEncryptë¥¼ ì„¤ì¹˜í•˜ì§€ ì•Šìœ¼ì‹  ë¶„ì´ë¼ë©´ <a href=\"https://elfinlas.github.io/letsencrypt/211105_letsencrypt-install/\">Letâ€™sEncrypt ì„¤ì¹˜í›„ AWSì— ì ìš©í•˜ê¸°</a> ì— ì„¤ì¹˜ë²•ì„ ì°¸ê³ í•˜ì‹œê¸¸ ë°”ë€ë‹¤</p>\n</blockquote>\n<p>Letâ€™sEncryptëŠ” ë¬´ë£Œì¸ ëŒ€ì‹ ì— ì¸ì¦ì„œë¥¼ ì£¼ê¸°ì ìœ¼ë¡œ ì¸ì¦í•´ì¤˜ì•¼ í•œë‹¤<br>\nê·¸ë˜ì„œ ë³´í†µ ì´ê²ƒì„ í¬ë¡ íƒ­ìœ¼ë¡œ ì²˜ë¦¬í•´ì„œ í¸í•˜ê²Œ ê°„ë‹¤.</p>\n<p>ê²½ê°ì‹¬(?)ì„ ìœ„í•´ ì§ì ‘ ê°±ì‹ í•˜ëŠ” ë¶„(?)ë„ ë´¤ì§€ë§Œâ€¦ìë™ìœ¼ë¡œ í•˜ëŠ”ê²Œ ì •ì‹  ê±´ê°•ì— ì¢‹ë‹¤..<br>\në¬¼ë¡  LetsEncrypt íŒ€ì—ì„œ ë©”ì¼ì„ ì£¼ê¸°ë„ í•œë‹¤. (ë§Œë£Œ 10ì¼ì „, ë‹¹ì¼) ì´ë ‡ê²Œ?</p>\n<br>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 39.44444444444444%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABsElEQVQoz3WRyY7UMBCG8z7cQeLpuM5lxNyQkFjEBR6A6xxaQhwQ3KaX6YbO5nScxXbs9OYk/48ccRoJS59KVqlcrq+iutFMMoG6rpgLwSzLeDgc6L3nMAwIcRzHPclvAL6TfCD5iuQzki8BvCD53Hv/83w+M/LXK7RSFEL4LMve5nl+m6bprZTyjbX2Yq3l6XT6QfIjgC8APgP4BOA9gA8A3oU7ySNJRrmb8Kc5Ubc1mqbVSqnWGNMCUCQRAMBpmv5LyIfG1lpExh1pj2eE2mEYwngzT85EciA5/mN4yjiOCI9HvbNTEseDEGIoy9IXReGrqgpxCD6LooAQObRq6WxH23XsnWVnDI3R88+6rqNzjsYYRkoprlYrbrfbmc1mM7PebPiwXGK9XnO1fuTvRDAVJeOsYJwdmArJNC+ZJEnwz7IseTweGfV9/2u3290IIe7iOH4dx/Hdfr+/ESL/2jb17FYZi9JcWagLD/pKoa4stKfsPOu6Ye/crCm4jC6XS15V1b2UctE0zUJW1aKu5L3Up6V0pHRAaSfUbqLpLFVb0xpNo1sGDWFCrfW8nLDlv2m2VXnYzij9AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/23bd11ee4136eab350fd4b6e5d41bae8/7c297/img_01.webp 180w,\n/static/23bd11ee4136eab350fd4b6e5d41bae8/33ecc/img_01.webp 360w,\n/static/23bd11ee4136eab350fd4b6e5d41bae8/df77d/img_01.webp 720w,\n/static/23bd11ee4136eab350fd4b6e5d41bae8/5c666/img_01.webp 1080w,\n/static/23bd11ee4136eab350fd4b6e5d41bae8/95f20/img_01.webp 1440w,\n/static/23bd11ee4136eab350fd4b6e5d41bae8/a3b48/img_01.webp 1534w\"\n              sizes=\"(max-width: 720px) 100vw, 720px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/23bd11ee4136eab350fd4b6e5d41bae8/e9ea2/img_01.png 180w,\n/static/23bd11ee4136eab350fd4b6e5d41bae8/53918/img_01.png 360w,\n/static/23bd11ee4136eab350fd4b6e5d41bae8/242a6/img_01.png 720w,\n/static/23bd11ee4136eab350fd4b6e5d41bae8/b4ad3/img_01.png 1080w,\n/static/23bd11ee4136eab350fd4b6e5d41bae8/89066/img_01.png 1440w,\n/static/23bd11ee4136eab350fd4b6e5d41bae8/68141/img_01.png 1534w\"\n            sizes=\"(max-width: 720px) 100vw, 720px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/23bd11ee4136eab350fd4b6e5d41bae8/242a6/img_01.png\"\n            alt=\"img 01\"\n            title=\"img 01\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<br>\n<p>ì €ë²ˆì— í¬ë¡ íƒ­ìœ¼ë¡œ í•´ë’€ëŠ”ë° ë­”ê°€ ì˜ëª» ê±´ë“¤ì—¬ì„œ ì‹¤í–‰ì´ ì•ˆë˜ì–´ ì´ë²ˆì— ë‹¤ì‹œ ì…‹íŒ…í•˜ê²Œ ë˜ì—ˆê³  ë‚´ìš©ì„ ì •ë¦¬í•´ì„œ ì˜¬ë ¤ë³¸ë‹¤.</p>\n<h2 id=\"letsencrypt-crontab-ì ìš©í•´ë³´ê¸°\" style=\"position:relative;\"><a href=\"#letsencrypt-crontab-%EC%A0%81%EC%9A%A9%ED%95%B4%EB%B3%B4%EA%B8%B0\" aria-label=\"letsencrypt crontab ì ìš©í•´ë³´ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Letâ€™sEncrypt Crontab ì ìš©í•´ë³´ê¸°</h2>\n<h3 id=\"ê°±ì‹ -ê¸°ê°„-ì—¬ë¶€-í™•ì¸\" style=\"position:relative;\"><a href=\"#%EA%B0%B1%EC%8B%A0-%EA%B8%B0%EA%B0%84-%EC%97%AC%EB%B6%80-%ED%99%95%EC%9D%B8\" aria-label=\"ê°±ì‹  ê¸°ê°„ ì—¬ë¶€ í™•ì¸ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê°±ì‹  ê¸°ê°„ ì—¬ë¶€ í™•ì¸</h3>\n<p>LetsEncrypt ì¸ì¦ì„œëŠ” 90ì¼ ìœ íš¨í•˜ë©°, ë§Œë£Œ 20ì¼ ì „ë¶€í„° ê°±ì‹ ì´ ê°€ëŠ¥í•˜ë‹¤.<br>\nê°±ì‹ ì´ ê°€ëŠ¥í•œì§€ ì—¬ë¶€ëŠ” ì•„ë˜ì˜ ëª…ë ¹ì–´ë¥¼ í†µí•´ í™•ì¸ì´ ê°€ëŠ¥í•˜ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">> sudo certbot certificates</code></pre></div>\n<p>ì•„ë˜ëŠ” ì»¤ë§¨ë“œ í›„ ê²°ê³¼ ì˜ˆì‹œì´ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">ubuntu@:~$ sudo certbot certificates\nSaving debug log to /your/letsencrypt/path/letsencrypt.log\n\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\nFound the following certs:\n  Certificate Name: dev.net\n    Serial Number: 22233344URSerialNumber\n    Key Type: RSA\n    Domains: dev.net\n    Expiry Date: 2123-12-31 00:00:00+00:00 (VALID: 89 days)\n    Certificate Path: /your/letsencrypt/path/fullchain.pem\n    Private Key Path: /your/letsencrypt/path/privkey.pem\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</code></pre></div>\n<p>ì¸ì¦ ê¸°ê°„ì´ 20ì¼ ì´í•˜ë©´ ê°€ëŠ¥í•˜ë‹¤.</p>\n<h3 id=\"ê°±ì‹ -ì—¬ë¶€-í™•ì¸\" style=\"position:relative;\"><a href=\"#%EA%B0%B1%EC%8B%A0-%EC%97%AC%EB%B6%80-%ED%99%95%EC%9D%B8\" aria-label=\"ê°±ì‹  ì—¬ë¶€ í™•ì¸ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê°±ì‹  ì—¬ë¶€ í™•ì¸</h3>\n<p>ë¨¼ì € ê°±ì‹ ì´ ì œëŒ€ë¡œ ë˜ëŠ”ì§€ í…ŒìŠ¤íŠ¸ë¥¼ í•´ë³´ë ¤ë©´ ì•„ë˜ì˜ ëª…ë ¹ì–´ë¥¼ ìˆ˜í–‰í•´ë³¸ë‹¤</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">> sudo certbot renew --pre-hook \"service nginx stop\" --post-hook \"service nginx start\" --dry-run</code></pre></div>\n<p>ë¯¸ë“¤ì›¨ì–´ëŠ” ìì‹ ì´ ë§ëŠ”ê±°ë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤. (í•„ìëŠ” nginx)<br>\në’¤ì— â€”dry-run ì´ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•˜ê²Œ í•´ì£¼ëŠ” ì˜µì…˜ì´ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">ubuntu@:~$ sudo certbot renew --pre-hook \"service nginx stop\" --post-hook \"service nginx start\" --dry-run\nSaving debug log to /your/letsencrypt/path/letsencrypt.log\n\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\nProcessing /your/letsencrypt/path/renewal/dev.net.conf\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\nSimulating renewal of an existing certificate for dev.net\n\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\nCongratulations, all simulated renewals succeeded:\n  /your/letsencrypt/path/live/dev.net/fullchain.pem (success)\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</code></pre></div>\n<p>ìœ„ì™€ ê°™ì´ ì¶•í•˜í•œë‹¤ê³  ëœ¨ë©´ ì¸ì¦í•˜ëŠ”ë° ë¬¸ì œê°€ ì—†ë‹¤ëŠ” ëœ»ì´ë‹¤.</p>\n<blockquote>\n<p>PS : ë§Œì•½ ì¸ì¦ì´ ì•ˆëœë‹¤ê³  ëœ¨ê³  ì—ëŸ¬ì— ë‹¤ìŒê³¼ ê°™ì€ êµ¬ë¬¸(produced an unexpected error The manual plugin is not working) ì´ ìˆëŠ” ê²½ìš° <a href=\"https://elfinlas.github.io/letsencrypt/211105_renew-certbot\">ì´ê³³</a>ì„ ì°¸ê³ í•˜ì.</p>\n</blockquote>\n<br>\n<h3 id=\"ê°±ì‹ -ì²˜ë¦¬-with-crontab\" style=\"position:relative;\"><a href=\"#%EA%B0%B1%EC%8B%A0-%EC%B2%98%EB%A6%AC-with-crontab\" aria-label=\"ê°±ì‹  ì²˜ë¦¬ with crontab permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê°±ì‹  ì²˜ë¦¬ (With crontab)</h3>\n<p>ë¨¼ì € í¬ë¡ íƒ­ì„ ì—´ì–´ ì‘ì„±í•´ì£¼ê³ â€¦</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">> crontab -e</code></pre></div>\n<p>ë§Œì•½ í¬ë¡ íƒ­ì´ ë¨¼ì € ì„ ë“±ë¡ ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•˜ë ¤ë©´..</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">> cat /etc/crontab -> ë“±ë¡ëœ í¬ë¡ íƒ­ í™•ì¸</code></pre></div>\n<p>ë¨¼ì € ë‚œ 3ê°œì›”ë§ˆë‹¤ ë§¤ 1ì¼ì— ìŠ¤í¬ë¦½íŠ¸ë¥¼ ìˆ˜í–‰í•˜ê²Œ í•´ì¤¬ë‹¤.<br>\ní¬ë¡ íƒ­ ëª…ë ¹ì–´ëŠ” ì•„ë˜ì™€ ê°™ì´ ì‘ì„±í–ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">> 1 0 1 1-12/3 * sudo certbot renew --pre-hook \"service nginx stop\" --post-hook \"service nginx start\" >> /mylog/letsencrypt/log/$(date '+%Y%m%d').log</code></pre></div>\n<p>ê·¸ë¦¬ê³  ë§ˆì§€ë§‰ìœ¼ë¡œ í¬ë¡ íƒ­ì„ ì¬ì‹œì‘ í•´ì¤€ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">> sudo service cron restart</code></pre></div>\n<p>ê·¸ëŸ¼ ì´ì œ ì •ìƒì ìœ¼ë¡œ ë“±ë¡ì´ ëœ ê²ƒì´ë‹¤.</p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#letsencrypt-%EC%9C%A0%ED%9A%A8%EA%B8%B0%EA%B0%84\">Letâ€™sEncrypt ìœ íš¨ê¸°ê°„?</a></p>\n</li>\n<li>\n<p><a href=\"#letsencrypt-crontab-%EC%A0%81%EC%9A%A9%ED%95%B4%EB%B3%B4%EA%B8%B0\">Letâ€™sEncrypt Crontab ì ìš©í•´ë³´ê¸°</a></p>\n<ul>\n<li><a href=\"#%EA%B0%B1%EC%8B%A0-%EA%B8%B0%EA%B0%84-%EC%97%AC%EB%B6%80-%ED%99%95%EC%9D%B8\">ê°±ì‹  ê¸°ê°„ ì—¬ë¶€ í™•ì¸</a></li>\n<li><a href=\"#%EA%B0%B1%EC%8B%A0-%EC%97%AC%EB%B6%80-%ED%99%95%EC%9D%B8\">ê°±ì‹  ì—¬ë¶€ í™•ì¸</a></li>\n<li><a href=\"#%EA%B0%B1%EC%8B%A0-%EC%B2%98%EB%A6%AC-with-crontab\">ê°±ì‹  ì²˜ë¦¬ (With crontab)</a></li>\n</ul>\n</li>\n</ul>\n</div>","excerpt":"22.09.25 ë‚´ìš© ì¶”ê°€ ì—¬ê¸°ì„œ ì§„í–‰í•œ ë°©ì‹ì˜ ê²½ìš° standalone ë°©ì‹ì´ë‹¤. ì´ ë°©ì‹ì€ 80í¬íŠ¸ë¥¼ ê°•ì œë¡œ ë‚´ë ¤ì„œ ì¸ì¦ ëŒ€ìƒì´ ì§„ì§œ ì‚¬ìš©í•˜ëŠ” ì„œë¹„ìŠ¤ì¸ì§€ë¥¼ ì²´í¬í•˜ê¸°ì— ë§¤ìš° ë¹„íš¨ìœ¨ì ì¸ ë°©ì‹ì´ë‹¤. ìµœê·¼ ë°©ì‹ì˜ ê²½ìš° Webrootë‚˜ DNS ì¸ì¦ì„ ì‚¬ìš©í•˜ëŠ”ë°, ì´ë²ˆì— DNS ì¸ì¦ì— ëŒ€í•˜ì—¬ í¬ìŠ¤íŒ…ì„ ì§„í–‰í–ˆë‹¤. Webrootë„ ì‚¬ìš©í•˜ì§€ë§Œ ì™€ì¼ë“œì¹´ë“œ(ex: *.api.com ë“±) ì¸ì¦ì´ ë¶ˆê°€í•˜ê¸° ë•Œë¬¸ì— DNS ì¸ì¦ì„ ì‚¬ìš©í•  ê²ƒì„ ì¶”ì²œí•œë‹¤. DNS ì¸ì¦ ë°©ì‹ì´ í•„ìš”í•œ ê²½ìš° ì•„ë˜ í¬ìŠ¤íŒ…ì„ ì°¸ê³ í•˜ì. LetsEncrypt ì ìš©ë²• (DNS ì¸ì¦ & AWS) Letâ€™sEncrypt ìœ íš¨ê¸°ê°„? í˜¹ì‹œ ì•„ì§ Letâ€™sEncryptë¥¼ ì„¤ì¹˜í•˜ì§€ ì•Šìœ¼ì‹  ë¶„ì´ë¼ë©´ Letâ€™sEncrypt ì„¤ì¹˜í›„ AWSì— ì ìš©í•˜ê¸° ì— ì„¤ì¹˜ë²•ì„ ì°¸ê³ í•˜ì‹œê¸¸ ë°”ë€ë‹¤ Letâ€™sEncryptëŠ” ë¬´ë£Œì¸ ëŒ€ì‹ ì— ì¸ì¦ì„œë¥¼ ì£¼ê¸°ì ìœ¼ë¡œ ì¸ì¦í•´ì¤˜ì•¼ í•œë‹¤ ê·¸ë˜ì„œ ë³´í†µ ì´ê²ƒì„ í¬ë¡ íƒ­ìœ¼ë¡œ ì²˜ë¦¬í•´ì„œ í¸í•˜ê²Œ ê°„ë‹¤. ê²½ê°ì‹¬(?)ì„ ìœ„í•´ ì§ì ‘ ê°±ì‹ í•˜ëŠ” ë¶„(?)ë„â€¦","frontmatter":{"date":"2021.11.05","title":"Let'sEncrypt ìë™ ê°±ì‹  ì²˜ë¦¬í•˜ê¸°","categories":"letsencrypt","emoji":"ğŸ“œ"},"fields":{"slug":"/letsencrypt/211105_renew-certbot/"}},"next":{"id":"2d0422b5-7da2-5d90-80ae-03f6b55dc41c","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAECAwX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHt01Eg/8QAFxABAQEBAAAAAAAAAAAAAAAAAQIAIP/aAAgBAQABBQKlMVXP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGRAAAQUAAAAAAAAAAAAAAAAAIQABAhEg/9oACAEBAAY/Ag1oxz//xAAbEAABBAMAAAAAAAAAAAAAAAARAAEgIUFRkf/aAAgBAQABPyEAUn4szvUf/9oADAMBAAIAAwAAABAwD//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABoQAQEAAgMAAAAAAAAAAAAAAAERACEgMXH/2gAIAQEAAT8QCuYMTSdtxKAa1BD3fH//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/bb33e76bd9db94cffcc5ccf708664183/7c297/thumbnail.webp 180w,\n/static/bb33e76bd9db94cffcc5ccf708664183/33ecc/thumbnail.webp 360w,\n/static/bb33e76bd9db94cffcc5ccf708664183/df77d/thumbnail.webp 720w,\n/static/bb33e76bd9db94cffcc5ccf708664183/5c666/thumbnail.webp 1080w,\n/static/bb33e76bd9db94cffcc5ccf708664183/95f20/thumbnail.webp 1440w,\n/static/bb33e76bd9db94cffcc5ccf708664183/0b34d/thumbnail.webp 1920w\"\n              sizes=\"(max-width: 720px) 100vw, 720px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/bb33e76bd9db94cffcc5ccf708664183/98e5d/thumbnail.jpg 180w,\n/static/bb33e76bd9db94cffcc5ccf708664183/543cd/thumbnail.jpg 360w,\n/static/bb33e76bd9db94cffcc5ccf708664183/20801/thumbnail.jpg 720w,\n/static/bb33e76bd9db94cffcc5ccf708664183/b37e7/thumbnail.jpg 1080w,\n/static/bb33e76bd9db94cffcc5ccf708664183/33266/thumbnail.jpg 1440w,\n/static/bb33e76bd9db94cffcc5ccf708664183/aaf92/thumbnail.jpg 1920w\"\n            sizes=\"(max-width: 720px) 100vw, 720px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/bb33e76bd9db94cffcc5ccf708664183/20801/thumbnail.jpg\"\n            alt=\"thumbnail\"\n            title=\"thumbnail\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<h1 id=\"220925-ë‚´ìš©-ì¶”ê°€\" style=\"position:relative;\"><a href=\"#220925-%EB%82%B4%EC%9A%A9-%EC%B6%94%EA%B0%80\" aria-label=\"220925 ë‚´ìš© ì¶”ê°€ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>22.09.25 ë‚´ìš© ì¶”ê°€</h1>\n<p>ì—¬ê¸°ì„œ ì§„í–‰í•œ ë°©ì‹ì˜ ê²½ìš° <strong>standalone</strong> ë°©ì‹ì´ë‹¤.<br>\nì´ ë°©ì‹ì€ 80í¬íŠ¸ë¥¼ ê°•ì œë¡œ ë‚´ë ¤ì„œ ì¸ì¦ ëŒ€ìƒì´ ì§„ì§œ ì‚¬ìš©í•˜ëŠ” ì„œë¹„ìŠ¤ì¸ì§€ë¥¼ ì²´í¬í•˜ê¸°ì— ë§¤ìš° ë¹„íš¨ìœ¨ì ì¸ ë°©ì‹ì´ë‹¤.</p>\n<p>ìµœê·¼ ë°©ì‹ì˜ ê²½ìš° Webrootë‚˜ DNS ì¸ì¦ì„ ì‚¬ìš©í•˜ëŠ”ë°, ì´ë²ˆì— DNS ì¸ì¦ì— ëŒ€í•˜ì—¬ í¬ìŠ¤íŒ…ì„ ì§„í–‰í–ˆë‹¤.<br>\nWebrootë„ ì‚¬ìš©í•˜ì§€ë§Œ ì™€ì¼ë“œì¹´ë“œ(ex: *.api.com ë“±) ì¸ì¦ì´ ë¶ˆê°€í•˜ê¸° ë•Œë¬¸ì— DNS ì¸ì¦ì„ ì‚¬ìš©í•  ê²ƒì„ ì¶”ì²œí•œë‹¤.<br>\nDNS ì¸ì¦ ë°©ì‹ì´ í•„ìš”í•œ ê²½ìš° ì•„ë˜ í¬ìŠ¤íŒ…ì„ ì°¸ê³ í•˜ì.</p>\n<p><a href=\"https://elfinlas.github.io/letsencrypt/220923_use-letsencrypt\">LetsEncrypt ì ìš©ë²• (DNS ì¸ì¦ &#x26; AWS)</a></p>\n<br>\n<h2 id=\"letsencrypt\" style=\"position:relative;\"><a href=\"#letsencrypt\" aria-label=\"letsencrypt permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Letâ€™sEncrypt?</h2>\n<p>ì´ë²ˆì— ì„œë¹„ìŠ¤ë¥¼ ì¤€ë¹„í•˜ë©´ì„œ EC2ì—ì„œ í•˜ë‚˜ì”© ì˜¬ë ¤ì„œ í•´ë³´ê¸°ë¡œ í–ˆë‹¤.</p>\n<p>ì‚¬ì‹¤ AWS ê¸°ë°˜ì´ë¼ ë¡œë“œë²¨ëŸ°ì„œì— ì¸ì¦ì„œ ë¬¼ë¦¬ë©´ ë˜ëŠ”ë°â€¦<br>\nì „ì— í•´ë³´ë˜ê²Œ ìƒê° ë‚˜ê¸°ë„ í–ˆê³ ..</p>\n<p>ì¼ë‹¨ ì„œë¹„ìŠ¤ ê·œëª¨ê°€ ë” ì»¤ì§€ë©´ ê·¸ ë•Œ ì•ˆì •ì ìœ¼ë¡œ ê°€ê³  ì§€ê¸ˆì€ ë¹Œë“œì—… ìˆ˜ì¤€ìœ¼ë¡œ í•´ë³´ê¸°ë¡œ í–ˆë‹¤.</p>\n<p>ì¼ë‹¨ ë­ <strong>Letâ€™sEncrypt</strong>ì— ëŒ€í•œ ìì„¸í•œ ê²ƒì€ ì´ë¯¸ ì•Œê³  ìˆë‹¤ëŠ” ê°€ì • í•˜ì— ë°”ë¡œ ì„¤ì¹˜ë²•ë¶€í„° ë“¤ì–´ê°„ë‹¤.</p>\n<p>ê·¸ ì „ì— í™˜ê²½ì€..</p>\n<blockquote>\n<p>AWS ê¸°ë°˜ EC2 Ubuntu 20.04 LTS ê¸°ì¤€ìœ¼ë¡œ ì‘ì—…ì„ ì§„í–‰<br>\nNginx ì‚¬ìš© &#x3C;- ì¤‘ìš”í•˜ì§„ ì•ŠìŒ</p>\n</blockquote>\n<br>\n<h3 id=\"part-1-ì„¤ì¹˜-ì»¤ë§¨ë“œ\" style=\"position:relative;\"><a href=\"#part-1-%EC%84%A4%EC%B9%98-%EC%BB%A4%EB%A7%A8%EB%93%9C\" aria-label=\"part 1 ì„¤ì¹˜ ì»¤ë§¨ë“œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Part 1 ì„¤ì¹˜ ì»¤ë§¨ë“œ</h3>\n<p>ì•„ë˜ì˜ ì»¤ë§¨ë“œë¡œ í•˜ë‚˜ì”© ì§„í–‰í•˜ì˜€ë‹¤</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo apt update\nsudo snap install core; sudo snap refresh core\nsudo apt-get remove certbot\nsudo snap install --classic certbot # ì„¤ì¹˜\nsudo ln -s /snap/bin/certbot /usr/bin/certbot # ë§í¬\nsudo certbot certonly --email [ì¸ì¦ì— ì‚¬ìš©í•  ì´ë©”ì¼] --standalone -d [ì ìš©í•  ë„ë©”ì¸]  ì‹¤í–‰</code></pre></div>\n<p>ì»¤ë§¨ë“œ ì„¤ëª…ì€ ì•„ë˜ì™€ ê°™ë‹¤</p>\n<p>1ë²ˆ : ì„¤ì¹˜ ì „ ì—…ë°ì´íŠ¸ ì²˜ë¦¬<br>\n2ë²ˆ : í•„ìš”í•œ ê²ƒë“¤ ì„¤ì¹˜<br>\n3ë²ˆ : ê¸°ì¡´ì— ì„¤ì¹˜ëœ certbotì´ ìˆë‹¤ë©´ ì œê±°<br>\n4ë²ˆ : certbot ì„¤ì¹˜<br>\n5ë²ˆ : ì‹¬ë³¼ë¦­ ë§í¬ ìƒì„±<br>\n6ë²ˆ ì¸ì¦ì„œ ë§Œë“œëŠ”ë° emailì€ ì¸ì¦ì— ëŒ€í•œ ëŒ€í‘œì ë©”ì¼(í•„ìëŠ” ì£¼ë¡œ ì“°ëŠ” ë©”ì¼ ì‚¬ìš©)ì„ ì ê³  -dëŠ” ì ìš©í•  ë„ë©”ì¸ì„ ì ì–´ì¤€ë‹¤ (elfinlas.io.xx ë“±)</p>\n<p>6ë²ˆ ëª…ë ¹ì–´ ì´í›„ ì•„ë˜ì™€ ê°™ì´ ëœ¨ë©´ ì •ìƒì ìœ¼ë¡œ ëœ ê²ƒì´ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">ubuntu@ip$ sudo certbot certonly --email test@test.com --standalone -d dev.net\nSaving debug log to /your/some/path/letsencrypt.log\nRequesting a certificate for dev.net\n\nSuccessfully received certificate.\nCertificate is saved at: /your/some/path/letsencrypt/live/dev.net/fullchain.pem\nKey is saved at:         /your/some/path/letsencrypt/live/dev.net/privkey.pem\nThis certificate expires on 9999-99-99. &lt;= ì—¬ê¸´ ì¸ì¦ê¸°ê°„ì€ 3ê°œì›”ì¸ê°€ ì¤˜ì„œ ì‚¬ëŒë§ˆë‹¤ í‹€ë¦¼\nThese files will be updated when the certificate renews.\nCertbot has set up a scheduled task to automatically renew this certificate in the background.\n\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\nIf you like Certbot, please consider supporting our work by:\n * Donating to ISRG / Let's Encrypt:   https://letsencrypt.org/donate\n * Donating to EFF:                    https://eff.org/donate-le\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n</code></pre></div>\n<blockquote>\n<p>ì»¤ë§¨ë“œì— ëŒ€í•´ ì¢€ë” ì„¤ëª…ì´ í•„ìš”í•œ ë¶„ì€ <a href=\"https://certbot.eff.org/lets-encrypt/ubuntufocal-other\">ì´ê³³</a> ì—ì„œ ì§ì ‘ í™•ì¸í•´ë³´ì</p>\n</blockquote>\n<h3 id=\"part-2-aws-ì‘ì—…\" style=\"position:relative;\"><a href=\"#part-2-aws-%EC%9E%91%EC%97%85\" aria-label=\"part 2 aws ì‘ì—… permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Part 2 AWS ì‘ì—…</h3>\n<p>ì´ë ‡ê²Œ ì§„í–‰í•˜ê³  ë‚˜ì„œ AWS ì½˜ì†”ë¡œ ê°€ì¤€ë‹¤.<br>\nì½˜ì†”ì—ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì ˆì°¨ë¡œ ì§„í–‰í•œë‹¤.</p>\n<ol>\n<li>AWS ì½˜ì†”ì—ì„œ Certificate Manager ì´ë™</li>\n<li>ì¸ì¦ì„œ ì„ íƒì—ì„œ ê° í•­ëª©ì— í•´ë‹¹ í•˜ëŠ” ê°’ì„ ê°€ì ¸ì˜¨ë‹¤. (ì•„ê¹Œ ìƒì„±í•œ pem íŒŒì¼ì„ ì‚¬ìš©)\n<ol>\n<li>ì¸ì¦ì„œ ë³¸ë¬¸ => cert.pem</li>\n<li>ì¸ì¦ì„œ í”„ë¼ì´ë¹— => privkey.pem</li>\n<li>ì¸ì¦ì„œ ì²´ì¸ => fullchain.pem</li>\n</ol>\n</li>\n<li>ë§ˆë¬´ë¦¬ í•˜ë©´ ec2ì— ì ‘ì†í•´ì„œ ì½˜ì†”ì—ì„œ ì•„ë´ì™€ ê°™ì´ nginxë¥¼ ì¬ì‹œì‘ í•´ì¤€ë‹¤.\n<ol>\n<li>sudo service nginx restart</li>\n</ol>\n</li>\n</ol>\n<br>\n<p>ì•„ë§ˆ ë‹¤ë¥¸ ë¸”ë¡œê·¸ì—ì„œëŠ” ì„¤ì¹˜ë²•ë§Œ ë‚˜ì˜¤ê³  ë³´í†µ AWS ì„¤ëª…ë„ ì•½ê°„ ë¶€ì‹¤í–ˆëŠ”ë° ì§ì ‘ ì°¾ì•„ë³´ê³  ì ìš©í•œ ë°©ë²•ì´ë‹¤.</p>\n<p>ê·¸ë¦¬ê³  ê¸°ë°˜ì€ nginx ì¸ë° ì•„íŒŒì¹˜ ì“°ê±°ë‚˜ ë‹¤ë¥¸ ë¯¸ë“¤ì›¨ì–´ ì“°ì‹œëŠ” ë¶„ë“¤ì€ ë˜‘ê°™ì´ ì„œë¹„ìŠ¤ë§Œ ì¬ì‹œì‘ í•˜ë©´ ëœë‹¤.</p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#letsencrypt\">Letâ€™sEncrypt?</a></p>\n<ul>\n<li><a href=\"#part-1-%EC%84%A4%EC%B9%98-%EC%BB%A4%EB%A7%A8%EB%93%9C\">Part 1 ì„¤ì¹˜ ì»¤ë§¨ë“œ</a></li>\n<li><a href=\"#part-2-aws-%EC%9E%91%EC%97%85\">Part 2 AWS ì‘ì—…</a></li>\n</ul>\n</li>\n</ul>\n</div>","frontmatter":{"date":"2021.11.04","title":"Let'sEncrypt ì„¤ì¹˜í›„ AWSì— ì ìš©í•˜ê¸°","categories":"letsencrypt","emoji":"ğŸ“œ"},"fields":{"slug":"/letsencrypt/211105_letsencrypt-install/"}},"prev":{"id":"3183e4df-fdca-56fe-b1fd-42790afd4a53","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAECAwX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHt01Eg/8QAFxABAQEBAAAAAAAAAAAAAAAAAQIAIP/aAAgBAQABBQKlMVXP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGRAAAQUAAAAAAAAAAAAAAAAAIQABAhEg/9oACAEBAAY/Ag1oxz//xAAbEAABBAMAAAAAAAAAAAAAAAARAAEgIUFRkf/aAAgBAQABPyEAUn4szvUf/9oADAMBAAIAAwAAABAwD//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABoQAQEAAgMAAAAAAAAAAAAAAAERACEgMXH/2gAIAQEAAT8QCuYMTSdtxKAa1BD3fH//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/bb33e76bd9db94cffcc5ccf708664183/7c297/thumbnail.webp 180w,\n/static/bb33e76bd9db94cffcc5ccf708664183/33ecc/thumbnail.webp 360w,\n/static/bb33e76bd9db94cffcc5ccf708664183/df77d/thumbnail.webp 720w,\n/static/bb33e76bd9db94cffcc5ccf708664183/5c666/thumbnail.webp 1080w,\n/static/bb33e76bd9db94cffcc5ccf708664183/95f20/thumbnail.webp 1440w,\n/static/bb33e76bd9db94cffcc5ccf708664183/0b34d/thumbnail.webp 1920w\"\n              sizes=\"(max-width: 720px) 100vw, 720px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/bb33e76bd9db94cffcc5ccf708664183/98e5d/thumbnail.jpg 180w,\n/static/bb33e76bd9db94cffcc5ccf708664183/543cd/thumbnail.jpg 360w,\n/static/bb33e76bd9db94cffcc5ccf708664183/20801/thumbnail.jpg 720w,\n/static/bb33e76bd9db94cffcc5ccf708664183/b37e7/thumbnail.jpg 1080w,\n/static/bb33e76bd9db94cffcc5ccf708664183/33266/thumbnail.jpg 1440w,\n/static/bb33e76bd9db94cffcc5ccf708664183/aaf92/thumbnail.jpg 1920w\"\n            sizes=\"(max-width: 720px) 100vw, 720px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/bb33e76bd9db94cffcc5ccf708664183/20801/thumbnail.jpg\"\n            alt=\"thumbnail\"\n            title=\"thumbnail\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<h1 id=\"220925-ë‚´ìš©-ì¶”ê°€\" style=\"position:relative;\"><a href=\"#220925-%EB%82%B4%EC%9A%A9-%EC%B6%94%EA%B0%80\" aria-label=\"220925 ë‚´ìš© ì¶”ê°€ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>22.09.25 ë‚´ìš© ì¶”ê°€</h1>\n<p>ì—¬ê¸°ì„œ ì§„í–‰í•œ ë°©ì‹ì˜ ê²½ìš° <strong>standalone</strong> ë°©ì‹ì´ë‹¤.<br>\nì´ ë°©ì‹ì€ 80í¬íŠ¸ë¥¼ ê°•ì œë¡œ ë‚´ë ¤ì„œ ì¸ì¦ ëŒ€ìƒì´ ì§„ì§œ ì‚¬ìš©í•˜ëŠ” ì„œë¹„ìŠ¤ì¸ì§€ë¥¼ ì²´í¬í•˜ê¸°ì— ë§¤ìš° ë¹„íš¨ìœ¨ì ì¸ ë°©ì‹ì´ë‹¤.</p>\n<p>ìµœê·¼ ë°©ì‹ì˜ ê²½ìš° Webrootë‚˜ DNS ì¸ì¦ì„ ì‚¬ìš©í•˜ëŠ”ë°, ì´ë²ˆì— DNS ì¸ì¦ì— ëŒ€í•˜ì—¬ í¬ìŠ¤íŒ…ì„ ì§„í–‰í–ˆë‹¤.<br>\nWebrootë„ ì‚¬ìš©í•˜ì§€ë§Œ ì™€ì¼ë“œì¹´ë“œ(ex: *.api.com ë“±) ì¸ì¦ì´ ë¶ˆê°€í•˜ê¸° ë•Œë¬¸ì— DNS ì¸ì¦ì„ ì‚¬ìš©í•  ê²ƒì„ ì¶”ì²œí•œë‹¤.<br>\nDNS ì¸ì¦ ë°©ì‹ì´ í•„ìš”í•œ ê²½ìš° ì•„ë˜ í¬ìŠ¤íŒ…ì„ ì°¸ê³ í•˜ì.</p>\n<p><a href=\"https://elfinlas.github.io/letsencrypt/220923_use-letsencrypt\">LetsEncrypt ì ìš©ë²• (DNS ì¸ì¦ &#x26; AWS)</a></p>\n<br>\n<h2 id=\"letsencrypt-ê°±ì‹ ì´-ë¶ˆê°€ëŠ¥\" style=\"position:relative;\"><a href=\"#letsencrypt-%EA%B0%B1%EC%8B%A0%EC%9D%B4-%EB%B6%88%EA%B0%80%EB%8A%A5\" aria-label=\"letsencrypt ê°±ì‹ ì´ ë¶ˆê°€ëŠ¥ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Letâ€™sEncrypt ê°±ì‹ ì´ ë¶ˆê°€ëŠ¥??</h2>\n<p>Letâ€™sEncryptë¥¼ ì ìš©í•˜ê³  ë‚˜ì„œ ê°±ì‹  í…ŒìŠ¤íŠ¸ë¥¼ í•´ë³´ëŠ”ë° ì´ìƒí•œ ì—ëŸ¬ë¥¼ ë§ˆì£¼í–ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Attempting to renew cert (dev.net) from /your/letsencrypt/path/renewal/dev.net.conf produced an unexpected error: The manual plugin is not working; there may be problems with your existing configuration.\n\nThe error was: PluginError('An authentication script must be provided with --manual-auth-hook when using the manual plugin non-interactively.'). Skipping.\nAll renewal attempts failed. The following certs could not be renewed:\n  /your/letsencrypt/path/live/dev.net/fullchain.pem (failure)</code></pre></div>\n<p>ì•„ ë­ê°€ ì´ë ‡ê²Œ ì•ˆë˜ì§€? ë¼ê³  ì‚½ì§ˆí–ˆì—ˆìœ¼ë‚˜â€¦<br>\nì´ê²ƒì €ê²ƒ ì°¾ì•„ë³¸ ê²°ê³¼ ì•„ë˜ì˜ ë¬¸ì œê°€ ì›ì¸ì´ì—ˆë‹¤</p>\n<blockquote>\n<p>ì›ì¸ì€ ê°±ì‹ ì„ auto ëª¨ë“œê°€ ì•„ë‹Œ manual ëª¨ë“œë¡œ ì§„í–‰í•œ ë¬¸ì œ</p>\n</blockquote>\n<p>ì›ì¸ì„ ì œê³µí–ˆë˜ ëª…ë ¹ì–´ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo certbot certonly --manual --preferred-challenges=dns --email test@test.com --server https://acme-v02.api.letsencrypt.org/directory --agree-tos --debug --no-bootstrap -d dev.net</code></pre></div>\n<p><strong>ë©”ë‰´ì–¼ ëª¨ë“œë¡œ ë§Œë“  ì¸ì¦ì„œëŠ” ìë™ìœ¼ë¡œ ê°±ì‹ ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤.</strong><br>\nê·¸ë˜ì„œ ë‚œâ€¦ë‹¤ì‹œ ì˜¤í†  ëª¨ë“œë¡œ ìƒˆë¡œ ë§Œë“¤ì—ˆë‹¤â€¦</p>\n<p>ì´ ë¬¸ì œë¥¼ ê²ªìœ¼ì‹  ë¶„ì€ ë‹¤ì‹œ ì˜¤í†  ëª¨ë“œë¡œ ë¹ ë¥´ê²Œ ì‹œì‘í•˜ëŠ”ê±¸â€¦ì¶”ì²œí•œë‹¤..\në‚œ ì–´ë–»ê²Œ í•´ë³´ë ¤ë‹¤ê°€ 1ì‹œê°„ ë§ì•„ë¨¹ì—ˆë‹¤â€¦</p>\n<ul>\n<li><a href=\"https://darkstart.tistory.com/109?category=871909\">ì°¸ê³  ë¸”ë¡œê·¸</a></li>\n</ul>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#letsencrypt-%EA%B0%B1%EC%8B%A0%EC%9D%B4-%EB%B6%88%EA%B0%80%EB%8A%A5\">Letâ€™sEncrypt ê°±ì‹ ì´ ë¶ˆê°€ëŠ¥??</a></li>\n</ul>\n</div>","frontmatter":{"date":"2021.11.05","title":"Let'sEncrypt ê°±ì‹ ì´ ë¶ˆê°€í•  ë•Œ (produced an unexpected error The manual plugin is not working)","categories":"letsencrypt","emoji":"ğŸ“œ"},"fields":{"slug":"/letsencrypt/211105_letscert-fail/"}},"site":{"siteMetadata":{"siteUrl":"https://elfinlas.github.io","comments":{"utterances":{"repo":"elfinlas/blog_utterances"}},"projects":[{"title":"ë§ˆì™€ì…€(ì›¹) - ì™€ì¸ ê°€ê²© ë¹„êµ","description":"ì™€ì¸ ê°€ê²© ë¹„êµ ì„œë¹„ìŠ¤","techStack":["Typescript","React","Next.Js","Nest.Js"],"thumbnailUrl":"myc_icon.png","links":{"post":"https://blog.naver.com/wisseraph/223393940649","github":"","web":"https://appmyc.info","googlePlay":"","appStore":""}},{"title":"ë§ˆì™€ì…€(ì—¡) - ì™€ì¸ê³¼ ì…€ëŸ¬ ê´€ë¦¬, ì‹œìŒë…¸íŠ¸","description":"ë³´ìœ í•œ ì™€ì¸ì˜ ê´€ë¦¬, ì‹œìŒë…¸íŠ¸ ì‘ì„±, ë³´ìœ  ì™€ì¸ ì…€ëŸ¬ì˜ ê´€ë¦¬ ì–´í”Œë¦¬ì¼€ì´ì…˜","techStack":["Dart","Flutter","hive","provider"],"thumbnailUrl":"myc_icon.png","links":{"post":"https://blog.naver.com/wisseraph/223531933037","github":"","web":"","googlePlay":"https://play.google.com/store/apps/details?id=dev.mhlab.myc","appStore":"https://itunes.apple.com/kr/app/apple-store/6474965246"}},{"title":"í‘ìš°ì§‘í•©ì†Œ(ì›¹) - ë¡œë˜ë²ˆí˜¸ ì¶”ì²œ ì„œë¹„ìŠ¤","description":"ë¡œë˜ë²ˆí˜¸ ì¶”ì²œ ì„œë¹„ìŠ¤","techStack":["Typescript","React","Next.Js","Nest.Js"],"thumbnailUrl":"bcow_icon.png","links":{"post":"https://blog.naver.com/wisseraph/223059966682","github":"","web":"https://bcow.world/","googlePlay":"","appStore":""}},{"title":"í‘ìš°ì§‘í•©ì†Œ(ì•±) - ë¡œë˜ë²ˆí˜¸ ì¶”ì²œ ì„œë¹„ìŠ¤","description":"ë¡œë˜ë²ˆí˜¸ ì¶”ì²œ ì„œë¹„ìŠ¤","techStack":["Dart","Flutter","drift","provider"],"thumbnailUrl":"bcow_icon.png","links":{"post":"https://blog.naver.com/wisseraph/223232966579","github":"","web":"","googlePlay":"https://play.google.com/store/apps/details?id=dev.mhlab.bcow_world","appStore":"https://itunes.apple.com/kr/app/apple-store/6470312130"}}]}}},"pageContext":{"slug":"/letsencrypt/211105_renew-certbot/","nextSlug":"/letsencrypt/211105_letsencrypt-install/","prevSlug":"/letsencrypt/211105_letscert-fail/"}},"staticQueryHashes":["1186322783","1321405810","3649515864"]}