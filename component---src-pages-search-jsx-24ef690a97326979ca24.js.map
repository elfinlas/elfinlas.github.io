{"version":3,"file":"component---src-pages-search-jsx-24ef690a97326979ca24.js","mappings":"6NAwBA,MApBe,IAAuC,IAAtC,SAAEA,EAAQ,YAAEC,EAAW,MAAEC,GAAO,EAC9C,MAAM,EAACC,EAAU,EAACC,IAAgBC,EAAAA,EAAAA,WAAS,GAE3C,OACE,gBAACC,EAAe,KACd,gBAACC,EAAK,KAAC,WACP,gBAACC,EAAK,CACJC,KAAK,OACLT,SAAUA,EACVC,YAAaA,EACbS,QAAS,IAAMN,GAAa,GAC5BO,OAAQ,IAAMP,GAAa,GAC3BD,UAAWA,IAEb,gBAACS,EAAS,CAACT,UAAWA,IACtB,gBAACU,EAAW,CAACX,MAAOA,IACJ,EAMtB,MAAMI,EAAkBQ,EAAAA,QAAOC,IAAG,8EAAVD,CAAU,sFAQ5BP,EAAQO,EAAAA,QAAOE,GAAE,oEAATF,CAAS,oIACZG,GAASA,EAAMC,MAAMC,KAAKC,OAMRH,GAASA,EAAMC,MAAMC,KAAKE,SAGjDb,EAAQM,EAAAA,QAAOQ,MAAK,oEAAZR,CAAY,ofAEfG,GAASA,EAAMC,MAAMC,KAAKC,OAIZH,GAASA,EAAMC,MAAMK,OAAOD,MAAME,SAErCP,GAASA,EAAMC,MAAMK,OAAOD,MAAMG,KAgBlDb,EAAYE,EAAAA,QAAOY,KAAI,wEAAXZ,CAAW,uIAGlB,QAAC,UAAEX,GAAW,SAAMA,EAAY,SAAW,GAAG,IAEnCc,GAASA,EAAMC,MAAMK,OAAOI,YACrC,QAAC,UAAExB,GAAW,SAAMA,EAAY,EAAI,CAAC,IAI5CU,EAAcC,EAAAA,QAAOC,IAAG,0EAAVD,CAAU,0MAMnBG,GAASA,EAAMC,MAAMC,KAAKC,OACxB,QAAC,MAAElB,GAAO,SAAgB,IAAVA,EAAc,EAAI,CAAC,IAEhC,QAAC,MAAEA,GAAO,SAAgB,IAAVA,EAAc,SAAW,SAAS,IAGlDe,GAA0B,IAAhBA,EAAMf,MAAc,gCAAmD,IAAhBe,EAAMf,MAAc,yBAAwB,aAAgBe,EAAMf,MAAK,kB,wBCrDxJ,MA7BuB,IAAe,IAAd,KAAE0B,GAAM,EAC5B,MAAMC,EAAQD,EAAKE,kBAAkBC,MAC/BC,EAAqBH,EAAMI,QAAOC,IAASA,EAAKC,YAAYC,YAE5DC,GADQC,EAAAA,aAAaC,OACPD,EAAAA,aAAaD,cAE3B,EAACG,EAAM,EAACC,IAAYpC,EAAAA,EAAAA,UAAS,MAE7BqC,GAAgBC,EAAAA,EAAAA,aACpBX,EAAmBC,QAAOC,IACxB,MAAM,YAAEC,EAAW,gBAAES,GAAoBV,GACnC,MAAEW,GAAUV,EACZW,GAAcN,GAAS,IAAIO,oBAEjC,QAAIH,EAAgBG,oBAAoBC,SAASF,IAE1CD,EAAME,oBAAoBC,SAASF,EAAW,IACnD,CAACN,EAAOX,IAGd,OACI,gBAAC,IAAU,KACT,gBAAC,IAAG,CAACgB,MAAOP,EAAAA,aAAaO,MAAOR,YAAaA,IAC7C,gBAAC,EAAM,CAACrC,SAAUiD,GAAKR,EAASQ,EAAEC,OAAOC,OAAQlD,YAAY,4BAA4BC,MAAOsC,EAAQE,EAAcU,OAAS,IAC9HZ,GAASE,EAAcU,OAAS,GAAK,gBAAC,IAAQ,CAACvB,MAAOa,IAC5C,C","sources":["webpack://gatsby-starter-default/./src/components/search/index.jsx","webpack://gatsby-starter-default/./src/pages/search.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport styled from 'styled-components';\nimport { IoIosSearch } from \"react-icons/io\";\n\nconst Search = ({ onChange, placeholder, count }) => {\n  const [isFocused, setIsFocused] = useState(false);\n\n  return (\n    <SearchContainer>\n      <Title>Search.</Title>\n      <Input\n        type=\"text\"\n        onChange={onChange}\n        placeholder={placeholder}\n        onFocus={() => setIsFocused(true)}\n        onBlur={() => setIsFocused(false)}\n        isFocused={isFocused}\n      />\n      <Underline isFocused={isFocused} />\n      <ResultCount count={count}/>\n    </SearchContainer>\n  );\n};\n\nexport default Search;\n\nconst SearchContainer = styled.div`\n  position: relative;\n  margin-top: 20px;\n  margin-bottom: 100px;\n  cursor: text;\n  max-width: 95%;\n`;\n\nconst Title = styled.h1`\n  color: ${props => props.theme.main.text}; \n  font-size: 45px;\n  font-style: italic;\n  font-weight: 700;\n  margin-bottom: 40px;\n  padding-bottom: 30px;\n  border-bottom: 1px solid ${props => props.theme.main.border}; \n`\n\nconst Input = styled.input`\n  font-size: 18px;\n  color: ${props => props.theme.main.text};\n  width: 95%;\n  height: 60px;\n  border: none;\n  border-bottom: solid ${props => props.theme.search.input.bottom} 2px;\n  padding-left: 40px;\n  background-color: ${props => props.theme.search.input.bg};\n  border-radius: 5px;\n  background-image: url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"%23888\" viewBox=\"0 0 24 24\"><path d=\"M21 19l-5-5a9 9 0 1 0-1.4 1.4l5 5 1.4-1.4zM17 9a7 7 0 1 1-14 0 7 7 0 0 1 14 0z\"/></svg>');\n  background-repeat: no-repeat;\n  background-position: 5px center; \n  background-size: 20px; \n\n  &::placeholder {\n    color: #888;\n  }\n\n  &:focus {\n    outline: none;\n  }\n`;\n\nconst Underline = styled.span`\n  position: absolute;\n  left: 0;  \n  width: ${({ isFocused }) => (isFocused ? '100.5%' : '0')};\n  height: 1.5px;\n  background-color: ${props => props.theme.search.underline};\n  opacity: ${({ isFocused }) => (isFocused ? 1 : 0)};\n  transition: width 1s ease, opacity 1s ease-in-out; \n`;\n\nconst ResultCount = styled.div`\n  position: absolute;\n  top: 170px;\n  font-size: 20px;\n  font-weight: 700;\n  margin-top: 30px;\n  color: ${props => props.theme.main.text};\n  opacity: ${({ count }) => (count === 0 ? 0 : 1)};\n  transition: opacity 1s ease-in-out, visibility 1s ease-in-out;\n  visibility: ${({ count }) => (count === 0 ? 'hidden' : 'visible')}; \n\n  &:before {\n    content: '${props => (props.count === 0 ? 'No matching posts were found.' : (props.count === 1 ? 'There is 1 post found.' : `There are ${props.count} posts found.`))}';\n  }\n`;","import React, { useCallback, useState } from \"react\"\nimport { graphql } from \"gatsby\"\nimport PageLayout from  \"../components/layout/page-component\"\nimport PostList from \"../components/postlist\"\nimport Search from \"../components/search\"\nimport Seo from \"../components/seo\"\nimport { siteMetadata } from \"../../gatsby-config\"\n\nconst SearchTemplate = ({ data }) => {\n    const posts = data.allMarkdownRemark.nodes\n    const filterPrivatePosts = posts.filter(post => !post.frontmatter.isPrivate);\n    const title = siteMetadata.author;\n    const description = siteMetadata.description;\n\n    const [query, setQuery] = useState(null) // Initialize with null\n\n    const filteredPosts = useCallback(\n      filterPrivatePosts.filter(post => {\n        const { frontmatter, rawMarkdownBody } = post\n        const { title } = frontmatter\n        const lowerQuery = (query || '').toLocaleLowerCase() // Handle null query\n\n        if (rawMarkdownBody.toLocaleLowerCase().includes(lowerQuery)) return true\n\n        return title.toLocaleLowerCase().includes(lowerQuery)\n      }), [query, posts]\n    )\n\n    return (\n        <PageLayout>\n          <Seo title={siteMetadata.title} description={description}/>\n          <Search onChange={e => setQuery(e.target.value)} placeholder=\"Enter your search keyword\" count={query ? filteredPosts.length : 0}/>  \n          {query && filteredPosts.length > 0 && <PostList posts={filteredPosts}/>}\n        </PageLayout>\n    )\n}\n\nexport default SearchTemplate\n\nexport const pageQuery = graphql`\n  query {\n    allMarkdownRemark(sort: { fields: [frontmatter___date], order: DESC }) {\n      nodes {\n        excerpt(pruneLength: 200, truncate: true)\n        fields {\n          slug\n        }\n        frontmatter {\n          date(formatString: \"MMMM DD, YYYY\")\n          title\n          description\n          tags\n          series\n          previewImage\n          isPrivate\n        }\n        rawMarkdownBody\n      }\n    }\n  }\n`"],"names":["onChange","placeholder","count","isFocused","setIsFocused","useState","SearchContainer","Title","Input","type","onFocus","onBlur","Underline","ResultCount","styled","div","h1","props","theme","main","text","border","input","search","bottom","bg","span","underline","data","posts","allMarkdownRemark","nodes","filterPrivatePosts","filter","post","frontmatter","isPrivate","description","siteMetadata","author","query","setQuery","filteredPosts","useCallback","rawMarkdownBody","title","lowerQuery","toLocaleLowerCase","includes","e","target","value","length"],"sourceRoot":""}